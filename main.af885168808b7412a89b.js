(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n("uXP2"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",u=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(u){if(n)return null;throw u}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var u=Object(r.e)(o.value,2),a=u[1],c=this.normalizeInstanceIdentifier(u[0]);try{var l=this.getOrInitializeService(c);a.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new u(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new u(t,n)))}class u{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new a(t,this.project,this.concurrent))}}class a extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),u=n("2fFW"),a=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let u=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(u=Object.create(e),Object(r.a)(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=u.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(a.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(a.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);u.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw n;Object(a.a)(n)}}__tryOrSetError(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(a.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),u=n("jZKg"),a=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[a.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[a.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),u=n("SpAZ"),a=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,u=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(u.add(s?s.call(u,this.source):this.source||a.a.useDeprecatedSynchronousErrorHandling&&!u.syncErrorThrowable?this._subscribe(u):this._trySubscribe(u)),a.a.useDeprecatedSynchronousErrorHandling&&u.syncErrorThrowable&&(u.syncErrorThrowable=!1,u.syncErrorThrown))throw u.syncErrorValue;return u}_trySubscribe(t){try{return this._subscribe(t)}catch(e){a.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?u.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=a.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.2","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),u=n("I55L"),a=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(u.a)(t))return Object(r.a)(t);if(Object(a.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function u(...t){let e=Number.POSITIVE_INFINITY,n=null,u=t[t.length-1];return Object(i.a)(u)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof u&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),u=n("Ylt2"),a=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[a.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new u.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return en}),n.d(e,"b",function(){return Ou}),n.d(e,"c",function(){return bu}),n.d(e,"d",function(){return gu}),n.d(e,"e",function(){return vu}),n.d(e,"f",function(){return ga}),n.d(e,"g",function(){return oa}),n.d(e,"h",function(){return gs}),n.d(e,"i",function(){return Ru}),n.d(e,"j",function(){return qo}),n.d(e,"k",function(){return Tu}),n.d(e,"l",function(){return Jo}),n.d(e,"m",function(){return fr}),n.d(e,"n",function(){return Zs}),n.d(e,"o",function(){return Vi}),n.d(e,"p",function(){return an}),n.d(e,"q",function(){return tn}),n.d(e,"r",function(){return eo}),n.d(e,"s",function(){return cs}),n.d(e,"t",function(){return ls}),n.d(e,"u",function(){return Su}),n.d(e,"v",function(){return Is}),n.d(e,"w",function(){return ua}),n.d(e,"x",function(){return Ts}),n.d(e,"y",function(){return ta}),n.d(e,"z",function(){return Lu}),n.d(e,"A",function(){return cn}),n.d(e,"B",function(){return _u}),n.d(e,"C",function(){return wu}),n.d(e,"D",function(){return Ko}),n.d(e,"E",function(){return $o}),n.d(e,"F",function(){return vr}),n.d(e,"G",function(){return Yo}),n.d(e,"H",function(){return ur}),n.d(e,"I",function(){return hn}),n.d(e,"J",function(){return la}),n.d(e,"K",function(){return _s}),n.d(e,"L",function(){return zu}),n.d(e,"M",function(){return nn}),n.d(e,"N",function(){return Zo}),n.d(e,"O",function(){return Xo}),n.d(e,"P",function(){return Cs}),n.d(e,"Q",function(){return L}),n.d(e,"R",function(){return ea}),n.d(e,"S",function(){return Zu}),n.d(e,"T",function(){return Xu}),n.d(e,"U",function(){return da}),n.d(e,"V",function(){return Ju}),n.d(e,"W",function(){return Eu}),n.d(e,"X",function(){return qi}),n.d(e,"Y",function(){return Lo}),n.d(e,"Z",function(){return or}),n.d(e,"ab",function(){return qn}),n.d(e,"bb",function(){return kn}),n.d(e,"cb",function(){return Rn}),n.d(e,"db",function(){return Un}),n.d(e,"eb",function(){return Dn}),n.d(e,"fb",function(){return Pn}),n.d(e,"gb",function(){return Ln}),n.d(e,"hb",function(){return No}),n.d(e,"ib",function(){return fa}),n.d(e,"jb",function(){return Ro}),n.d(e,"kb",function(){return Po}),n.d(e,"lb",function(){return Nn}),n.d(e,"mb",function(){return H}),n.d(e,"nb",function(){return so}),n.d(e,"ob",function(){return wo}),n.d(e,"pb",function(){return mo}),n.d(e,"qb",function(){return ko}),n.d(e,"rb",function(){return jt}),n.d(e,"sb",function(){return v}),n.d(e,"tb",function(){return An}),n.d(e,"ub",function(){return Et}),n.d(e,"vb",function(){return Zr}),n.d(e,"wb",function(){return lo}),n.d(e,"xb",function(){return hu}),n.d(e,"yb",function(){return Z}),n.d(e,"zb",function(){return ot}),n.d(e,"Ab",function(){return _}),n.d(e,"Bb",function(){return O}),n.d(e,"Cb",function(){return nt}),n.d(e,"Db",function(){return st}),n.d(e,"Eb",function(){return fo}),n.d(e,"Fb",function(){return yo}),n.d(e,"Gb",function(){return bo}),n.d(e,"Hb",function(){return vo}),n.d(e,"Ib",function(){return xo}),n.d(e,"Jb",function(){return _n}),n.d(e,"Kb",function(){return Xe}),n.d(e,"Lb",function(){return pu}),n.d(e,"Mb",function(){return _o}),n.d(e,"Nb",function(){return fu}),n.d(e,"Ob",function(){return $s}),n.d(e,"Pb",function(){return Ks}),n.d(e,"Qb",function(){return Ws}),n.d(e,"Rb",function(){return po}),n.d(e,"Sb",function(){return zs}),n.d(e,"Tb",function(){return Bs}),n.d(e,"Ub",function(){return lu}),n.d(e,"Vb",function(){return ar}),n.d(e,"Wb",function(){return rt}),n.d(e,"Xb",function(){return ho}),n.d(e,"Yb",function(){return So}),n.d(e,"Zb",function(){return To}),n.d(e,"ac",function(){return Io});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),u=n("7o/Q");function a(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends u.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return a()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function v(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(v).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function b(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const y=g({__forward_ref__:g});function m(t){return t.__forward_ref__=m,t.toString=function(){return v(this())},t}function w(t){return"function"==typeof(e=t)&&e.hasOwnProperty(y)&&e.__forward_ref__===m?t():t;var e}function _(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function O(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function E(t){return S(t,I)||S(t,C)}function S(t,e){return t.hasOwnProperty(e)?t[e]:null}function T(t){return t&&(t.hasOwnProperty(x)||t.hasOwnProperty(j))?t[x]:null}const I=g({"\u0275prov":g}),x=g({"\u0275inj":g}),C=g({ngInjectableDef:g}),j=g({ngInjectorDef:g});var A=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let k;function N(t){const e=k;return k=t,e}function R(t,e,n){const r=E(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&A.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${v(t)}]`)}function P(t){return{toString:t}.toString()}var D=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),L=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const U="undefined"!=typeof globalThis&&globalThis,M="undefined"!=typeof window&&window,F="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,H=U||V||M||F,q={},z=[],B=g({"\u0275cmp":g}),G=g({"\u0275dir":g}),J=g({"\u0275pipe":g}),$=g({"\u0275mod":g}),K=g({"\u0275loc":g}),W=g({"\u0275fac":g}),Y=g({__NG_ELEMENT_ID__:g});let X=0;function Z(t){return P(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===D.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||z,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||L.Emulated,id:"c",styles:t.styles||z,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=X++,n.inputs=it(t.inputs,e),n.outputs=it(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Q):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(tt):null,n})}function Q(t){return ut(t)||function(t){return t[G]||null}(t)}function tt(t){return function(t){return t[J]||null}(t)}const et={};function nt(t){const e={type:t.type,bootstrap:t.bootstrap||z,declarations:t.declarations||z,imports:t.imports||z,exports:t.exports||z,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&P(()=>{et[t.id]=t.type}),e}function rt(t,e){return P(()=>{const n=at(t,!0);n.declarations=e.declarations||z,n.imports=e.imports||z,n.exports=e.exports||z})}function it(t,e){if(null==t)return q;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const ot=Z;function st(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ut(t){return t[B]||null}function at(t,e){const n=t[$]||null;if(!n&&!0===e)throw new Error(`Type ${v(t)} does not have '\u0275mod' property.`);return n}const ct=20,lt=10;function ht(t){return Array.isArray(t)&&"object"==typeof t[1]}function ft(t){return Array.isArray(t)&&!0===t[1]}function dt(t){return 0!=(8&t.flags)}function pt(t){return 2==(2&t.flags)}function gt(t){return 1==(1&t.flags)}function vt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(W)?t[W]:null}class yt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function mt(t){return"string"==typeof t?t:null==t?"":String(t)}function wt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():mt(t)}function _t(t,e){const n=e?" in "+e:"";throw new yt("201",`No provider for ${wt(t)} found${n}`)}class Ot{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Et(){return St}function St(t){return t.type.prototype.ngOnChanges&&(t.setInput=It),Tt}function Tt(){const t=xt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===q)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function It(t,e,n,r){const i=xt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:q,current:null}),o=i.current||(i.current={}),s=i.previous,u=this.declaredInputs[n],a=s[u];o[u]=new Ot(a&&a.currentValue,e,s===q),t[r]=e}function xt(t){return t.__ngSimpleChanges__||null}Et.ngInherit=!0;let Ct=void 0;function jt(t){Ct=t}function At(t){return!!t.listen}const kt={createRenderer:(t,e)=>void 0!==Ct?Ct:"undefined"!=typeof document?document:void 0};function Nt(t){for(;Array.isArray(t);)t=t[0];return t}function Rt(t,e){return Nt(e[t.index])}function Pt(t,e){return t.data[e]}function Dt(t,e){return t[e]}function Lt(t,e){const n=e[t];return ht(n)?n:n[0]}function Ut(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Mt(t){return 4==(4&t[2])}function Ft(t){return 128==(128&t[2])}function Vt(t,e){return null==e?null:t[e]}function Ht(t){t[18]=0}function qt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const zt={lFrame:ce(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Bt(){return zt.bindingsEnabled}function Gt(){return zt.lFrame.lView}function Jt(){return zt.lFrame.tView}function $t(){let t=Kt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Kt(){return zt.lFrame.currentTNode}function Wt(t,e){const n=zt.lFrame;n.currentTNode=t,n.isParent=e}function Yt(){return zt.lFrame.isParent}function Xt(){return zt.isInCheckNoChangesMode}function Zt(t){zt.isInCheckNoChangesMode=t}function Qt(){const t=zt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function te(){return zt.lFrame.bindingIndex++}function ee(t,e){const n=zt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ne(e)}function ne(t){zt.lFrame.currentDirectiveIndex=t}function re(){return zt.lFrame.currentQueryIndex}function ie(t){zt.lFrame.currentQueryIndex=t}function oe(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function se(t,e,n){if(n&A.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&A.Host||(r=oe(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=zt.lFrame=ae();return r.currentTNode=e,r.lView=t,!0}function ue(t){const e=ae(),n=t[1];zt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ae(){const t=zt.lFrame,e=null===t?null:t.child;return null===e?ce(t):e}function ce(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function le(){const t=zt.lFrame;return zt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const he=le;function fe(){const t=le();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function de(){return zt.lFrame.selectedIndex}function pe(t){zt.lFrame.selectedIndex=t}function ge(){const t=zt.lFrame;return Pt(t.tView,t.selectedIndex)}function ve(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:u}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=u&&(t.destroyHooks||(t.destroyHooks=[])).push(n,u)}}function be(t,e,n){we(t,e,3,n)}function ye(t,e,n,r){(3&t[2])===n&&we(t,e,n,r)}function me(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function we(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(s=e[u],null!=r&&s>=r)break}else e[u]<0&&(t[18]+=65536),(s<i||-1==i)&&(_e(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function _e(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const Oe=-1;class Ee{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Se(t,e,n){const r=At(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],u=n[i++],a=n[i++];r?t.setAttribute(e,u,a,s):e.setAttributeNS(s,u,a)}else{const s=o,u=n[++i];Ie(s)?r&&t.setProperty(e,s,u):r?t.setAttribute(e,s,u):e.setAttribute(s,u),i++}}return i}function Te(t){return 3===t||4===t||6===t}function Ie(t){return 64===t.charCodeAt(0)}function xe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ce(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ce(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function je(t){return t!==Oe}function Ae(t){return 32767&t}function ke(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ne=!0;function Re(t){const e=Ne;return Ne=t,e}let Pe=0;function De(t,e){const n=Ue(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Le(r.data,t),Le(e,null),Le(r.blueprint,null));const i=Me(t,e),o=t.injectorIndex;if(je(i)){const t=Ae(i),n=ke(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Le(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ue(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Me(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Oe;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Oe}function Fe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=Pe++);const i=255&r,o=1<<i,s=64&i,u=32&i,a=e.data;128&i?s?u?a[t+7]|=o:a[t+6]|=o:u?a[t+5]|=o:a[t+4]|=o:s?u?a[t+3]|=o:a[t+2]|=o:u?a[t+1]|=o:a[t]|=o}(t,e,n)}function Ve(t,e,n){if(n&A.Optional)return t;_t(e,"NodeInjector")}function He(t,e,n,r){if(n&A.Optional&&void 0===r&&(r=null),0==(n&(A.Self|A.Host))){const i=t[9],o=N(void 0);try{return i?i.get(e,r,n&A.Optional):R(e,r,n&A.Optional)}finally{N(o)}}return Ve(r,e,n)}function qe(t,e,n,r=A.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Y)?t[Y]:void 0;return"number"==typeof e?e>=0?255&e:Be:e}(n);if("function"==typeof o){if(!se(e,t,r))return r&A.Host?Ve(i,n,r):He(e,n,r,i);try{const t=o();if(null!=t||r&A.Optional)return t;_t(n)}finally{he()}}else if("number"==typeof o){let i=null,s=Ue(t,e),u=Oe,a=r&A.Host?e[16][6]:null;for((-1===s||r&A.SkipSelf)&&(u=-1===s?Me(t,e):e[s+8],u!==Oe&&We(r,!1)?(i=e[1],s=Ae(u),e=ke(u,e)):s=-1);-1!==s;){const t=e[1];if(Ke(o,s,t.data)){const t=Ge(s,e,n,i,r,a);if(t!==ze)return t}u=e[s+8],u!==Oe&&We(r,e[1].data[s+8]===a)&&Ke(o,s,e)?(i=t,s=Ae(u),e=ke(u,e)):s=-1}}}return He(e,n,r,i)}const ze={};function Be(){return new Ye($t(),Gt())}function Ge(t,e,n,r,i,o){const s=e[1],u=s.data[t+8],a=Je(u,s,n,null==r?pt(u)&&Ne:r!=s&&0!=(3&u.type),i&A.Host&&o===u);return null!==a?$e(e,s,a,u):ze}function Je(t,e,n,r,i){const o=t.providerIndexes,s=e.data,u=1048575&o,a=t.directiveStart,c=o>>20,l=i?u+c:t.directiveEnd;for(let h=r?u:u+c;h<l;h++){const t=s[h];if(h<a&&n===t||h>=a&&t.type===n)return h}if(i){const t=s[a];if(t&&vt(t)&&t.type===n)return a}return null}function $e(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Ee){const s=i;s.resolving&&function(t,e){throw new yt("200","Circular dependency in DI detected for "+t)}(wt(o[n]));const u=Re(s.canSeeViewProviders);s.resolving=!0;const a=s.injectImpl?N(s.injectImpl):null;se(t,r,A.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=St(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==a&&N(a),Re(u),s.resolving=!1,he()}}return i}function Ke(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function We(t,e){return!(t&A.Self||t&A.Host&&e)}class Ye{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return qe(this._tNode,this._lView,t,void 0,e)}}function Xe(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Te(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}($t(),t)}const Ze="__parameters__";function Qe(t,e,n){return P(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Ze)?t[Ze]:Object.defineProperty(t,Ze,{value:[]})[Ze];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class tn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=_({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const en=new tn("AnalyzeForEntryComponents"),nn=Function;function rn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),rn(r,e)):e!==t&&e.push(r)}return e}function on(t,e){t.forEach(t=>Array.isArray(t)?on(t,e):e(t))}function sn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function un(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const an=Qe("Inject",t=>({token:t})),cn=Qe("Optional"),ln=Qe("Self"),hn=Qe("SkipSelf"),fn=Qe("Host"),dn={},pn=/\n/gm,gn="__source",vn=g({provide:String,useValue:g});let bn,yn=void 0;function mn(t){const e=yn;return yn=t,e}function wn(t,e=A.Default){if(void 0===yn)throw new Error("inject() must be called from an injection context");return null===yn?R(t,void 0,e):yn.get(t,e&A.Optional?null:void 0,e)}function _n(t,e=A.Default){return(k||wn)(w(t),e)}function On(t){const e=[];for(let n=0;n<t.length;n++){const r=w(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=A.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof cn||"Optional"===i.ngMetadataName||i===cn?n|=A.Optional:i instanceof hn||"SkipSelf"===i.ngMetadataName||i===hn?n|=A.SkipSelf:i instanceof ln||"Self"===i.ngMetadataName||i===ln?n|=A.Self:i instanceof fn||"Host"===i.ngMetadataName||i===fn?n|=A.Host:t=i instanceof an||i===an?i.token:i}e.push(_n(t,n))}else e.push(_n(r))}return e}function En(t){var e;return(null===(e=function(){if(void 0===bn&&(bn=null,H.trustedTypes))try{bn=H.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return bn}())||void 0===e?void 0:e.createHTML(t))||t}class Sn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class Tn extends Sn{getTypeName(){return"HTML"}}class In extends Sn{getTypeName(){return"Style"}}class xn extends Sn{getTypeName(){return"Script"}}class Cn extends Sn{getTypeName(){return"URL"}}class jn extends Sn{getTypeName(){return"ResourceURL"}}function An(t){return t instanceof Sn?t.changingThisBreaksApplicationSecurity:t}function kn(t,e){const n=Nn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Nn(t){return t instanceof Sn&&t.getTypeName()||null}function Rn(t){return new Tn(t)}function Pn(t){return new In(t)}function Dn(t){return new xn(t)}function Ln(t){return new Cn(t)}function Un(t){return new jn(t)}class Mn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(En(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Fn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=En(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=En(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Vn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Hn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function qn(t){return(t=String(t)).match(Vn)||t.match(Hn)?t:"unsafe:"+t}function zn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Bn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Gn=zn("area,br,col,hr,img,wbr"),Jn=zn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$n=zn("rp,rt"),Kn=Bn($n,Jn),Wn=Bn(Gn,Bn(Jn,zn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bn($n,zn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Kn),Yn=zn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xn=zn("srcset"),Zn=Bn(Yn,Xn,zn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),zn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Qn=zn("script,style,template");class tr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Wn.hasOwnProperty(e))return this.sanitizedSomething=!0,!Qn.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!Zn.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Yn[o]&&(s=qn(s)),Xn[o]&&(r=s,s=(r=String(r)).split(",").map(t=>qn(t.trim())).join(", ")),this.buf.push(" ",e,'="',rr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Wn.hasOwnProperty(e)&&!Gn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(rr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const er=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nr=/([^\#-~ |!])/g;function rr(t){return t.replace(/&/g,"&amp;").replace(er,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(nr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ir;function or(t,e){let n=null;try{ir=ir||function(t){const e=new Fn(t);return function(){try{return!!(new window.DOMParser).parseFromString(En(""),"text/html")}catch(t){return!1}}()?new Mn(e):e}(t);let r=e?String(e):"";n=ir.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=ir.getInertBodyElement(r)}while(r!==o);return(new tr).sanitizeChildren(sr(n)||n)}finally{if(n){const t=sr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function sr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ur=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function ar(t){const e=function(){const t=Gt();return t&&t[12]}();return e?e.sanitize(ur.URL,t)||"":kn(t,"URL")?An(t):qn(mt(t))}function cr(t){return t.ngDebugContext}function lr(t){return t.ngOriginalError}function hr(t,...e){t.error(...e)}class fr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||hr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?cr(t)?cr(t):this._findContext(lr(t)):null}_findOriginalError(t){let e=lr(t);for(;e&&lr(e);)e=lr(e);return e}}function dr(t,e){t.__ngContext__=e}const pr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(H))();function gr(t){return t instanceof Function?t():t}var vr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function br(t,e){return(void 0)(t,e)}function yr(t){const e=t[3];return ft(e)?e[3]:e}function mr(t){return _r(t[13])}function wr(t){return _r(t[4])}function _r(t){for(;null!==t&&!ft(t);)t=t[4];return t}function Or(t,e,n,r,i){if(null!=r){let o,s=!1;ft(r)?o=r:ht(r)&&(s=!0,r=r[0]);const u=Nt(r);0===t&&null!==n?null==i?jr(e,n,u):Cr(e,n,u,i||null,!0):1===t&&null!==n?Cr(e,n,u,i||null,!0):2===t?function(t,e,n){const r=kr(t,e);r&&function(t,e,n,r){At(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,u,s):3===t&&e.destroyNode(u),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Nt(n)&&Or(e,t,r,o,i);for(let s=lt;s<n.length;s++){const i=n[s];Lr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Er(t,e,n){return At(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Sr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,qt(i,-1)),n.splice(r,1)}function Tr(t,e){if(t.length<=lt)return;const n=lt+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Sr(o,r),e>0&&(t[n-1][4]=r[4]);const s=un(t,lt+e);Lr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const u=s[19];null!==u&&u.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Ir(t,e){if(!(256&e[2])){const n=e[11];At(n)&&n.destroyNode&&Lr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return xr(t[1],t);for(;e;){let n=null;if(ht(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ht(e)&&xr(e[1],e),e=e[3];null===e&&(e=t),ht(e)&&xr(e[1],e),n=e&&e[4]}e=n}}(e)}}function xr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ee)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):Nt(e[t]),u=r[i=n[o+2]],a=n[o+3];"boolean"==typeof a?s.removeEventListener(n[o],u,a):a>=0?r[i=a]():r[i=-a].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&At(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ft(e[3])){n!==e[3]&&Sr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Cr(t,e,n,r,i){At(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function jr(t,e,n){At(t)?t.appendChild(e,n):e.appendChild(n)}function Ar(t,e,n,r,i){null!==r?Cr(t,e,n,r,i):jr(t,e,n)}function kr(t,e){return At(t)?t.parentNode(e):e.parentNode}function Nr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===L.None||e===L.Emulated)return null}return Rt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?Rt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Ar(o,i,n[u],s,!1);else Ar(o,i,n,s,!1)}function Rr(t,e){if(null!==e){const n=e.type;if(3&n)return Rt(e,t);if(4&n)return Pr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Rr(t,n);{const n=t[e.index];return ft(n)?Pr(-1,n):Nt(n)}}if(32&n)return br(e,t)()||Nt(t[e.index]);{const n=t[16],r=n[6],i=yr(n),o=r.projection[e.projection];return null!=o?Rr(i,o):Rr(t,e.next)}}return null}function Pr(t,e){const n=lt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Rr(t,r)}return e[7]}function Dr(t,e,n,r,i,o,s){for(;null!=n;){const u=r[n.index],a=n.type;if(s&&0===e&&(u&&dr(Nt(u),r),n.flags|=4),64!=(64&n.flags))if(8&a)Dr(t,e,n.child,r,i,o,!1),Or(e,t,i,u,o);else if(32&a){const s=br(n,r);let a;for(;a=s();)Or(e,t,i,a,o);Or(e,t,i,u,o)}else 16&a?Ur(t,e,r,n,i,o):Or(e,t,i,u,o);n=s?n.projectionNext:n.next}}function Lr(t,e,n,r,i,o){Dr(n,r,t.firstChild,e,i,o,!1)}function Ur(t,e,n,r,i,o){const s=n[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let a=0;a<u.length;a++)Or(e,t,i,u[a],o);else Dr(t,e,u,s[3],i,o,!0)}function Mr(t,e,n){At(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Fr(t,e,n){At(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Vr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Hr="ng-template";function qr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Vr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function zr(t){return 4===t.type&&t.value!==Hr}function Br(t,e,n){return e===(4!==t.type||n?t.value:Hr)}function Gr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Te(t[e]))return e;return t.length}(i);let s=!1;for(let u=0;u<e.length;u++){const a=e[u];if("number"!=typeof a){if(!s)if(4&r){if(r=2|1&r,""!==a&&!Br(t,a,n)||""===a&&1===e.length){if(Jr(r))return!1;s=!0}}else{const c=8&r?a:e[++u];if(8&r&&null!==t.attrs){if(!qr(t.attrs,c,n)){if(Jr(r))return!1;s=!0}continue}const l=$r(8&r?"class":a,i,zr(t),n);if(-1===l){if(Jr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Vr(e,c,0)||2&r&&c!==t){if(Jr(r))return!1;s=!0}}}}else{if(!s&&!Jr(r)&&!Jr(a))return!1;if(s&&Jr(a))continue;s=!1,r=a|1&r}}return Jr(r)||s}function Jr(t){return 0==(1&t)}function $r(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Kr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Gr(t,e[r],n))return!0;return!1}function Wr(t,e){return t?":not("+e.trim()+")":e}function Yr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Jr(s)||(e+=Wr(o,i),i=""),r=s,o=o||!Jr(r);n++}return""!==i&&(e+=Wr(o,i)),e}const Xr={};function Zr(t){Qr(Jt(),Gt(),de()+t,Xt())}function Qr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&be(e,r,n)}else{const r=t.preOrderHooks;null!==r&&ye(e,r,0,n)}pe(n)}function ti(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ie(i),n.contentQueries(2,e[o],o)}}}function ei(t,e,n,r,i,o,s,u,a,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ht(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=u||t&&t[11],l[12]=a||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function ni(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Kt(),s=Yt(),u=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u)),u}(t,e,n,r,i),zt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=zt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Wt(o,!0),o}function ri(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ii(t,e,n){ue(e);try{const r=t.viewQuery;null!==r&&Ri(1,r,n);const i=t.template;null!==i&&ui(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ti(t,e),t.staticViewQueries&&Ri(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Ci(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,fe()}}function oi(t,e,n,r){const i=e[2];if(256==(256&i))return;ue(e);const o=Xt();try{Ht(e),zt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ui(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&be(e,n,null)}else{const n=t.preOrderHooks;null!==n&&ye(e,n,0,null),me(e,0)}if(function(t){for(let e=mr(t);null!==e;e=wr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&qt(r,1),n[2]|=1024}}}(e),function(t){for(let e=mr(t);null!==e;e=wr(e))for(let t=lt;t<e.length;t++){const n=e[t],r=n[1];Ft(n)&&oi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&ti(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&be(e,n)}else{const n=t.contentHooks;null!==n&&ye(e,n,1),me(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)pe(~r);else{const i=r,o=n[++t],s=n[++t];ee(o,i),s(2,e[i])}}}finally{pe(-1)}}(t,e);const u=t.components;null!==u&&function(t,e){for(let n=0;n<e.length;n++)Ii(t,e[n])}(e,u);const a=t.viewQuery;if(null!==a&&Ri(2,a,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&be(e,n)}else{const n=t.viewHooks;null!==n&&ye(e,n,2),me(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,qt(e[3],-1))}finally{fe()}}function si(t,e,n,r){const i=e[10],o=!Xt(),s=Mt(e);try{o&&!s&&i.begin&&i.begin(),s&&ii(t,e,r),oi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function ui(t,e,n,r,i){const o=de();try{pe(-1),2&r&&e.length>ct&&Qr(t,e,ct,Xt()),n(r,i)}finally{pe(o)}}function ai(t,e,n){Bt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||De(n,e),dr(r,e);const s=n.initialInputs;for(let u=i;u<o;u++){const r=t.data[u],o=vt(r);o&&Oi(e,n,r);const a=$e(e,t,u,n);dr(a,e),null!==s&&Ei(0,u-i,a,r,0,s),o&&(Lt(n.index,e)[8]=a)}}(t,e,n,Rt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=zt.lFrame.currentDirectiveIndex;try{pe(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ne(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||bi(r,i)}}finally{pe(-1),ne(s)}}(t,e,n))}function ci(t,e,n=Rt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],u=-1===s?n(e,t):t[s];t[i++]=u}}}function li(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=hi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function hi(t,e,n,r,i,o,s,u,a,c){const l=ct+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Xr);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:u,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:a,consts:d,incompleteFirstPass:!1}}function fi(t,e,n,r){const i=Di(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Li(t).push(r,i.length-1))}function di(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function pi(t,e,n,r,i,o,s,u){const a=Rt(e,n);let c,l=e.inputs;!u&&null!=l&&(c=l[r])?(Mi(t,n,c,r,i),pt(e)&&function(t,e){const n=Lt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,At(o)?o.setProperty(a,r,i):Ie(r)||(a.setProperty?a.setProperty(r,i):a[r]=i))}function gi(t,e,n,r){let i=!1;if(Bt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Kr(n,s.selectors,!1)&&(i||(i=[]),Fe(De(n,e),t,s.type),vt(s)?(yi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,wi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,u=!1,a=ri(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=xe(n.mergedAttrs,c.hostAttrs),_i(t,n,e,a,c),mi(a,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),a++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,u=null;for(let a=e.directiveStart;a<n;a++){const t=r[a],n=t.inputs,c=null===i||zr(e)?null:Si(n,i);o.push(c),s=di(n,a,s),u=di(t.outputs,a,u)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=u}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new yt("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=xe(n.mergedAttrs,n.attrs),i}function vi(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function bi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function yi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function mi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vt(e)&&(n[""]=t)}}function wi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function _i(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=bt(i.type)),s=new Ee(o,vt(i),null);t.blueprint[r]=s,n[r]=s,vi(t,e,0,r,ri(t,n,i.hostVars,Xr),i)}function Oi(t,e,n){const r=Rt(e,t),i=li(n),o=t[10],s=ji(t,ei(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Ei(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],u=s[e++];null!==t?r.setInput(n,u,i,o):n[o]=u}}}function Si(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ti(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Ii(t,e){const n=Lt(e,t);if(Ft(n)){const t=n[1];80&n[2]?oi(t,n,t.template,n[8]):n[5]>0&&xi(n)}}function xi(t){for(let n=mr(t);null!==n;n=wr(n))for(let t=lt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];oi(t,e,t.template,e[8])}else e[5]>0&&xi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Lt(e[n],t);Ft(r)&&r[5]>0&&xi(r)}}function Ci(t,e){const n=Lt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),ii(r,n,n[8])}function ji(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ai(t){for(;t;){t[2]|=64;const e=yr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function ki(t,e,n){const r=e[10];r.begin&&r.begin();try{oi(t,e,t.template,n)}catch(i){throw Ui(e,i),i}finally{r.end&&r.end()}}function Ni(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ut(n),i=r[1];si(i,r,i.template,n)}}(t[8])}function Ri(t,e,n){ie(0),e(t,n)}const Pi=(()=>Promise.resolve(null))();function Di(t){return t[7]||(t[7]=[])}function Li(t){return t.cleanup||(t.cleanup=[])}function Ui(t,e){const n=t[9],r=n?n.get(fr,null):null;r&&r.handleError(e)}function Mi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],u=n[o++],a=e[s],c=t.data[s];null!==c.setInput?c.setInput(a,i,r,u):a[u]=i}}function Fi(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=b(i,t):2==o&&(r=b(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Vi=new tn("INJECTOR",-1);class Hi{get(t,e=dn){if(e===dn){const e=new Error(`NullInjectorError: No provider for ${v(t)}!`);throw e.name="NullInjectorError",e}return e}}const qi=new tn("Set Injector scope."),zi={},Bi={},Gi=[];let Ji=void 0;function $i(){return void 0===Ji&&(Ji=new Hi),Ji}function Ki(t,e=null,n=null,r){return new Wi(t,n,e||$i(),r)}class Wi{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&on(e,n=>this.processProvider(n,t,e)),on([t],t=>this.processInjectorType(t,[],i)),this.records.set(Vi,Xi(void 0,this));const o=this.records.get(qi);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:v(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=dn,n=A.Default){this.assertNotDestroyed();const r=mn(this);try{if(!(n&A.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof tn)&&E(t);e=n&&this.injectableDefInScope(n)?Xi(Yi(t),zi):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&A.Self?$i():this.parent).get(t,e=n&A.Optional&&e===dn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(v(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[gn]&&i.unshift(e[gn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=v(e);if(Array.isArray(e))i=e.map(v).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):v(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(pn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{mn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(v(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=w(t)))return!1;let r=T(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=T(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{on(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];on(r,t=>this.processProvider(t,n,r||Gi))}}this.injectorDefTypes.add(o),this.records.set(o,Xi(r.factory,zi));const u=r.providers;if(null!=u&&!s){const e=t;on(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Qi(t=w(t))?t:w(t&&t.provide);const i=function(t,e,n){return Zi(t)?Xi(void 0,t.useValue):Xi(function(t,e,n){let r=void 0;if(Qi(t)){const e=w(t);return bt(e)||Yi(e)}if(Zi(t))r=()=>w(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...On(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>_n(w(t.useExisting));else{const e=w(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||Yi(e);r=()=>new e(...On(t.deps))}var i;return r}(t),zi)}(t);if(Qi(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Xi(void 0,zi,!0),e.factory=()=>On(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===zi&&(e.value=Bi,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Yi(t){const e=E(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;const r=T(t);if(null!==r)return r.factory;if(t instanceof tn)throw new Error(`Token ${v(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${v(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[I]||t[C]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Xi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Zi(t){return null!==t&&"object"==typeof t&&vn in t}function Qi(t){return"function"==typeof t}const to=function(t,e,n){return function(t,e=null,n=null,r){const i=Ki(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let eo=(()=>{class t{static create(t,e){return Array.isArray(t)?to(t,e,""):to(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=dn,t.NULL=new Hi,t.\u0275prov=_({token:t,providedIn:"any",factory:()=>_n(Vi)}),t.__NG_ELEMENT_ID__=-1,t})();function no(t,e){ve(Ut(t)[1],$t())}let ro=null;function io(){if(!ro){const t=H.Symbol;if(t&&t.iterator)ro=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(ro=n)}}}return ro}class oo{constructor(t){this.wrapped=t}static wrap(t){return new oo(t)}static unwrap(t){return oo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof oo}}function so(t){return!!uo(t)&&(Array.isArray(t)||!(t instanceof Map)&&io()in t)}function uo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ao(t,e,n){return t[e]=n}function co(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function lo(t,e,n,r){const i=Gt();return co(i,te(),e)&&(Jt(),function(t,e,n,r,i,o){const s=Rt(t,e);!function(t,e,n,r,i,o,s){if(null==o)At(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const u=null==s?mt(o):s(o,r||"",i);At(t)?t.setAttribute(e,i,u,n):n?e.setAttributeNS(n,i,u):e.setAttribute(i,u)}}(e[11],s,o,t.value,n,r,i)}(ge(),i,t,e,n,r)),lo}function ho(t,e,n,r,i,o,s,u){const a=Gt(),c=Jt(),l=t+ct,h=c.firstCreatePass?function(t,e,n,r,i,o,s,u,a){const c=e.consts,l=ni(e,t,4,s||null,Vt(c,u));gi(e,n,l,Vt(c,a)),ve(e,l);const h=l.tViews=hi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,a,e,n,r,i,o,s):c.data[l];Wt(h,!1);const f=a[11].createComment("");Nr(c,a,f,h),dr(f,a),ji(a,a[l]=Ti(f,a,f,h)),gt(h)&&ai(c,a,h),null!=s&&ci(a,h,u)}function fo(t,e=A.Default){const n=Gt();return null===n?_n(t,e):qe($t(),n,w(t),e)}function po(t,e,n){const r=Gt();return co(r,te(),e)&&pi(Jt(),ge(),r,t,e,r[11],n,!1),po}function go(t,e,n,r,i){const o=i?"class":"style";Mi(t,n,e.inputs[o],o,r)}function vo(t,e,n,r){const i=Gt(),o=Jt(),s=ct+t,u=i[11],a=i[s]=Er(u,e,zt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const u=e.consts,a=ni(e,t,2,i,Vt(u,o));return gi(e,n,a,Vt(u,s)),null!==a.attrs&&Fi(a,a.attrs,!1),null!==a.mergedAttrs&&Fi(a,a.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,a),a}(s,o,i,0,e,n,r):o.data[s];Wt(c,!0);const l=c.mergedAttrs;null!==l&&Se(u,a,l);const h=c.classes;null!==h&&Fr(u,a,h);const f=c.styles;null!==f&&Mr(u,a,f),64!=(64&c.flags)&&Nr(o,i,a,c),0===zt.lFrame.elementDepthCount&&dr(a,i),zt.lFrame.elementDepthCount++,gt(c)&&(ai(o,i,c),function(t,e,n){if(dt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&ci(i,c)}function bo(){let t=$t();Yt()?zt.lFrame.isParent=!1:(t=t.parent,Wt(t,!1));const e=t;zt.lFrame.elementDepthCount--;const n=Jt();n.firstCreatePass&&(ve(n,t),dt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&go(n,e,Gt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&go(n,e,Gt(),e.stylesWithoutHost,!1)}function yo(t,e,n,r){vo(t,e,n,r),bo()}function mo(t){return!!t&&"function"==typeof t.then}function wo(t){return!!t&&"function"==typeof t.subscribe}function _o(t,e,n=!1,r){const i=Gt(),o=Jt(),s=$t();return function(t,e,n,r,i,o,s=!1,u){const a=gt(r),c=t.firstCreatePass&&Li(t),l=Di(e);let h=!0;if(3&r.type){const f=Rt(r,e),d=u?u(f):q,p=d.target||f,g=l.length,v=u?t=>u(Nt(t[r.index])).target:r.index;if(At(n)){let s=null;if(!u&&a&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Eo(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,v,g,g+1)}}else o=Eo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,v,g,s)}else o=Eo(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),_o}function Oo(t,e,n){try{return!1!==e(n)}catch(r){return Ui(t,r),!1}}function Eo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Lt(t.index,e):e;0==(32&e[2])&&Ai(s);let u=Oo(e,n,o),a=i.__ngNextListenerFn__;for(;a;)u=Oo(e,a,o)&&u,a=a.__ngNextListenerFn__;return r&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function So(t,e=""){const n=Gt(),r=Jt(),i=t+ct,o=r.firstCreatePass?ni(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return At(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Nr(r,n,s,o),Wt(o,!1)}function To(t){return Io("",t,""),To}function Io(t,e,n){const r=Gt(),i=function(t,e,n,r){return co(t,te(),n)?e+mt(n)+r:Xr}(r,t,e,n);return i!==Xr&&function(t,e,n){const r=function(t,e){return Nt(e[t])}(e,t);!function(t,e,n){At(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,de(),i),Io}function xo(t,e,n){const r=Gt();return co(r,te(),e)&&pi(Jt(),ge(),r,t,e,r[11],n,!0),xo}const Co=void 0;var jo=["en",[["a","p"],["AM","PM"],Co],[["AM","PM"],Co,Co],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Co,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Co,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Co,"{1} 'at' {0}",Co],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ao={};function ko(t,e,n){"string"!=typeof e&&(n=e,e=t[Lo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Ao[e]=t,n&&(Ao[e][Lo.ExtraData]=n)}function No(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Do(e);if(n)return n;const r=e.split("-")[0];if(n=Do(r),n)return n;if("en"===r)return jo;throw new Error(`Missing locale data for the locale "${t}".`)}function Ro(t){return No(t)[Lo.CurrencyCode]||null}function Po(t){return No(t)[Lo.PluralCase]}function Do(t){return t in Ao||(Ao[t]=H.ng&&H.ng.common&&H.ng.common.locales&&H.ng.common.locales[t]),Ao[t]}var Lo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Uo="en-US";let Mo=Uo;function Fo(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Mo=t.toLowerCase().replace(/_/g,"-"))}class Vo{}class Ho{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${v(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let qo=(()=>{class t{}return t.NULL=new Ho,t})();function zo(...t){}function Bo(t,e){return new Jo(Rt(t,e))}const Go=function(){return Bo($t(),Gt())};let Jo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Go,t})();class $o{}let Ko=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Wo(),t})();const Wo=function(){const t=Gt(),e=Lt($t().index,t);return function(t){return t[11]}(ht(e)?e:t)};let Yo=(()=>{class t{}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>null}),t})();class Xo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Zo=new Xo("11.0.8");class Qo{constructor(){}supports(t){return so(t)}create(t){return new es(t)}}const ts=(t,e)=>e;class es{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ts}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<os(n,r,i)?e:n,s=os(o,r,i),u=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=u-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==u&&t(o,s,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!so(t))throw new Error(`Error trying to diff '${v(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[io()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ns(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new is),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new is),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ns{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rs{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class is{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new rs,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function os(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ss{constructor(){}supports(t){return t instanceof Map||uo(t)}create(){return new us}}class us{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||uo(t)))throw new Error(`Error trying to diff '${v(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new as(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class as{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let cs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new hn,new cn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>new t([new Qo])}),t})(),ls=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new hn,new cn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>new t([new ss])}),t})();function hs(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Nt(o)),ft(o))for(let t=lt;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&hs(e[1],e,n,r)}const s=n.type;if(8&s)hs(t,e,n.child,r);else if(32&s){const t=br(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=yr(t);hs(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class fs{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return hs(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ft(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Tr(t,n),un(e,n))}this._attachedToViewContainer=!1}Ir(this._lView[1],this._lView)}onDestroy(t){fi(this._lView[1],this._lView,null,t)}markForCheck(){Ai(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ki(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Zt(!0);try{ki(t,e,n)}finally{Zt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Lr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ds extends fs{constructor(t){super(t),this._view=t}detectChanges(){Ni(this._view)}checkNoChanges(){!function(t){Zt(!0);try{Ni(t)}finally{Zt(!1)}}(this._view)}get context(){return null}}const ps=vs;let gs=(()=>{class t{}return t.__NG_ELEMENT_ID__=ps,t.__ChangeDetectorRef__=!0,t})();function vs(t=!1){return function(t,e,n){if(!n&&pt(t)){const n=Lt(t.index,e);return new fs(n,n)}return 47&t.type?new fs(e[16],e):null}($t(),Gt(),t)}const bs=[new ss],ys=new cs([new Qo]),ms=new ls(bs),ws=function(){return Ss($t(),Gt())};let _s=(()=>{class t{}return t.__NG_ELEMENT_ID__=ws,t})();const Os=_s,Es=class extends Os{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=ei(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),ii(e,n,t),new fs(n)}};function Ss(t,e){return 4&t.type?new Es(e,t,Bo(t,e)):null}class Ts{}class Is{}const xs=function(){return Rs($t(),Gt())};let Cs=(()=>{class t{}return t.__NG_ELEMENT_ID__=xs,t})();const js=Cs,As=class extends js{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Bo(this._hostTNode,this._hostLView)}get injector(){return new Ye(this._hostTNode,this._hostLView)}get parentInjector(){const t=Me(this._hostTNode,this._hostLView);if(je(t)){const e=ke(t,this._hostLView),n=Ae(t);return new Ye(e[1].data[n+8],e)}return new Ye(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=ks(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-lt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Ts,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(ft(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new As(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=lt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-lt?(e[4]=n[i],sn(n,lt+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const u=e[19];null!==u&&u.insertView(t),e[2]|=128}(r,n,o,i);const s=Pr(i,o),u=n[11],a=kr(u,o[7]);return null!==a&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Lr(t,r,n,1,i,o)}(r,o[6],u,n,a,s),t.attachToViewContainerRef(),sn(Ns(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=ks(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Tr(this._lContainer,e);n&&(un(Ns(this._lContainer),e),Ir(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Tr(this._lContainer,e);return n&&null!=un(Ns(this._lContainer),e)?new fs(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function ks(t){return t[8]}function Ns(t){return t[8]||(t[8]=[])}function Rs(t,e){let n;const r=e[t.index];if(ft(r))n=r;else{let i;if(8&t.type)i=Nt(r);else{const n=e[11];i=n.createComment("");const r=Rt(t,e);Cr(n,kr(n,r),i,function(t,e){return At(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Ti(r,e,i,t),ji(e,n)}return new As(n,t,e)}const Ps={};class Ds extends qo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ut(t);return new Ms(e,this.ngModule)}}function Ls(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Us=new tn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>pr});class Ms extends Vo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Yr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ls(this.componentDef.inputs)}get outputs(){return Ls(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Ps,i);return o!==Ps||r===Ps?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get($o,kt),s=i.get(Yo,null),u=o.createRenderer(null,this.componentDef),a=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(At(t))return t.selectRootElement(e,n===L.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,n,this.componentDef.encapsulation):Er(o.createRenderer(null,this.componentDef),a,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(a)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:pr,clean:Pi,playerHandler:null,flags:0},f=hi(0,null,null,1,0,null,null,null,null,null),d=ei(null,f,h,l,null,null,o,u,s,i);let p,g;ue(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const u=ni(s,20,2,"#host",null),a=u.mergedAttrs=e.hostAttrs;null!==a&&(Fi(u,a,!0),null!==t&&(Se(i,t,a),null!==u.classes&&Fr(i,t,u.classes),null!==u.styles&&Mr(i,t,u.styles)));const c=r.createRenderer(t,e),l=ei(n,li(e),null,e.onPush?64:16,n[20],u,r,c,null,null);return s.firstCreatePass&&(Fe(De(u,n),s,e.type),yi(s,u),wi(u,n.length,1)),ji(n,l),n[20]=l}(c,this.componentDef,d,o,u);if(c)if(n)Se(u,c,["ng-version",Zo.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Jr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Se(u,c,t),e&&e.length>0&&Fr(u,c,e.join(" "))}if(g=Pt(f,ct),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=$t();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),_i(t,r,e,ri(t,e,1,null),n));const i=$e(e,t,r.directiveStart,r);dr(i,e);const o=Rt(r,e);return o&&dr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=$t();e.contentQueries(1,s,t.directiveStart)}const u=$t();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(pe(u.index),vi(n[1],u,0,u.directiveStart,u.directiveEnd,e),bi(e,s)),s}(t,this.componentDef,d,h,[no]),ii(f,d,null)}finally{fe()}return new Fs(this.componentType,p,Bo(g,d),d,g)}}class Fs extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new ds(r),this.componentType=t}get injector(){return new Ye(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Vs=new Map;class Hs extends Ts{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ds(this);const n=at(t),r=t[K]||null;r&&Fo(r),this._bootstrapComponents=gr(n.bootstrap),this._r3Injector=Ki(t,e,[{provide:Ts,useValue:this},{provide:qo,useValue:this.componentFactoryResolver}],v(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=eo.THROW_IF_NOT_FOUND,n=A.Default){return t===eo||t===Ts||t===Vi?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class qs extends Is{constructor(t){super(),this.moduleType=t,null!==at(t)&&function(t){const e=new Set;!function t(n){const r=at(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${v(e)} vs ${v(e.name)}`)}(i,Vs.get(i),n),Vs.set(i,n));const o=gr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Hs(this.moduleType,t)}}function zs(t,e,n){const r=Qt()+t,i=Gt();return i[r]===Xr?ao(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Bs(t,e,n,r){return Js(Gt(),Qt(),t,e,n,r)}function Gs(t,e){const n=t[e];return n===Xr?void 0:n}function Js(t,e,n,r,i,o){const s=e+n;return co(t,s,i)?ao(t,s+1,o?r.call(o,i):r(i)):Gs(t,s+1)}function $s(t,e){const n=Jt();let r;const i=t+ct;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new yt("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=bt(r.type)),s=N(fo);try{const t=Re(!1),e=o();return Re(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Gt(),i,e),e}finally{N(s)}}function Ks(t,e,n){const r=t+ct,i=Gt(),o=Dt(i,r);return Xs(i,Ys(i,r)?Js(i,Qt(),e,o.transform,n,o):o.transform(n))}function Ws(t,e,n,r){const i=t+ct,o=Gt(),s=Dt(o,i);return Xs(o,Ys(o,i)?function(t,e,n,r,i,o,s){const u=e+n;return function(t,e,n,r){const i=co(t,e,n);return co(t,e+1,r)||i}(t,u,i,o)?ao(t,u+2,s?r.call(s,i,o):r(i,o)):Gs(t,u+2)}(o,Qt(),e,s.transform,n,r,s):s.transform(n,r))}function Ys(t,e){return t[1].data[e].pure}function Xs(t,e){return oo.isWrapped(e)&&(e=oo.unwrap(e),t[zt.lFrame.bindingIndex]=Xr),e}const Zs=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const u=super.subscribe(r,o,s);return t instanceof i.a&&t.add(u),u}};function Qs(){return this._results[io()]()}class tu{constructor(){this.dirty=!0,this._results=[],this.changes=new Zs,this.length=0;const t=io(),e=tu.prototype;e[t]||(e[t]=Qs)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=rn(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class eu{constructor(t){this.queryList=t,this.matches=null}clone(){return new eu(this.queryList)}setDirty(){this.queryList.setDirty()}}class nu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new nu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==du(t,e).matches&&this.queries[e].setDirty()}}class ru{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class iu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new iu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ou{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new ou(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,su(e,i)),this.matchTNodeWithReadOption(t,e,Je(e,t,i,!1,!1))}else n===_s?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Je(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Jo||r===Cs||r===_s&&4&e.type)this.addMatch(e.index,-2);else{const n=Je(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function su(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function uu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Bo(t,e):4&t.type?Ss(t,e):null}(e,t):-2===n?function(t,e,n){return n===Jo?Bo(e,t):n===_s?Ss(e,t):n===Cs?Rs(e,t):void 0}(t,e,r):$e(t,t[1],n,e)}function au(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:uu(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function cu(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=au(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=lt;t<s.length;t++){const e=s[t];e[17]===e[3]&&cu(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];cu(n[1],n,i,r)}}}}}return r}function lu(t){const e=Gt(),n=Jt(),r=re();ie(r+1);const i=du(n,r);if(t.dirty&&Mt(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?cu(n,e,r,[]):au(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function hu(t,e,n,r){!function(t,e,n,r,i,o,s,u){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new iu),t.queries.track(new ou(e,n))}(t,new ru(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,u)),function(t,e){const n=new tu;fi(t,e,n,n.destroy),null===e[19]&&(e[19]=new nu),e[19].queries.push(new eu(n))}(t,e)}(Jt(),Gt(),e,n,r,0,$t(),t)}function fu(){return t=Gt(),e=re(),t[19].queries[e].queryList;var t,e}function du(t,e){return t.queries.getByIndex(e)}function pu(t=A.Default){const e=vs(!0);if(null!=e||t&A.Optional)return e;_t("ChangeDetectorRef")}const gu=new tn("Application Initializer");let vu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=zo,this.reject=zo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();mo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(_n(gu,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const bu=new tn("AppId"),yu={provide:bu,useFactory:function(){return`${mu()}${mu()}${mu()}`},deps:[]};function mu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wu=new tn("Platform Initializer"),_u=new tn("Platform ID"),Ou=new tn("appBootstrapListener");let Eu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const Su=new tn("LocaleId"),Tu=new tn("DefaultCurrencyCode");class Iu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const xu=function(t){return new qs(t)},Cu=xu,ju=function(t){return Promise.resolve(xu(t))},Au=function(t){const e=xu(t),n=gr(at(t).declarations).reduce((t,e)=>{const n=ut(e);return n&&t.push(new Ms(n)),t},[]);return new Iu(e,n)},ku=Au,Nu=function(t){return Promise.resolve(Au(t))};let Ru=(()=>{class t{constructor(){this.compileModuleSync=Cu,this.compileModuleAsync=ju,this.compileModuleAndAllComponentsSync=ku,this.compileModuleAndAllComponentsAsync=Nu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const Pu=(()=>Promise.resolve(0))();function Du(t){"undefined"==typeof Zone?Pu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Lu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zs(!1),this.onMicrotaskEmpty=new Zs(!1),this.onStable=new Zs(!1),this.onError=new Zs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=H.requestAnimationFrame,e=H.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(H,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Fu(t),Mu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Fu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,u)=>{try{return Vu(t),n.invokeTask(i,o,s,u)}finally{e&&"eventTask"===o.type&&e(),Hu(t)}},onInvoke:(e,n,r,i,o,s,u)=>{try{return Vu(t),e.invoke(r,i,o,s,u)}finally{Hu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Fu(t),Mu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Lu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Lu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Uu,zo,zo);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Uu={};function Mu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Fu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Vu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Hu(t){t._nesting--,Mu(t)}class qu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zs,this.onMicrotaskEmpty=new Zs,this.onStable=new Zs,this.onError=new Zs}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let zu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Lu.assertNotInAngularZone(),Du(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Du(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(_n(Lu))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})(),Bu=(()=>{class t{constructor(){this._applications=new Map,Ku.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ku.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();class Gu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Ju(t){Ku=t}let $u,Ku=new Gu,Wu=!0,Yu=!1;function Xu(){return Yu=!0,Wu}function Zu(){if(Yu)throw new Error("Cannot enable prod mode after platform setup.");Wu=!1}const Qu=new tn("AllowMultipleToken");class ta{constructor(t,e){this.name=t,this.token=e}}function ea(t,e,n=[]){const r="Platform: "+e,i=new tn(r);return(e=[])=>{let o=na();if(!o||o.injector.get(Qu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:qi,useValue:"platform"});!function(t){if($u&&!$u.destroyed&&!$u.injector.get(Qu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");$u=t.get(ra);const e=t.get(wu,null);e&&e.forEach(t=>t())}(eo.create({providers:t,name:r}))}return function(t){const e=na();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function na(){return $u&&!$u.destroyed?$u:null}let ra=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new qu:("zone.js"===t?void 0:t)||new Lu({enableLongStackTrace:Xu(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Lu,useValue:n}];return n.run(()=>{const e=eo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(fr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{sa(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return mo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(vu);return t.runInitializers(),t.donePromise.then(()=>(Fo(i.injector.get(Su,Uo)||Uo),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=ia({},e);return function(t,e,n){const r=new qs(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(oa);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${v(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(_n(eo))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function ia(t,e){return Array.isArray(e)?e.reduce(ia,t):Object.assign(Object.assign({},t),e)}let oa=(()=>{class t{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Lu.assertNotInAngularZone(),Du(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Lu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return a()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Vo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Ts),i=n.create(eo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(zu,null),u=s&&i.injector.get(Bu);return s&&u&&u.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),sa(this.components,i),u&&u.unregisterApplication(o)}),this._loadComponent(i),Xu()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;sa(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ou,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(_n(Lu),_n(Eu),_n(eo),_n(fr),_n(qo),_n(vu))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function sa(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ua{}class aa{}const ca={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let la=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||ca}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>ha(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>ha(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(_n(Ru),_n(aa,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function ha(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const fa=function(t){return null},da=ea(null,"core",[{provide:_u,useValue:"unknown"},{provide:ra,deps:[eo]},{provide:Bu,deps:[]},{provide:Eu,deps:[]}]),pa=[{provide:oa,useClass:oa,deps:[Lu,Eu,eo,fr,qo,vu]},{provide:Us,deps:[Lu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:vu,useClass:vu,deps:[[new cn,gu]]},{provide:Ru,useClass:Ru,deps:[]},yu,{provide:cs,useFactory:function(){return ys},deps:[]},{provide:ls,useFactory:function(){return ms},deps:[]},{provide:Su,useFactory:function(t){return Fo(t=t||"undefined"!=typeof $localize&&$localize.locale||Uo),t},deps:[[new an(Su),new cn,new hn]]},{provide:Tu,useValue:"USD"}];let ga=(()=>{class t{constructor(t){}}return t.\u0275mod=nt({type:t}),t.\u0275inj=O({factory:function(e){return new(e||t)(_n(oa))},providers:pa}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let u=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(u.createNext(t))}_error(t){this.scheduleMessage(u.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(u.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),u={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},a=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?u[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=u[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var u=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:u,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return w}),n.d(e,"c",function(){return m}),n.d(e,"d",function(){return y}),n.d(e,"e",function(){return x}),n.d(e,"f",function(){return E}),n.d(e,"g",function(){return S}),n.d(e,"h",function(){return i}),n.d(e,"i",function(){return o}),n.d(e,"j",function(){return u}),n.d(e,"k",function(){return l}),n.d(e,"l",function(){return h}),n.d(e,"m",function(){return d}),n.d(e,"n",function(){return p}),n.d(e,"o",function(){return v}),n.d(e,"p",function(){return a}),n.d(e,"q",function(){return c}),n.d(e,"r",function(){return f}),n.d(e,"s",function(){return g}),n.d(e,"t",function(){return b});var r=n("uXP2");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function a(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return u().indexOf("Electron/")>=0}function p(){var t=u();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return u().indexOf("MSAppHost/")>=0}function v(){return"indexedDB"in self&&null!=indexedDB}function b(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}})}function y(){return!(!navigator||!navigator.cookieEnabled)}var m=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,w.prototype.create),o}return Object(r.c)(e,t),e}(Error),w=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?_(o,r):"Error",u=this.serviceName+": "+s+" ("+i+").",a=new m(i,u,r);return a},t}();function _(t,e){return t.replace(O,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var O=/\{\$([^}]+)}/g;function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function S(t,e){var n=new T(t,e);return n.subscribe.bind(n)}var T=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=I),void 0===r.error&&(r.error=I),void 0===r.complete&&(r.complete=I);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function I(){}function x(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return a});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const u=new s(i),a=u},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let u=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:u,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){u&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?a(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(a(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function a(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return x}),n.d(e,"b",function(){return m}),n.d(e,"c",function(){return y}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return d}),n.d(e,"f",function(){return b}),n.d(e,"g",function(){return T}),n.d(e,"h",function(){return O}),n.d(e,"i",function(){return p}),n.d(e,"j",function(){return v}),n.d(e,"k",function(){return E});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),u=n("pxpQ"),a=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(u.b)(t.insideAngular))}}const g=["ngOnDestroy"],v=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),b=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new a.q("angularfire2.app.options"),m=new a.q("angularfire2.app.nameOrConfig");class w{}const _=new a.O("6.1.4");function O(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&S("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const E=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{Object(a.T)()&&"undefined"!=typeof console&&console[t](...e)};function T(e,n,r,i,o){const[s,...u]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=u[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(a){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const I={provide:w,useFactory:O,deps:[y,a.z,[new a.A,m]]};let x=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",a.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:m,useValue:n}]}}}return t.\u0275mod=a.Cb({type:t}),t.\u0275inj=a.Bb({factory:function(e){return new(e||t)(a.Jb(a.B))},providers:[I]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return v});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function u(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>u(e)&&t()),e},clearImmediate(t){u(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function v(t,e=0){return function(n){return n.lift(new b(t,e))}}class b{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},uXP2:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return u}),n.d(e,"h",function(){return a}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{a(r.next(t))}catch(e){o(e)}}function u(t){try{a(r.throw(t))}catch(e){o(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,u)}a((r=r.apply(t,e||[])).next())})}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(u){o=[6,u],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new u(t,e,n))}}class u{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new a(t,this.nextOrObserver,this.error,this.complete))}}class a extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("uXP2"),s=n("qOnz"),u=n("/6Yf"),a=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new a.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,a=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.h)(t),this.container=new u.b(e.name),this._addComponent(new u.a("app",function(){return a},"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var u=o.name;if("string"!=typeof u||!u)throw l.create("bad-app-name",{appName:String(u)});if(Object(s.f)(e,u))throw l.create("duplicate-app",{appName:u});var a=new t(n,o,r);return e[u]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var a=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&a.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&a.push("and"),s&&a.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(a.join(" "))}c(new u.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:a.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(a.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.f)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(u){var a,c,h=u.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===u.type?r[h]:null;if(n.set(h,u),"PUBLIC"===u.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==u.serviceProps&&Object(s.i)(f,u.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,u.multipleInstances?t:[])}}try{for(var d=Object(o.h)(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(u)}catch(v){a={error:v}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(a)throw a.error}}return"PUBLIC"===u.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.i)(e,t)},createSubscribe:s.g,ErrorFactory:s.b,deepExtend:s.i}),e}(),b=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.k)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.q)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),m.apply(void 0,t)};var w=v;!function(t,e){t.INTERNAL.registerComponent(new u.a("platform-logger",function(t){return new b(t)},"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyACk9CWr3k3FI8s8jxSvbgEr8oxdhhXzzY",authDomain:"fir-photos-5e1e3.firebaseapp.com",projectId:"fir-photos-5e1e3",storageBucket:"fir-photos-5e1e3.appspot.com",messagingSenderId:"304709571565",appId:"1:304709571565:web:876e5e186f51f6c7aa0de4",measurementId:"G-XHFLT0QTNJ"};let o=null;function s(){return o}const u=new r.q("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ab)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Jb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(u))},t.\u0275prov=Object(r.Ab)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Jb)(u))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function v(t){return t&&"?"!==t[0]?"?"+t:t}let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ab)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Jb)(u).location;return new w(Object(r.Jb)(a),e&&e.origin||"")}const m=new r.q("appBaseHref");let w=(()=>{class t extends b{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+v(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+v(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+v(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(a),r.Jb(m,8))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends b{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+v(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+v(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(a),r.Jb(m,8))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+v(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+v(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+v(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(b),r.Jb(a))},t.normalizeQueryParams=v,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Ab)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new O(Object(r.Jb)(b),Object(r.Jb)(a))}function S(t){return t.replace(/\/index.html$/,"")}var T=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),I=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),x=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function C(t,e){const n=Object(r.hb)(t),i=n[r.Y.NumberSymbols][e];if(void 0===i){if(e===x.CurrencyDecimal)return n[r.Y.NumberSymbols][x.Decimal];if(e===x.CurrencyGroup)return n[r.Y.NumberSymbols][x.Group]}return i}const j=r.kb,A=/^(\d+)?\.((\d+)(-(\d+))?)?$/,k=".",N="0";function R(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class P{}let D=(()=>{class t extends P{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(j(e||this.locale)(t)){case I.Zero:return"zero";case I.One:return"one";case I.Two:return"two";case I.Few:return"few";case I.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.u))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),L=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.nb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.sb)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(r.s),r.Eb(r.t),r.Eb(r.l),r.Eb(r.D))},t.\u0275dir=r.zb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class U{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let M=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new U(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new F(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new F(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(r.P),r.Eb(r.K),r.Eb(r.s))},t.\u0275dir=r.zb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class F{constructor(t,e){this.record=t,this.view=e}}let V=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(r.l),r.Eb(r.t),r.Eb(r.D))},t.\u0275dir=r.zb({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})();function H(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.sb)(t)}'`)}class q{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class z{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const B=new z,G=new q;let J=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.pb)(e))return B;if(Object(r.ob)(e))return G;throw H(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Lb())},t.\u0275pipe=r.Db({name:"async",type:t,pure:!1}),t})(),$=(()=>{class t{constructor(t){this._locale=t}transform(e,n,i){if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;i=i||this._locale;try{return function(t,e,n){return function(t,e,n,r,i,o,s=!1){let u="",a=!1;if(isFinite(t)){let c=function(t){let e,n,r,i,o,s=Math.abs(t)+"",u=0;for((n=s.indexOf(k))>-1&&(s=s.replace(k,"")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;s.charAt(r)===N;r++);if(r===(o=s.length))e=[0],n=1;else{for(o--;s.charAt(o)===N;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=Number(s.charAt(r))}return n>22&&(e=e.splice(0,21),u=n-1,n=1),{digits:e,exponent:u,integerLen:n}}(t);s&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,h=e.minFrac,f=e.maxFrac;if(o){const t=o.match(A);if(null===t)throw new Error(o+" is not a valid digit info");const e=t[1],n=t[3],r=t[5];null!=e&&(l=R(e)),null!=n&&(h=R(n)),null!=r?f=R(r):null!=n&&h>f&&(f=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let s=o+t.integerLen,u=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let t=s;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let t=1;t<s;t++)r[t]=0}if(u>=5)if(s-1<0){for(let e=0;e>s;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let a=0!==o;const c=e+t.integerLen,l=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,a&&(0===r[n]&&n>=c?r.pop():a=!1),e>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(c,h,f);let d=c.digits,p=c.integerLen;const g=c.exponent;let v=[];for(a=d.every(t=>!t);p<l;p++)d.unshift(0);for(;p<0;p++)d.unshift(0);p>0?v=d.splice(p,d.length):(v=d,d=[0]);const b=[];for(d.length>=e.lgSize&&b.unshift(d.splice(-e.lgSize,d.length).join(""));d.length>e.gSize;)b.unshift(d.splice(-e.gSize,d.length).join(""));d.length&&b.unshift(d.join("")),u=b.join(C(n,r)),v.length&&(u+=C(n,i)+v.join("")),g&&(u+=C(n,x.Exponential)+"+"+g)}else u=C(n,x.Infinity);return u=t<0&&!a?e.negPre+u+e.negSuf:e.posPre+u+e.posSuf,u}(t,function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(k)?i.split(k):[i.substring(0,i.lastIndexOf(N)+1),i.substring(i.lastIndexOf(N)+1)],u=s[0],a=s[1]||"";n.posPre=u.substr(0,u.indexOf("#"));for(let l=0;l<a.length;l++){const t=a.charAt(l);t===N?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const c=u.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const t=i.length-n.posPre.length-n.posSuf.length,e=o.indexOf("#");n.negPre=o.substr(0,e).replace(/'/g,""),n.negSuf=o.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(r.hb)(t)[r.Y.NumberFormats][e]}(e,T.Decimal),C(e,x.MinusSign)),e,x.Group,x.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}(e),i,n)}catch(o){throw H(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(r.u))},t.\u0275pipe=r.Db({name:"number",type:t,pure:!0}),t})(),K=(()=>{class t{}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)},providers:[{provide:P,useClass:D}]}),t})();function W(t){return"browser"===t}function Y(t){return"server"===t}let X=(()=>{class t{}return t.\u0275prov=Object(r.Ab)({token:t,providedIn:"root",factory:()=>new Z(Object(r.Jb)(u),window)}),t})();class Z{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Q(this.window.history)||Q(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Q(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class tt extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new tt,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=nt||(nt=document.querySelector("base"),nt)?nt.getAttribute("href"):null;return null==e?null:(n=e,et||(et=document.createElement("a")),et.setAttribute("href",n),"/"===et.pathname.charAt(0)?et.pathname:"/"+et.pathname);var n}resetBaseElement(){nt=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let et,nt=null;const rt=new r.q("TRANSITION_ID"),it=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[rt,u,r.r],multi:!0}];class ot{static init(){Object(r.V)(new ot)}addToWindow(t){r.mb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.mb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.mb.getAllAngularRootElements=()=>t.getAllRootElements(),r.mb.frameworkStabilizers||(r.mb.frameworkStabilizers=[]),r.mb.frameworkStabilizers.push(t=>{const e=r.mb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const st=new r.q("EventManagerPlugins");let ut=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(st),r.Jb(r.z))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();class at{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let ct=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),lt=(()=>{class t extends ct{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(u))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();const ht={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ft=/%COMP%/g;function dt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?dt(t,i,n):(i=i.replace(ft,t),n.push(i))}return n}function pt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let gt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new vt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new bt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.Q.ShadowDom:return new yt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=dt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(ut),r.Jb(lt),r.Jb(r.c))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();class vt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(ht[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=ht[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=ht[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.F.DashCase|r.F.Important)?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,pt(n)):this.eventManager.addEventListener(t,e,pt(n))}}class bt extends vt{constructor(t,e,n,r){super(t),this.component=n;const i=dt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(ft,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(ft,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class yt extends vt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=dt(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let mt=(()=>{class t extends at{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(u))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();const wt=["alt","control","meta","shift"],_t={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ot={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Et={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let St=(()=>{class t extends at{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(wt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ot.hasOwnProperty(e)&&(e=Ot[e]))}return _t[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),wt.forEach(r=>{r!=n&&(0,Et[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(u))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();const Tt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){tt.makeCurrent(),ot.init()},multi:!0},{provide:u,useFactory:function(){return Object(r.rb)(document),document},deps:[]}],It=Object(r.R)(r.U,"browser",Tt),xt=[[],{provide:r.X,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:st,useClass:mt,multi:!0,deps:[u,r.z,r.B]},{provide:st,useClass:St,multi:!0,deps:[u]},[],{provide:gt,useClass:gt,deps:[ut,lt,r.c]},{provide:r.E,useExisting:gt},{provide:ct,useExisting:lt},{provide:lt,useClass:lt,deps:[u]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:ut,useClass:ut,deps:[st,r.z]},[]];let Ct=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:rt,useExisting:r.c},it]}}}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)(r.Jb(t,12))},providers:xt,imports:[K,r.f]}),t})();function jt(){return new At(Object(r.Jb)(u))}let At=(()=>{class t{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(u))},t.\u0275prov=Object(r.Ab)({factory:jt,token:t,providedIn:"root"}),t})();"undefined"!=typeof window&&window;var kt=n("Cfvw"),Nt=n("LRne"),Rt=n("XNiG"),Pt=n("9ppp");class Dt extends Rt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Pt.a;return this._value}next(t){super.next(this._value=t)}}var Lt=n("z+Ro"),Ut=n("DH7j"),Mt=n("7o/Q");class Ft extends Mt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Vt extends Mt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ht=n("SeVD"),qt=n("HDdC");function zt(t,e,n,r,i=new Vt(t,n,r)){if(!i.closed)return e instanceof qt.a?e.subscribe(i):Object(Ht.a)(e)(i)}var Bt=n("yCtX");const Gt={};class Jt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new $t(t,this.resultSelector))}}class $t extends Ft{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Gt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(zt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Gt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Kt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Wt=n("EY2u");function Yt(t){return new qt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(kt.a)(n):Object(Wt.b)()).subscribe(e)})}var Xt=n("lJxs"),Zt=n("zx2A");function Qt(t,e){return"function"==typeof e?n=>n.pipe(Qt((n,r)=>Object(kt.a)(t(n,r)).pipe(Object(Xt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new te(t))}class te{constructor(t){this.project=t}call(t,e){return e.subscribe(new ee(t,this.project))}}class ee extends Zt.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Zt.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Zt.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const ne=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function re(t){return e=>0===t?Object(Wt.b)():e.lift(new ie(t))}class ie{constructor(t){if(this.total=t,this.total<0)throw new ne}call(t,e){return e.subscribe(new oe(t,this.total))}}class oe extends Mt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}var se=n("bHdf");function ue(){return Object(se.a)(1)}function ae(...t){return ue()(Object(Nt.a)(...t))}function ce(...t){const e=t[t.length-1];return Object(Lt.a)(e)?(t.pop(),n=>ae(t,n,e)):e=>ae(t,e)}function le(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new he(t,e,n))}}class he{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new fe(t,this.accumulator,this.seed,this.hasSeed))}}class fe extends Mt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function de(t,e){return function(n){return n.lift(new pe(t,e))}}class pe{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new ge(t,this.predicate,this.thisArg))}}class ge extends Mt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function ve(t){return function(e){const n=new be(t),r=e.lift(n);return n.caught=r}}class be{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ye(t,this.selector,this.caught))}}class ye extends Zt.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Zt.a(this);this.add(r);const i=Object(Zt.c)(n,r);i!==r&&this.add(i)}}}var me=n("5+tZ");function we(t,e){return Object(me.a)(t,e,1)}function _e(t){return function(e){return 0===t?Object(Wt.b)():e.lift(new Oe(t))}}class Oe{constructor(t){if(this.total=t,this.total<0)throw new ne}call(t,e){return e.subscribe(new Ee(t,this.total))}}class Ee extends Mt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Se(t=xe){return e=>e.lift(new Te(t))}class Te{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Ie(t,this.errorFactory))}}class Ie extends Mt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(fm){t=fm}this.destination.error(t)}}}function xe(){return new Kt}function Ce(t=null){return e=>e.lift(new je(t))}class je{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Ae(t,this.defaultValue))}}class Ae extends Mt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var ke=n("SpAZ");function Ne(t,e){const n=arguments.length>=2;return r=>r.pipe(t?de((e,n)=>t(e,n,r)):ke.a,re(1),n?Ce(e):Se(()=>new Kt))}var Re=n("vkgz"),Pe=n("quSY");function De(t){return e=>e.lift(new Le(t))}class Le{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Ue(t,this.callback))}}class Ue extends Mt.a{constructor(t,e){super(t),this.add(new Pe.a(e))}}class Me{constructor(t,e){this.id=t,this.url=e}}class Fe extends Me{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ve extends Me{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class He extends Me{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qe extends Me{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ze extends Me{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Be extends Me{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ge extends Me{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Je extends Me{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $e extends Me{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ke{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class We{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ye{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xe{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ze{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qe{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tn{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const en="primary";class nn{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function rn(t){return new nn(t)}function on(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function sn(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function un(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!an(t[i],e[i]))return!1;return!0}function an(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function cn(t){return Array.prototype.concat.apply([],t)}function ln(t){return t.length>0?t[t.length-1]:null}function hn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function fn(t){return Object(r.ob)(t)?t:Object(r.pb)(t)?Object(kt.a)(Promise.resolve(t)):Object(Nt.a)(t)}function dn(t,e,n){return n?function(t,e){return un(t,e)}(t.queryParams,e.queryParams)&&pn(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>an(t[n],e[n]))}(t.queryParams,e.queryParams)&&gn(t.root,e.root)}function pn(t,e){if(!wn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!pn(t.children[n],e.children[n]))return!1}return!0}function gn(t,e){return vn(t,e,e.segments)}function vn(t,e,n){if(t.segments.length>n.length)return!!wn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!wn(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!gn(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!wn(t.segments,r)&&!!t.children.primary&&vn(t.children.primary,e,i)}}class bn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rn(this.queryParams)),this._queryParamMap}toString(){return En.serialize(this)}}class yn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,hn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sn(this)}}class mn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=rn(this.parameters)),this._parameterMap}toString(){return kn(this)}}function wn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class _n{}class On{parse(t){const e=new Ln(t);return new bn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+Tn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${xn(e)}=${xn(t)}`).join("&"):`${xn(e)}=${xn(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const En=new On;function Sn(t){return t.segments.map(t=>kn(t)).join("/")}function Tn(t,e){if(!t.hasChildren())return Sn(t);if(e){const e=t.children.primary?Tn(t.children.primary,!1):"",n=[];return hn(t.children,(t,e)=>{e!==en&&n.push(`${e}:${Tn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return hn(t.children,(t,r)=>{r===en&&(n=n.concat(e(t,r)))}),hn(t.children,(t,r)=>{r!==en&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===en?[Tn(t.children.primary,!1)]:[`${n}:${Tn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Sn(t)}/${e[0]}`:`${Sn(t)}/(${e.join("//")})`}}function In(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xn(t){return In(t).replace(/%3B/gi,";")}function Cn(t){return In(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jn(t){return decodeURIComponent(t)}function An(t){return jn(t.replace(/\+/g,"%20"))}function kn(t){return`${Cn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Cn(t)}=${Cn(e[t])}`).join("")}`;var e}const Nn=/^[^\/()?;=#]+/;function Rn(t){const e=t.match(Nn);return e?e[0]:""}const Pn=/^[^=?&#]+/,Dn=/^[^?&#]+/;class Ln{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yn([],{}):new yn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new yn(t,e)),n}parseSegment(){const t=Rn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new mn(jn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Rn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Rn(this.remaining);t&&(n=t,this.capture(n))}t[jn(e)]=jn(n)}parseQueryParam(t){const e=function(t){const e=t.match(Pn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Dn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=An(e),i=An(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Rn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=en);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new yn([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Un{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Mn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Mn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Fn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Fn(t,this._root).map(t=>t.value)}}function Mn(t,e){if(t===e.value)return e;for(const n of e.children){const e=Mn(t,n);if(e)return e}return null}function Fn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Fn(t,n);if(r.length)return r.unshift(e),r}return[]}class Vn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Hn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class qn extends Un{constructor(t,e){super(t),this.snapshot=e,Kn(this,t)}toString(){return this.snapshot.toString()}}function zn(t,e){const n=function(t,e){const n=new Jn([],{},{},"",{},en,e,null,t.root,-1,{});return new $n("",new Vn(n,[]))}(t,e),r=new Dt([new mn("",{})]),i=new Dt({}),o=new Dt({}),s=new Dt({}),u=new Dt(""),a=new Bn(r,i,s,u,o,en,e,n.root);return a.snapshot=n.root,new qn(new Vn(a,[]),n)}class Bn{constructor(t,e,n,r,i,o,s,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Xt.a)(t=>rn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Xt.a)(t=>rn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Gn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Jn{constructor(t,e,n,r,i,o,s,u,a,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=u,this._urlSegment=a,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=rn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $n extends Un{constructor(t,e){super(e),this.url=t,Kn(this,e)}toString(){return Wn(this._root)}}function Kn(t,e){e.value._routerState=t,e.children.forEach(e=>Kn(t,e))}function Wn(t){const e=t.children.length>0?` { ${t.children.map(Wn).join(", ")} } `:"";return`${t.value}${e}`}function Yn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,un(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),un(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!un(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),un(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Xn(t,e){return un(t.params,e.params)&&function(t,e){return wn(t,e)&&t.every((t,n)=>un(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Xn(t.parent,e.parent))}function Zn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Zn(t,e,r);return Zn(t,e)})}(t,e,n);return new Vn(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Qn(e,t),t}{const n=new Bn(new Dt((r=e.value).url),new Dt(r.params),new Dt(r.queryParams),new Dt(r.fragment),new Dt(r.data),r.outlet,r.component,r),i=e.children.map(e=>Zn(t,e));return new Vn(n,i)}}var r}function Qn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Qn(t.children[n],e.children[n])}function tr(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function er(t){return"object"==typeof t&&null!=t&&t.outlets}function nr(t,e,n,r,i){let o={};return r&&hn(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new bn(n.root===t?e:rr(n.root,t,e),o,i)}function rr(t,e,n){const r={};return hn(t.children,(t,i)=>{r[i]=t===e?n:rr(t,e,n)}),new yn(t.segments,r)}class ir{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&tr(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(er);if(r&&r!==ln(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class or{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function sr(t,e,n){if(t||(t=new yn([],{})),0===t.segments.length&&t.hasChildren())return ur(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(er(s))break;const u=""+s,a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&a&&"object"==typeof a&&void 0===a.outlets){if(!hr(u,a,e))return o;r+=2}else{if(!hr(u,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new yn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new yn(t.segments.slice(r.pathIndex),t.children),ur(e,0,i)}return r.match&&0===i.length?new yn(t.segments,{}):r.match&&!t.hasChildren()?ar(t,e,n):r.match?ur(t,0,i):ar(t,e,n)}function ur(t,e,n){if(0===n.length)return new yn(t.segments,{});{const r=function(t){return er(t[0])?t[0].outlets:{[en]:t}}(n),i={};return hn(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=sr(t.children[r],e,n))}),hn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new yn(t.segments,i)}}function ar(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(er(o)){const t=cr(o.outlets);return new yn(r,t)}if(0===i&&tr(n[0])){r.push(new mn(t.segments[e].path,n[0])),i++;continue}const s=er(o)?o.outlets.primary:""+o,u=i<n.length-1?n[i+1]:null;s&&u&&tr(u)?(r.push(new mn(s,lr(u))),i+=2):(r.push(new mn(s,{})),i++)}return new yn(r,{})}function cr(t){const e={};return hn(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=ar(new yn([],{}),0,t))}),e}function lr(t){const e={};return hn(t,(t,n)=>e[n]=""+t),e}function hr(t,e,n){return t==n.path&&un(e,n.parameters)}class fr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Yn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Hn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),hn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Hn(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=Hn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Qe(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Xe(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Yn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),dr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function dr(t){Yn(t.value),t.children.forEach(dr)}class pr{constructor(t,e){this.routes=t,this.module=e}}function gr(t){return"function"==typeof t}function vr(t){return t instanceof bn}const br=Symbol("INITIAL_VALUE");function yr(){return Qt(t=>function(...t){let e=void 0,n=void 0;return Object(Lt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Ut.a)(t[0])&&(t=t[0]),Object(Bt.a)(t,n).lift(new Jt(e))}(...t.map(t=>t.pipe(re(1),ce(br)))).pipe(le((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==br)return t;if(r===br&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||vr(r))return r}return t},t)},br),de(t=>t!==br),Object(Xt.a)(t=>vr(t)?t:!0===t),re(1)))}let mr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.yb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Fb(0,"router-outlet")},directives:function(){return[yi]},encapsulation:2}),t})();function wr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];_r(r,Or(e,r))}}function _r(t,e){t.children&&wr(t.children,e)}function Or(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Er(t){const e=t.children&&t.children.map(Er),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==en&&(n.component=mr),n}function Sr(t){return t.outlet||en}function Tr(t,e){const n=t.filter(t=>Sr(t)===e);return n.push(...t.filter(t=>Sr(t)!==e)),n}const Ir={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function xr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Ir):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||sn)(n,t,e);if(!i)return Object.assign({},Ir);const o={};hn(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Cr(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>jr(t,e,n)&&Sr(n)!==en)}(t,n,r)){const i=new yn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Sr(o)!==en){const n=new yn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Sr(o)]=n}return i}(t,e,r,new yn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>jr(t,e,n))}(t,n,r)){const o=new yn(t.segments,function(t,e,n,r,i,o){const s={};for(const u of r)if(jr(t,n,u)&&!i[Sr(u)]){const n=new yn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Sr(u)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new yn(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function jr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Ar(t,e,n,r){return!!(Sr(t)===r||r!==en&&jr(e,n,t))&&("**"===t.path||xr(e,t,n).matched)}function kr(t,e,n){return 0===e.length&&!t.children[n]}class Nr{constructor(t){this.segmentGroup=t||null}}class Rr{constructor(t){this.urlTree=t}}function Pr(t){return new qt.a(e=>e.error(new Nr(t)))}function Dr(t){return new qt.a(e=>e.error(new Rr(t)))}function Lr(t){return new qt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Ur{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){const t=Cr(this.urlTree.root,[],[],this.config).segmentGroup,e=new yn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,en).pipe(Object(Xt.a)(t=>this.createUrlTree(Mr(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ve(t=>{if(t instanceof Rr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Nr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,en).pipe(Object(Xt.a)(e=>this.createUrlTree(Mr(e),t.queryParams,t.fragment))).pipe(ve(t=>{if(t instanceof Nr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new yn([],{[en]:t}):t;return new bn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Xt.a)(t=>new yn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(kt.a)(r).pipe(we(r=>{const i=n.children[r],o=Tr(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(Xt.a)(t=>({segment:t,outlet:r})))}),le((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?de((e,n)=>t(e,n,r)):ke.a,_e(1),n?Ce(e):Se(()=>new Kt))}())}expandSegment(t,e,n,r,i,o){return Object(kt.a)(n).pipe(we(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(ve(t=>{if(t instanceof Nr)return Object(Nt.a)(null);throw t}))),Ne(t=>!!t),ve((t,n)=>{if(t instanceof Kt||"EmptyError"===t.name){if(kr(e,r,i))return Object(Nt.a)(new yn([],{}));throw new Nr(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Ar(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Pr(e):Pr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Dr(i):this.lineralizeSegments(n,i).pipe(Object(me.a)(n=>{const i=new yn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:u,lastChild:a,positionalParamSegments:c}=xr(e,r,i);if(!s)return Pr(e);const l=this.applyRedirectCommands(u,r.redirectTo,c);return r.redirectTo.startsWith("/")?Dr(l):this.lineralizeSegments(r,l).pipe(Object(me.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(a)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Xt.a)(t=>(n._loadedConfig=t,new yn(r,{})))):Object(Nt.a)(new yn(r,{}));const{matched:o,consumedSegments:s,lastChild:u}=xr(e,n,r);if(!o)return Pr(e);const a=r.slice(u);return this.getChildConfig(t,n,r).pipe(Object(me.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:u,slicedSegments:c}=Cr(e,s,a,o),l=new yn(u.segments,u.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(Xt.a)(t=>new yn(s,t)));if(0===o.length&&0===c.length)return Object(Nt.a)(new yn(s,{}));const h=Sr(n)===i;return this.expandSegment(r,l,o,c,h?en:i,!0).pipe(Object(Xt.a)(t=>new yn(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Nt.a)(new pr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Nt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(me.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Xt.a)(t=>(e._loadedConfig=t,t))):function(t){return new qt.a(e=>e.error(on(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Nt.a)(new pr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Nt.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&gr(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!gr(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return fn(o)});return Object(Nt.a)(i).pipe(yr(),Object(Re.a)(t=>{if(!vr(t))return;const e=on(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Xt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Nt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Lr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new bn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return hn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return hn(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new yn(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Mr(t){const e={};for(const n of Object.keys(t.children)){const r=Mr(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new yn(t.segments.concat(e.segments),e.children)}return t}(new yn(t.segments,e))}class Fr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Vr{constructor(t,e){this.component=t,this.route=e}}function Hr(t,e,n){const r=t._root;return zr(r,e?e._root:null,n,[r.value])}function qr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function zr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Hn(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,u=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const a=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!wn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!wn(t.url,e.url)||!un(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xn(t,e)||!un(t.queryParams,e.queryParams);case"paramsChange":default:return!Xn(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);a?i.canActivateChecks.push(new Fr(r)):(o.data=s.data,o._resolvedData=s._resolvedData),zr(t,e,o.component?u?u.children:null:n,r,i),a&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new Vr(u.outlet.component,s))}else s&&Br(e,u,i),i.canActivateChecks.push(new Fr(r)),zr(t,null,o.component?u?u.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),hn(o,(t,e)=>Br(t,n.getContext(e),i)),i}function Br(t,e,n){const r=Hn(t),i=t.value;hn(r,(t,r)=>{Br(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Vr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Gr(t,e){return null!==t&&e&&e(new Ze(t)),Object(Nt.a)(!0)}function Jr(t,e){return null!==t&&e&&e(new Ye(t)),Object(Nt.a)(!0)}function $r(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Nt.a)(!0);const i=r.map(r=>Yt(()=>{const i=qr(r,e,n);let o;if(function(t){return t&&gr(t.canActivate)}(i))o=fn(i.canActivate(e,t));else{if(!gr(i))throw new Error("Invalid CanActivate guard");o=fn(i(e,t))}return o.pipe(Ne())}));return Object(Nt.a)(i).pipe(yr())}function Kr(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Yt(()=>{const i=e.guards.map(i=>{const o=qr(i,e.node,n);let s;if(function(t){return t&&gr(t.canActivateChild)}(o))s=fn(o.canActivateChild(r,t));else{if(!gr(o))throw new Error("Invalid CanActivateChild guard");s=fn(o(r,t))}return s.pipe(Ne())});return Object(Nt.a)(i).pipe(yr())}));return Object(Nt.a)(i).pipe(yr())}class Wr{}function Yr(t){return new qt.a(e=>e.error(t))}class Xr{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=Cr(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,en);if(null===e)return null;const n=new Jn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},en,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Vn(n,e),i=new $n(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Gn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=Tr(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!Zr(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===en?-1:e.value.outlet===en?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return kr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Ar(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?ln(n).parameters:{};i=new Jn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ei(t),Sr(t),t.component,t,Qr(e),ti(e)+n.length,ni(t))}else{const r=xr(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Jn(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ei(t),Sr(t),t.component,t,Qr(e),ti(e)+o.length,ni(t))}const u=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:a,slicedSegments:c}=Cr(e,o,s,u.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&a.hasChildren()){const t=this.processChildren(u,a);return null===t?null:[new Vn(i,t)]}if(0===u.length&&0===c.length)return[new Vn(i,[])];const l=Sr(t)===r,h=this.processSegment(u,a,c,l?en:r);return null===h?null:[new Vn(i,h)]}}function Zr(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Qr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ti(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function ei(t){return t.data||{}}function ni(t){return t.resolve||{}}function ri(t){return function(e){return e.pipe(Qt(e=>{const n=t(e);return n?Object(kt.a)(n).pipe(Object(Xt.a)(()=>e)):Object(kt.a)([e])}))}}class ii extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const oi=new r.q("ROUTES");class si{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Xt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new pr(cn(r.injector.get(oi)).map(Er),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(kt.a)(this.loader.load(t)):fn(t()).pipe(Object(me.a)(t=>t instanceof r.v?Object(Nt.a)(t):Object(kt.a)(this.compiler.compileModuleAsync(t))))}}class ui{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ai,this.attachRef=null}}class ai{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new ui,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class ci{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function li(t){throw t}function hi(t,e,n){return e.parse("/")}function fi(t,e){return Object(Nt.a)(null)}let di=(()=>{class t{constructor(t,e,n,i,o,s,u,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Rt.a,this.errorHandler=li,this.malformedUriErrorHandler=hi,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:fi,afterPreactivation:fi},this.urlHandlingStrategy=new ci,this.routeReuseStrategy=new ii,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.x),this.console=o.get(r.W);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(a),this.currentUrlTree=new bn(new yn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new si(s,u,t=>this.triggerEvent(new Ke(t)),t=>this.triggerEvent(new We(t))),this.routerState=zn(this.currentUrlTree,this.rootComponentType),this.transitions=new Dt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(de(t=>0!==t.id),Object(Xt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Qt(t=>{let n=!1,r=!1;return Object(Nt.a)(t).pipe(Object(Re.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Qt(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Nt.a)(t).pipe(Qt(t=>{const n=this.transitions.getValue();return e.next(new Fe(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Wt.a:[t]}),Qt(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(Qt(t=>function(t,e,n,r,i){return new Ur(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Xt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(Re.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(me.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Xr(t,e,n,r,i,o).recognize();return null===s?Yr(new Wr):Object(Nt.a)(s)}catch(fm){return Yr(fm)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Xt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Re.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(Re.a)(t=>{const n=new ze(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,u=new Fe(n,this.serializeUrl(r),i,o);e.next(u);const a=zn(r,this.rootComponentType).snapshot;return Object(Nt.a)(Object.assign(Object.assign({},t),{targetSnapshot:a,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Wt.a}),ri(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Re.a)(t=>{const e=new Be(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Xt.a)(t=>Object.assign(Object.assign({},t),{guards:Hr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(me.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(Nt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(kt.a)(t).pipe(Object(me.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Nt.a)(!0);const s=o.map(o=>{const s=qr(o,e,i);let u;if(function(t){return t&&gr(t.canDeactivate)}(s))u=fn(s.canDeactivate(t,e,n,r));else{if(!gr(s))throw new Error("Invalid CanDeactivate guard");u=fn(s(t,e,n,r))}return u.pipe(Ne())});return Object(Nt.a)(s).pipe(yr())}(t.component,t.route,n,e,r)),Ne(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(me.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(kt.a)(e).pipe(we(e=>Object(kt.a)([Jr(e.route.parent,r),Gr(e.route,r),Kr(t,e.path,n),$r(t,e.route,n)]).pipe(ue(),Ne(t=>!0!==t,!0))),Ne(t=>!0!==t,!0))}(r,o,t,e):Object(Nt.a)(n)),Object(Xt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Re.a)(t=>{if(vr(t.guardsResult)){const e=on(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(Re.a)(t=>{const e=new Ge(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),de(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new He(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),ri(t=>{if(t.guards.canActivateChecks.length)return Object(Nt.a)(t).pipe(Object(Re.a)(t=>{const e=new Je(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Qt(t=>{let n=!1;return Object(Nt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(me.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Nt.a)(t);let o=0;return Object(kt.a)(n).pipe(we(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Nt.a)({});const o={};return Object(kt.a)(i).pipe(Object(me.a)(i=>function(t,e,n,r){const i=qr(t,e,r);return fn(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Re.a)(t=>{o[i]=t}))),_e(1),Object(me.a)(()=>Object.keys(o).length===i.length?Object(Nt.a)(o):Wt.a))}(t._resolve,t,e,r).pipe(Object(Xt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Gn(t,n).resolve),null)))}(t.route,e,r,i)),Object(Re.a)(()=>o++),_e(1),Object(me.a)(e=>o===n.length?Object(Nt.a)(t):Wt.a))}))}),Object(Re.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new He(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Re.a)(t=>{const e=new $e(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),ri(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Xt.a)(t=>{const e=function(t,e,n){const r=Zn(t,e._root,n?n._root:void 0);return new qn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Re.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,o=this.routeReuseStrategy,s=t=>this.triggerEvent(t),Object(Xt.a)(t=>(new fr(o,t.targetRouterState,t.currentRouterState,s).activate(i),t))),Object(Re.a)({next(){n=!0},complete(){n=!0}}),De(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new He(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),ve(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=vr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new He(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new qe(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Rl){t.reject(Rl)}}var i;return Wt.a}));var i,o,s}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){wr(t),this.config=t.map(Er),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,u=n||this.routerState.root,a=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return nr(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ir(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return hn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new ir(n,e,r)}(n);if(o.toRoot())return nr(e.root,new yn([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new or(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new or(t,t===e.root,0)}const r=tr(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new or(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),u=s.processChildren?ur(s.segmentGroup,s.index,o.commands):sr(s.segmentGroup,s.index,o.commands);return nr(s.segmentGroup,u,e,r,i)}(u,this.currentUrlTree,t,c,a)}navigateByUrl(t,e={skipLocationChange:!1}){const n=vr(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(fm){e=this.malformedUriErrorHandler(fm,this.urlSerializer,t)}return e}isActive(t,e){if(vr(t))return dn(this.currentUrlTree,t,e);const n=this.parseUrl(t);return dn(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Ve(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),u=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&u)return Promise.resolve(!0);let a,c,l;i?(a=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{a=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.M),r.Jb(_n),r.Jb(ai),r.Jb(O),r.Jb(r.r),r.Jb(r.w),r.Jb(r.i),r.Jb(void 0))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),pi=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new Rt.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:vi(this.skipLocationChange),replaceUrl:vi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:vi(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(di),r.Eb(Bn),r.Kb("tabindex"),r.Eb(r.D),r.Eb(r.l))},t.\u0275dir=r.zb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Mb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.ub]}),t})(),gi=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Rt.a,this.subscription=t.events.subscribe(t=>{t instanceof Ve&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:vi(this.skipLocationChange),replaceUrl:vi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:vi(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(di),r.Eb(Bn),r.Eb(b))},t.\u0275dir=r.zb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Mb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Ib("href",e.href,r.Vb),r.wb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.ub]}),t})();function vi(t){return""===t||!!t}let bi=(()=>{class t{constructor(t,e,n,r,i,o){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof Ve&&this.update()})}ngAfterContentInit(){Object(kt.a)([this.links.changes,this.linksWithHrefs.changes,Object(Nt.a)(null)]).pipe(Object(se.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(kt.a)(e).pipe(Object(se.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(di),r.Eb(r.l),r.Eb(r.D),r.Eb(r.h),r.Eb(pi,8),r.Eb(gi,8))},t.\u0275dir=r.zb({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(r.xb(n,pi,!0),r.xb(n,gi,!0)),2&t){let t;r.Ub(t=r.Nb())&&(e.links=t),r.Ub(t=r.Nb())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.ub]}),t})(),yi=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||en,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new mi(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(ai),r.Eb(r.P),r.Eb(r.j),r.Kb("name"),r.Eb(r.h))},t.\u0275dir=r.zb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class mi{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Bn?this.route:t===ai?this.childContexts:this.parent.get(t,e)}}class wi{}class _i{preload(t,e){return Object(Nt.a)(null)}}let Oi=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new si(e,n,e=>t.triggerEvent(new Ke(e)),e=>t.triggerEvent(new We(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(de(t=>t instanceof Ve),we(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(kt.a)(n).pipe(Object(se.a)(),Object(Xt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(me.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(di),r.Jb(r.w),r.Jb(r.i),r.Jb(r.r),r.Jb(wi))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),Ei=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Fe?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ve&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof tn&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new tn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(di),r.Jb(X),r.Jb(void 0))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();const Si=new r.q("ROUTER_CONFIGURATION"),Ti=new r.q("ROUTER_FORROOT_GUARD"),Ii=[O,{provide:_n,useClass:On},{provide:di,useFactory:function(t,e,n,r,i,o,u,a={},c,l){const h=new di(null,t,e,n,r,i,o,cn(u));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,h),a.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[_n,ai,O,r.r,r.w,r.i,oi,Si,[class{},new r.A],[class{},new r.A]]},ai,{provide:Bn,useFactory:function(t){return t.routerState.root},deps:[di]},{provide:r.w,useClass:r.J},Oi,_i,class{preload(t,e){return e().pipe(ve(()=>Object(Nt.a)(null)))}},{provide:Si,useValue:{enableTracing:!1}}];function xi(){return new r.y("Router",di)}let Ci=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Ii,Ni(e),{provide:Ti,useFactory:ki,deps:[[di,new r.A,new r.I]]},{provide:Si,useValue:n||{}},{provide:b,useFactory:Ai,deps:[a,[new r.p(m),new r.A],Si]},{provide:Ei,useFactory:ji,deps:[di,X,Si]},{provide:wi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:_i},{provide:r.y,multi:!0,useFactory:xi},[Ri,{provide:r.d,multi:!0,useFactory:Pi,deps:[Ri]},{provide:Li,useFactory:Di,deps:[Ri]},{provide:r.b,multi:!0,useExisting:Li}]]}}static forChild(e){return{ngModule:t,providers:[Ni(e)]}}}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)(r.Jb(Ti,8),r.Jb(di,8))}}),t})();function ji(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Ei(t,e,n)}function Ai(t,e,n={}){return n.useHash?new _(t,e):new w(t,e)}function ki(t){return"guarded"}function Ni(t){return[{provide:r.a,multi:!0,useValue:t},{provide:oi,multi:!0,useValue:t}]}let Ri=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Rt.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(di),r=this.injector.get(Si);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Nt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Si),n=this.injector.get(Oi),i=this.injector.get(Ei),o=this.injector.get(di),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.r))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();function Pi(t){return t.appInitializer.bind(t)}function Di(t){return t.bootstrapListener.bind(t)}const Li=new r.q("Router Initializer");var Ui=n("D0XW");function Mi(){return t=>t.lift(new Fi)}class Fi{call(t,e){return e.subscribe(new Vi(t))}}class Vi extends Mt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function Hi(t,e){return n=>n.lift(new qi(t,e))}class qi{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new zi(t,this.compare,this.keySelector))}}class zi extends Mt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Bi=n("pxpQ"),Gi=n("spgP"),Ji=n("Jgta"),$i=n("zIRd"),Ki=n("q/0M"),Wi=n("qOnz"),Yi=function(t,e){return(Yi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Xi(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Zi,Qi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},to=to||{},eo=Qi||self;function no(){}function ro(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function io(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var oo="closure_uid_"+(1e9*Math.random()>>>0),so=0;function uo(t,e,n){return t.call.apply(t.bind,arguments)}function ao(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function co(t,e,n){return(co=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?uo:ao).apply(null,arguments)}function lo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ho(){return Date.now()}function fo(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function po(){this.j=this.j,this.i=this.i}po.prototype.j=!1,po.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,oo)&&t[oo]||(t[oo]=++so)}(this)},po.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var go=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},vo=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function bo(t){return Array.prototype.concat.apply([],arguments)}function yo(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function mo(t){return/^[\s\xa0]*$/.test(t)}var wo,_o=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Oo(t,e){return-1!=t.indexOf(e)}function Eo(t,e){return t<e?-1:t>e?1:0}t:{var So=eo.navigator;if(So){var To=So.userAgent;if(To){wo=To;break t}}wo=""}function Io(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function xo(t){var e={};for(var n in t)e[n]=t[n];return e}var Co="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jo(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Co.length;o++)n=Co[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ao(t){return Ao[" "](t),t}Ao[" "]=no;var ko,No,Ro=Oo(wo,"Opera"),Po=Oo(wo,"Trident")||Oo(wo,"MSIE"),Do=Oo(wo,"Edge"),Lo=Do||Po,Uo=Oo(wo,"Gecko")&&!(Oo(wo.toLowerCase(),"webkit")&&!Oo(wo,"Edge"))&&!(Oo(wo,"Trident")||Oo(wo,"MSIE"))&&!Oo(wo,"Edge"),Mo=Oo(wo.toLowerCase(),"webkit")&&!Oo(wo,"Edge");function Fo(){var t=eo.document;return t?t.documentMode:void 0}t:{var Vo="",Ho=(No=wo,Uo?/rv:([^\);]+)(\)|;)/.exec(No):Do?/Edge\/([\d\.]+)/.exec(No):Po?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(No):Mo?/WebKit\/(\S+)/.exec(No):Ro?/(?:Version)[ \/]?(\S+)/.exec(No):void 0);if(Ho&&(Vo=Ho?Ho[1]:""),Po){var qo=Fo();if(null!=qo&&qo>parseFloat(Vo)){ko=String(qo);break t}}ko=Vo}var zo={};function Bo(t){return function(t,e){var n=zo;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=_o(String(ko)).split("."),r=_o(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",u=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;e=Eo(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||Eo(0==s[2].length,0==u[2].length)||Eo(s[2],u[2]),s=s[3],u=u[3]}while(0==e)}return 0<=e})}var Go=eo.document&&Po&&(Fo()||parseInt(ko,10))||void 0,Jo=!Po||9<=Number(Go),$o=Po&&!Bo("9"),Ko=function(){if(!eo.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{eo.addEventListener("test",no,e),eo.removeEventListener("test",no,e)}catch(n){}return t}();function Wo(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Yo(t,e){if(Wo.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Uo){t:{try{Ao(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Xo[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Wo.prototype.b=function(){this.defaultPrevented=!0},fo(Yo,Wo);var Xo={2:"touch",3:"pen",4:"mouse"};Yo.prototype.b=function(){Yo.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,$o)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Zo="closure_listenable_"+(1e6*Math.random()|0),Qo=0;function ts(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Qo,this.Y=this.Z=!1}function es(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ns(t){this.src=t,this.a={},this.b=0}function rs(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=go(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(es(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function is(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ns.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=is(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new ts(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var os="closure_lm_"+(1e6*Math.random()|0),ss={};function us(t,e,n,r,i){if(r&&r.once)return cs(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)us(t,e[o],n,r,i);return null}return n=bs(n),t&&t[Zo]?t.va(e,n,io(r)?!!r.capture:!!r,i):as(t,e,n,!1,r,i)}function as(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=io(i)?!!i.capture:!!i;if(s&&!Jo)return null;var u=gs(t);if(u||(t[os]=u=new ns(t)),(n=u.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=ps,e=Jo?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ko||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(fs(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function cs(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)cs(t,e[o],n,r,i);return null}return n=bs(n),t&&t[Zo]?t.wa(e,n,io(r)?!!r.capture:!!r,i):as(t,e,n,!0,r,i)}function ls(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ls(t,e[o],n,r,i);else r=io(r)?!!r.capture:!!r,n=bs(n),t&&t[Zo]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=is(o=t.a[e],n,r,i))&&(es(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=gs(t))&&(e=t.a[e.toString()],t=-1,e&&(t=is(e,n,r,i)),(n=-1<t?e[t]:null)&&hs(n))}function hs(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Zo])rs(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fs(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gs(e))?(rs(n,t),0==n.b&&(n.src=null,e[os]=null)):es(t)}}}function fs(t){return t in ss?ss[t]:ss[t]="on"+t}function ds(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&hs(t),n.call(r,e)}function ps(t,e){if(t.Y)return!0;if(!Jo){if(!e)t:{e=["window","event"];for(var n=eo,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return ds(t,e=new Yo(e,this))}return ds(t,new Yo(e,this))}function gs(t){return(t=t[os])instanceof ns?t:null}var vs="__closure_events_fn_"+(1e9*Math.random()>>>0);function bs(t){return"function"==typeof t?t:(t[vs]||(t[vs]=function(e){return t.handleEvent(e)}),t[vs])}function ys(){po.call(this),this.c=new ns(this),this.J=this,this.C=null}function ms(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Wo(e,t);else if(e instanceof Wo)e.target=e.target||t;else{var i=e;jo(e=new Wo(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=ws(s,r,!0,e)&&i}if(i=ws(s=e.a=t,r,!0,e)&&i,i=ws(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=ws(s=e.a=n[o],r,!1,e)&&i}function ws(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var u=s.listener,a=s.ca||s.src;s.Z&&rs(t.c,s),i=!1!==u.call(a,r)&&i}}return i&&!r.defaultPrevented}fo(ys,po),ys.prototype[Zo]=!0,(Zi=ys.prototype).addEventListener=function(t,e,n,r){us(this,t,e,n,r)},Zi.removeEventListener=function(t,e,n,r){ls(this,t,e,n,r)},Zi.G=function(){if(ys.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)es(n[r]);delete e.a[t],e.b--}}this.C=null},Zi.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Zi.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var _s=eo.JSON.stringify;function Os(){this.b=this.a=null}var Es,Ss=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Is},function(t){t.reset()});function Ts(){var t=As,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Is(){this.next=this.b=this.a=null}function xs(t){eo.setTimeout(function(){throw t},0)}function Cs(t,e){Es||function(){var t=eo.Promise.resolve(void 0);Es=function(){t.then(ks)}}(),js||(Es(),js=!0),As.add(t,e)}Os.prototype.add=function(t,e){var n=Ss.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Is.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Is.prototype.reset=function(){this.next=this.b=this.a=null};var js=!1,As=new Os;function ks(){for(var t;t=Ts();){try{t.a.call(t.b)}catch(n){xs(n)}var e=Ss;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}js=!1}function Ns(t,e){ys.call(this),this.b=t||1,this.a=e||eo,this.f=co(this.Za,this),this.g=ho()}function Rs(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ps(t,e,n){if("function"==typeof t)n&&(t=co(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=co(t.handleEvent,t)}return 2147483647<Number(e)?-1:eo.setTimeout(t,e||0)}function Ds(t){t.a=Ps(function(){t.a=null,t.c&&(t.c=!1,Ds(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}fo(Ns,ys),(Zi=Ns.prototype).aa=!1,Zi.M=null,Zi.Za=function(){if(this.aa){var t=ho()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),ms(this,"tick"),this.aa&&(Rs(this),this.start()))}},Zi.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=ho())},Zi.G=function(){Ns.X.G.call(this),Rs(this),delete this.a};var Ls=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Yi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ds(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(eo.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(po);function Us(t){po.call(this),this.b=t,this.a={}}fo(Us,po);var Ms=[];function Fs(t,e,n,r){Array.isArray(n)||(n&&(Ms[0]=n.toString()),n=Ms);for(var i=0;i<n.length;i++){var o=us(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Vs(t){Io(t.a,function(t,e){this.a.hasOwnProperty(e)&&hs(t)},t),t.a={}}function Hs(){this.a=!0}function qs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return _s(n)}catch(u){return e}}(t,n)+(r?" "+r:"")})}Us.prototype.G=function(){Us.X.G.call(this),Vs(this)},Us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Hs.prototype.info=function(){};var zs={},Bs=null;function Gs(){return Bs=Bs||new ys}function Js(t){Wo.call(this,zs.Fa,t)}function $s(t){var e=Gs();ms(e,new Js(e,t))}function Ks(t,e){Wo.call(this,zs.STAT_EVENT,t),this.stat=e}function Ws(t){var e=Gs();ms(e,new Ks(e,t))}function Ys(t){Wo.call(this,zs.Ga,t)}function Xs(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return eo.setTimeout(function(){t()},e)}zs.Fa="serverreachability",fo(Js,Wo),zs.STAT_EVENT="statevent",fo(Ks,Wo),zs.Ga="timingevent",fo(Ys,Wo);var Zs={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Qs={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function tu(){}function eu(){}tu.prototype.a=null;var nu,ru={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function iu(){Wo.call(this,"d")}function ou(){Wo.call(this,"c")}function su(){}function uu(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Us(this),this.P=au,this.R=new Ns(t=Lo?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}fo(iu,Wo),fo(ou,Wo),fo(su,tu),nu=new su;var au=45e3,cu={},lu={};function hu(t,e,n){t.H=1,t.i=Ru(xu(e)),t.j=n,t.I=!0,fu(t,null)}function fu(t,e){t.u=ho(),gu(t),t.l=xu(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Ju(n.b,"t",r),t.D=0,t.a=Va(t.g,t.g.C?e:null),0<t.O&&(t.F=new Ls(co(t.Ca,t,t.a),t.O)),Fs(t.J,t.a,"readystatechange",t.Xa),e=t.B?xo(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),$s(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",u=o.split("&"),a=0;a<u.length;a++){var c=u[a].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function du(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=pu(t,n);if(i==lu){4==e&&(t.h=4,Ws(14),r=!1),qs(t.c,t.f,null,"[Incomplete Response]");break}if(i==cu){t.h=4,Ws(15),qs(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}qs(t.c,t.f,i,null),wu(t,i)}4==e&&0==n.length&&(t.h=1,Ws(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Na(e),e.F=!0,Ws(11))):(qs(t.c,t.f,n,"[Invalid Chunked Response]"),mu(t),yu(t))}function pu(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?lu:(n=Number(e.substring(n,r)),isNaN(n)?cu:(r+=1)+n>e.length?lu:(e=e.substr(r,n),t.D=r+n,e))}function gu(t){t.T=ho()+t.P,vu(t,t.P)}function vu(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Xs(co(t.Va,t),e)}function bu(t){t.o&&(eo.clearTimeout(t.o),t.o=null)}function yu(t){0==t.g.v||t.A||Da(t.g,t)}function mu(t){bu(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Rs(t.R),Vs(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function wu(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Qu(n.b,t)))if(n.I=t.N,!t.C&&Qu(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Ty){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Pa(n),Ea(n)}ka(n),Ws(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Xs(co(n.Sa,n),6e3));if(1>=Zu(n.b)&&n.ea){try{n.ea()}catch(Ty){}n.ea=void 0}}else Ua(n,11)}else if((t.C||n.a==t)&&Pa(n),!mo(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var u=i[5];if(null!=u&&"number"==typeof u&&0<u){var a=1.5*u;n.D=a,n.c.info("backChannelRequestTimeoutMs_="+a)}a=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=a.b;!h.a&&(Oo(l,"spdy")||Oo(l,"quic")||Oo(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(ta(h,h.b),h.b=null))}if(a.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(a.na=f,Nu(a.B,a.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=ho()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((a=n).la=Fa(a,a.C?a.ga:null,a.fa),d.C){ea(a.b,d);var p=d,g=a.D;g&&p.setTimeout(g),p.o&&(bu(p),gu(p)),a.a=d}else Aa(a);0<n.g.length&&Ia(n)}else"stop"!=i[0]&&"close"!=i[0]||Ua(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Ua(n,7):Oa(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);$s(4)}catch(Ty){}}function _u(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ro(t)||"string"==typeof t)vo(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(ro(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(ro(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ou(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ou)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Eu(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Su(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Su(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Su(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Zi=uu.prototype).setTimeout=function(t){this.P=t},Zi.Xa=function(t){t=t.target;var e=this.F;e&&3==ya(t)?e.f():this.Ca(t)},Zi.Ca=function(t){try{if(t==this.a)t:{var e=ya(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Lo&&!this.a.$())){this.A||4!=e||7==n||$s(8==n||0>=r?3:2),bu(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,u=this.a;if((s=u.a?u.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mo(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.h=3,Ws(12),mu(this),yu(this);break t}qs(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,wu(this,a)}this.I?(du(this,e,o),Lo&&this.b&&3==e&&(Fs(this.J,this.R,"tick",this.Wa),this.R.start())):(qs(this.c,this.f,o,null),wu(this,o)),4==e&&mu(this),this.b&&!this.A&&(4==e?Da(this.g,this):(this.b=!1,gu(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Ws(12)):(this.h=0,Ws(13)),mu(this),yu(this)}}}catch(c){}},Zi.Wa=function(){if(this.a){var t=ya(this.a),e=this.a.$();this.D<e.length&&(bu(this),du(this,t,e),this.b&&4!=t&&gu(this))}},Zi.cancel=function(){this.A=!0,mu(this)},Zi.Va=function(){this.o=null;var t=ho();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&($s(3),Ws(17)),mu(this),this.h=2,yu(this)):vu(this,this.T-t)},(Zi=Ou.prototype).K=function(){Eu(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Zi.L=function(){return Eu(this),this.a.concat()},Zi.get=function(t,e){return Su(this.b,t)?this.b[t]:e},Zi.set=function(t,e){Su(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Zi.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Tu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Iu(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Iu){this.a=void 0!==e?e:t.a,Cu(this,t.f),this.j=t.j,ju(this,t.c),Au(this,t.h),this.g=t.g,e=t.b;var n=new qu;n.c=e.c,e.a&&(n.a=new Ou(e.a),n.b=e.b),ku(this,n),this.i=t.i}else t&&(n=String(t).match(Tu))?(this.a=!!e,Cu(this,n[1]||"",!0),this.j=Pu(n[2]||""),ju(this,n[3]||"",!0),Au(this,n[4]),this.g=Pu(n[5]||"",!0),ku(this,n[6]||"",!0),this.i=Pu(n[7]||"")):(this.a=!!e,this.b=new qu(null,this.a))}function xu(t){return new Iu(t)}function Cu(t,e,n){t.f=n?Pu(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function ju(t,e,n){t.c=n?Pu(e,!0):e}function Au(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function ku(t,e,n){e instanceof qu?(t.b=e,function(t,e){e&&!t.f&&(zu(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Bu(this,e),Ju(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Du(e,Vu)),t.b=new qu(e,t.a))}function Nu(t,e,n){t.b.set(e,n)}function Ru(t){return Nu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ho()).toString(36)),t}function Pu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Du(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Lu),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Lu(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Iu.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Du(e,Uu,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Du(e,Uu,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Du(n,"/"==n.charAt(0)?Fu:Mu,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Du(n,Hu)),t.join("")};var Uu=/[#\/\?@]/g,Mu=/[#\?:]/g,Fu=/[#\?]/g,Vu=/[#\?@]/g,Hu=/#/g;function qu(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function zu(t){t.a||(t.a=new Ou,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Bu(t,e){zu(t),e=$u(t,e),Su(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Su((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Eu(t)))}function Gu(t,e){return zu(t),e=$u(t,e),Su(t.a.b,e)}function Ju(t,e,n){Bu(t,e),0<n.length&&(t.c=null,t.a.set($u(t,e),yo(n)),t.b+=n.length)}function $u(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Zi=qu.prototype).add=function(t,e){zu(this),this.c=null,t=$u(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Zi.forEach=function(t,e){zu(this),this.a.forEach(function(n,r){vo(n,function(n){t.call(e,n,r,this)},this)},this)},Zi.L=function(){zu(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Zi.K=function(t){zu(this);var e=[];if("string"==typeof t)Gu(this,t)&&(e=bo(e,this.a.get($u(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=bo(e,t[n])}return e},Zi.set=function(t,e){return zu(this),this.c=null,Gu(this,t=$u(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Zi.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Zi.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Ku=function(){return function(t,e){this.b=t,this.a=e}}();function Wu(t){this.g=t||Yu,t=eo.PerformanceNavigationTiming?0<(t=eo.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(eo.ia&&eo.ia.ya&&eo.ia.ya()&&eo.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Yu=10;function Xu(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Zu(t){return t.b?1:t.a?t.a.size:0}function Qu(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function ta(t,e){t.a?t.a.add(e):t.b=e}function ea(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function na(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Xi(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return yo(t.c)}function ra(){}function ia(){this.a=new ra}function oa(t,e,n){var r=n||"";try{_u(t,function(t,n){var i=t;io(t)&&(i=_s(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(fm){throw e.push(r+"type="+encodeURIComponent("_badmap")),fm}}function sa(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Wu.prototype.cancel=function(){var t,e;if(this.c=na(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Xi(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},ra.prototype.stringify=function(t){return eo.JSON.stringify(t,void 0)},ra.prototype.parse=function(t){return eo.JSON.parse(t,void 0)};var ua=eo.JSON.parse;function aa(t){ys.call(this),this.headers=new Ou,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=ca,this.D=this.F=!1}fo(aa,ys);var ca="",la=/^https?$/i,ha=["POST","PUT"];function fa(t){return"content-type"==t.toLowerCase()}function da(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,pa(t),va(t)}function pa(t){t.u||(t.u=!0,ms(t,"complete"),ms(t,"error"))}function ga(t){if(t.b&&void 0!==to&&(!t.s[1]||4!=ya(t)||2!=t.W()))if(t.l&&4==ya(t))Ps(t.za,0,t);else if(ms(t,"readystatechange"),4==ya(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Tu)[1]||null;if(!o&&eo.self&&eo.self.location){var s=eo.self.location.protocol;o=s.substr(0,s.length-1)}i=!la.test(o?o.toLowerCase():"")}e=i}if(e)ms(t,"complete"),ms(t,"success");else{t.h=6;try{var u=2<ya(t)?t.a.statusText:""}catch(n){u=""}t.f=u+" ["+t.W()+"]",pa(t)}}finally{va(t)}}}function va(t,e){if(t.a){ba(t);var n=t.a,r=t.s[0]?no:null;t.a=null,t.s=null,e||ms(t,"ready");try{n.onreadystatechange=r}catch(fm){}}}function ba(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(eo.clearTimeout(t.m),t.m=null)}function ya(t){return t.a?t.a.readyState:0}function ma(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Io(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Nu(t,e,n))}function wa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function _a(t){this.pa=0,this.g=[],this.c=new Hs,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=wa("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=wa("baseRetryDelayMs",5e3,t),this.Ra=wa("retryDelaySeedMs",1e4,t),this.Ma=wa("forwardChannelMaxRetries",2,t),this.ma=wa("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Wu(t&&t.concurrentRequestLimit),this.ka=new ia,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Oa(t){if(Sa(t),3==t.v){var e=t.R++,n=xu(t.B);Nu(n,"SID",t.J),Nu(n,"RID",e),Nu(n,"TYPE","terminate"),Ca(t,n),(e=new uu(t,t.c,e,void 0)).H=2,e.i=Ru(xu(n)),n=!1,eo.navigator&&eo.navigator.sendBeacon&&(n=eo.navigator.sendBeacon(e.i.toString(),"")),!n&&eo.Image&&((new Image).src=e.i,n=!0),n||(e.a=Va(e.g,null),e.a.ba(e.i)),e.u=ho(),gu(e)}Ma(t)}function Ea(t){t.a&&(Na(t),t.a.cancel(),t.a=null)}function Sa(t){Ea(t),t.j&&(eo.clearTimeout(t.j),t.j=null),Pa(t),t.b.cancel(),t.h&&("number"==typeof t.h&&eo.clearTimeout(t.h),t.h=null)}function Ta(t,e){t.g.push(new Ku(t.Oa++,e)),3==t.v&&Ia(t)}function Ia(t){Xu(t.b)||t.h||(t.h=!0,Cs(t.Ba,t),t.u=0)}function xa(t,e){var n;n=e?e.f:t.R++;var r=xu(t.B);Nu(r,"SID",t.J),Nu(r,"RID",n),Nu(r,"AID",t.P),Ca(t,r),t.i&&t.l&&ma(r,t.i,t.l),n=new uu(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=ja(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),ta(t.b,n),hu(n,r,e)}function Ca(t,e){t.f&&_u({},function(t,n){Nu(e,n,t)})}function ja(t,e,n){n=Math.min(t.g.length,n);var r=t.f?co(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var u=!0,a=0;a<n;a++){var c=i[a].b,l=i[a].a;if(0>(c-=o))o=Math.max(0,i[a].b-100),u=!1;else try{oa(l,s,"req"+c+"_")}catch(Oc){r&&r(l)}}if(u){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Aa(t){t.a||t.j||(t.T=1,Cs(t.Aa,t),t.o=0)}function ka(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Xs(co(t.Aa,t),La(t,t.o)),t.o++,0))}function Na(t){null!=t.s&&(eo.clearTimeout(t.s),t.s=null)}function Ra(t){t.a=new uu(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=xu(t.la);Nu(e,"RID","rpc"),Nu(e,"SID",t.J),Nu(e,"CI",t.H?"0":"1"),Nu(e,"AID",t.P),Ca(t,e),Nu(e,"TYPE","xmlhttp"),t.i&&t.l&&ma(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ru(xu(e)),n.j=null,n.I=!0,fu(n,t)}function Pa(t){null!=t.m&&(eo.clearTimeout(t.m),t.m=null)}function Da(t,e){var n=null;if(t.a==e){Pa(t),Na(t),t.a=null;var r=2}else{if(!Qu(t.b,e))return;n=e.s,ea(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=ho()-e.u;var i=t.u;ms(r=Gs(),new Ys(r,n,e,i)),Ia(t)}else Aa(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Zu(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Xs(co(t.Ba,t,e),La(t,t.u)),t.u++,0)))}(t,e)||2==r&&ka(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Ua(t,5);break;case 4:Ua(t,10);break;case 3:Ua(t,6);break;default:Ua(t,2)}}function La(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Ua(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=co(t.Ya,t);n||(n=new Iu("//www.google.com/images/cleardot.gif"),eo.location&&"http"==eo.location.protocol||Cu(n,"https"),Ru(n)),function(t,e){var n=new Hs;if(eo.Image){var r=new Image;r.onload=lo(sa,n,r,"TestLoadImage: loaded",!0,e),r.onerror=lo(sa,n,r,"TestLoadImage: error",!1,e),r.onabort=lo(sa,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=lo(sa,n,r,"TestLoadImage: timeout",!1,e),eo.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ws(2);t.v=0,t.f&&t.f.ra(e),Ma(t),Sa(t)}function Ma(t){t.v=0,t.I=-1,t.f&&(0==na(t.b).length&&0==t.g.length||(t.b.c.length=0,yo(t.g),t.g.length=0),t.f.qa())}function Fa(t,e,n){var r=function(t){return t instanceof Iu?xu(t):new Iu(t,void 0)}(n);if(""!=r.c)e&&ju(r,e+"."+r.c),Au(r,r.h);else{var i=eo.location;r=function(t,e,n,r){var i=new Iu(null,void 0);return t&&Cu(i,t),e&&ju(i,e),n&&Au(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Io(t.V,function(t,e){Nu(r,e,t)}),n=t.na,(e=t.A)&&n&&Nu(r,e,n),Nu(r,"VER",t.ha),Ca(t,r),r}function Va(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new aa(t.Na)).F=t.C,e}function Ha(){}function qa(){if(Po&&!(10<=Number(Go)))throw Error("Environmental error: no available transport.")}function za(t,e){ys.call(this),this.a=new _a(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!mo(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!mo(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Ja(this)}function Ba(t){iu.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Ga(){ou.call(this),this.status=1}function Ja(t){this.a=t}(Zi=aa.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:nu),this.a.onreadystatechange=co(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void da(this,o)}t=n||"";var i=new Ou(this.headers);r&&_u(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=fa,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=eo.FormData&&t instanceof eo.FormData,!(0<=go(ha,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{ba(this),0<this.o&&((this.D=function(t){return Po&&Bo(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=co(this.xa,this)):this.m=Ps(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){da(this,o)}},Zi.xa=function(){void 0!==to&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,ms(this,"timeout"),this.abort(8))},Zi.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,ms(this,"complete"),ms(this,"abort"),va(this))},Zi.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),va(this,!0)),aa.X.G.call(this)},Zi.za=function(){this.j||(this.A||this.l||this.g?ga(this):this.Ua())},Zi.Ua=function(){ga(this)},Zi.W=function(){try{return 2<ya(this)?this.a.status:-1}catch(No){return-1}},Zi.$=function(){try{return this.a?this.a.responseText:""}catch(No){return""}},Zi.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ua(e)}},Zi.ua=function(){return this.h},Zi.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Zi=_a.prototype).ha=8,Zi.v=1,Zi.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new uu(this,this.c,t,void 0),r=this.l;if(this.O&&(r?jo(r=xo(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=ja(this,n,e),Nu(i=xu(this.B),"RID",t),Nu(i,"CVER",22),this.A&&Nu(i,"X-HTTP-Session-Id",this.A),Ca(this,i),this.i&&r&&ma(i,this.i,r),ta(this.b,n),this.Ia&&Nu(i,"TYPE","init"),this.da?(Nu(i,"$req",e),Nu(i,"SID","null"),n.U=!0,hu(n,i,null)):hu(n,i,e),this.v=2}}else 3==this.v&&(t?xa(this,t):0==this.g.length||Xu(this.b)||xa(this))},Zi.Aa=function(){if(this.j=null,Ra(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Xs(co(this.Ta,this),t)}},Zi.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Ws(10),Ea(this),Ra(this))},Zi.Sa=function(){null!=this.m&&(this.m=null,Ea(this),ka(this),Ws(19))},Zi.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Ws(2)):(this.c.info("Failed to ping google.com"),Ws(1))},(Zi=Ha.prototype).ta=function(){},Zi.sa=function(){},Zi.ra=function(){},Zi.qa=function(){},Zi.Ja=function(){},qa.prototype.a=function(t,e){return new za(t,e)},fo(za,ys),za.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Ws(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Fa(t,null,t.fa),Ia(t)},za.prototype.close=function(){Oa(this.a)},za.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Ta(this.a,e)}else this.l?((e={}).__data__=_s(t),Ta(this.a,e)):Ta(this.a,t)},za.prototype.G=function(){this.a.f=null,delete this.f,Oa(this.a),delete this.a,za.X.G.call(this)},fo(Ba,iu),fo(Ga,ou),fo(Ja,Ha),Ja.prototype.ta=function(){ms(this.a,"a")},Ja.prototype.sa=function(t){ms(this.a,new Ba(t))},Ja.prototype.ra=function(t){ms(this.a,new Ga(t))},Ja.prototype.qa=function(){ms(this.a,"b")},qa.prototype.createWebChannel=qa.prototype.a,za.prototype.send=za.prototype.h,za.prototype.open=za.prototype.g,za.prototype.close=za.prototype.close,Zs.NO_ERROR=0,Zs.TIMEOUT=8,Zs.HTTP_ERROR=6,Qs.COMPLETE="complete",eu.EventType=ru,ru.OPEN="a",ru.CLOSE="b",ru.ERROR="c",ru.MESSAGE="d",ys.prototype.listen=ys.prototype.va,aa.prototype.listenOnce=aa.prototype.wa,aa.prototype.getLastError=aa.prototype.Qa,aa.prototype.getLastErrorCode=aa.prototype.ua,aa.prototype.getStatus=aa.prototype.W,aa.prototype.getResponseJson=aa.prototype.Pa,aa.prototype.getResponseText=aa.prototype.$,aa.prototype.send=aa.prototype.ba;var $a=Zs,Ka=Qs,Wa=zs,Ya=eu,Xa=aa,Za=n("uXP2"),Qa=new Ki.b("@firebase/firestore");function tc(){return Qa.logLevel}function ec(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Qa.logLevel<=Ki.a.DEBUG){var r=e.map(ic);Qa.debug.apply(Qa,Object(Za.g)(["Firestore (8.2.2): "+t],r))}}function nc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Qa.logLevel<=Ki.a.ERROR){var r=e.map(ic);Qa.error.apply(Qa,Object(Za.g)(["Firestore (8.2.2): "+t],r))}}function rc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Qa.logLevel<=Ki.a.WARN){var r=e.map(ic);Qa.warn.apply(Qa,Object(Za.g)(["Firestore (8.2.2): "+t],r))}}function ic(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(fm){return t}}function oc(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.2) INTERNAL ASSERTION FAILED: "+t;throw nc(e),new Error(e)}function sc(t,e){t||oc()}function uc(t,e){return t}function ac(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var cc=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=ac(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function lc(t,e){return t<e?-1:t>e?1:0}function hc(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function fc(t){return t+"\0"}var dc=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return lc(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();dc.h=new dc("");var pc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},gc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Za.c)(e,t),e}(Error),vc=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(dc.fromBase64String(e))}catch(e){throw new gc(pc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(dc.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),bc=function(t){this._=t};function yc(){if("undefined"==typeof Uint8Array)throw new gc(pc.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function mc(){if("undefined"==typeof atob)throw new gc(pc.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var wc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Za.c)(e,t),e.fromBase64String=function(t){return mc(),new e(vc.fromBase64String(t))},e.fromUint8Array=function(t){return yc(),new e(vc.fromUint8Array(t))},e.prototype.toBase64=function(){return mc(),this._.toBase64()},e.prototype.toUint8Array=function(){return yc(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(bc),_c=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},Oc=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Ec=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Ec.UNAUTHENTICATED=new Ec(null),Ec.P=new Ec("google-credentials-uid"),Ec.g=new Ec("first-party-uid");var Sc=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},Tc=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(Ec.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),Ic=function(){function t(t){var e=this;this.C=null,this.currentUser=Ec.UNAUTHENTICATED,this.N=!1,this.O=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.O++,e.currentUser=e.F(),e.N=!0,e.p&&e.p(e.currentUser)},this.O=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then(function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.O,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.O!==e?(ec("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(sc("string"==typeof n.accessToken),new Sc(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.F=function(){var t=this.auth&&this.auth.getUid();return sc(null===t||"string"==typeof t),new Ec(t)},t}(),xc=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=Ec.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Cc=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new xc(this.k,this.M))},t.prototype.S=function(t){t(Ec.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),jc=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();jc.U=-1;var Ac=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new gc(pc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new gc(pc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new gc(pc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gc(pc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?lc(this.nanoseconds,t.nanoseconds):lc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),kc=function(){function t(t){this.timestamp=t}return t.j=function(e){return new t(e)},t.min=function(){return new t(new Ac(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),Nc=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&oc(),void 0===n?n=t.length-e:n>t.length-e&&oc(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Rc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Za.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new gc(pc.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.at=function(){return new e([])},e}(Nc),Pc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Dc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Za.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return Pc.test(t)},e.prototype.ot=function(){return this.rt().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new gc(pc.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var u=t[i];if("\\"===u){if(i+1===t.length)throw new gc(pc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[i+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new gc(pc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else"`"===u?(s=!s,i++):"."!==u||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new gc(pc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(Nc),Lc=function(){function t(t){this.path=t}return t.ft=function(e){return new t(Rc.ct(e))},t.dt=function(e){return new t(Rc.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Rc.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return Rc.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new Rc(e.slice()))},t}();function Uc(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Fc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Vc=function(){function t(t){this.fields=t,t.sort(Dc.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return hc(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Hc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qc(t){if(sc(!!t),"string"==typeof t){var e=0,n=Hc.exec(t);if(sc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:zc(t.seconds),nanos:zc(t.nanos)}}function zc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Bc(t){return"string"==typeof t?dc.fromBase64String(t):dc.fromUint8Array(t)}function Gc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Jc(t){var e=t.mapValue.fields.__previous_value__;return Gc(e)?Jc(e):e}function $c(t){var e=qc(t.mapValue.fields.__local_write_time__.timestampValue);return new Ac(e.seconds,e.nanos)}function Kc(t){return null==t}function Wc(t){return 0===t&&1/t==-1/0}function Yc(t){return"number"==typeof t&&Number.isInteger(t)&&!Wc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Xc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gc(t)?4:10:oc()}function Zc(t,e){var n=Xc(t);if(n!==Xc(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $c(t).isEqual($c(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=qc(t.timestampValue),r=qc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Bc(t.bytesValue).isEqual(Bc(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return zc(t.geoPointValue.latitude)===zc(e.geoPointValue.latitude)&&zc(t.geoPointValue.longitude)===zc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return zc(t.integerValue)===zc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=zc(t.doubleValue),r=zc(e.doubleValue);return n===r?Wc(n)===Wc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return hc(t.arrayValue.values||[],e.arrayValue.values||[],Zc);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Uc(n)!==Uc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Zc(n[i],r[i])))return!1;return!0}(t,e);default:return oc()}}function Qc(t,e){return void 0!==(t.values||[]).find(function(t){return Zc(t,e)})}function tl(t,e){var n=Xc(t),r=Xc(e);if(n!==r)return lc(n,r);switch(n){case 0:return 0;case 1:return lc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=zc(t.integerValue||t.doubleValue),r=zc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return el(t.timestampValue,e.timestampValue);case 4:return el($c(t),$c(e));case 5:return lc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Bc(t),r=Bc(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=lc(n[i],r[i]);if(0!==o)return o}return lc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=lc(zc(t.latitude),zc(e.latitude));return 0!==n?n:lc(zc(t.longitude),zc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=tl(n[i],r[i]);if(o)return o}return lc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var u=lc(r[s],o[s]);if(0!==u)return u;var a=tl(n[r[s]],i[o[s]]);if(0!==a)return a}return lc(r.length,o.length)}(t.mapValue,e.mapValue);default:throw oc()}}function el(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return lc(t,e);var n=qc(t),r=qc(e),i=lc(n.seconds,r.seconds);return 0!==i?i:lc(n.nanos,r.nanos)}function nl(t){return rl(t)}function rl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=qc(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Bc(t.bytesValue).toBase64():"referenceValue"in t?Lc.dt(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=rl(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+rl(t.fields[o])}return e+"}"}(t.mapValue):oc();var e}function il(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function ol(t){return!!t&&"integerValue"in t}function sl(t){return!!t&&"arrayValue"in t}function ul(t){return!!t&&"nullValue"in t}function al(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cl(t){return!!t&&"mapValue"in t}var ll=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!cl(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return Zc(this.proto,t.proto)},t}(),hl=function(){function t(t){void 0===t&&(t=ll.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Xc(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(Dc.at(),this.Rt);return null!=t?new ll(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=cl(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.gt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function fl(t){var e=[];return Mc(t.fields||{},function(t,n){var r=new Dc([t]);if(cl(n)){var i=fl(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new Vc(e)}var dl=function(t,e){this.key=t,this.version=e},pl=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Za.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(dl),gl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Za.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(dl),vl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Za.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(dl),bl=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.St=null};function yl(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new bl(t,e,n,r,i,o,s)}function ml(t){var e=uc(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.ot()+t.op.toString()+nl(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.ot()+t.dir}(t)}).join(","),Kc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Nl(e.startAt)),e.endAt&&(n+="|ub:",n+=Nl(e.endAt)),e.St=n}return e.St}function wl(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Pl(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Zc(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ll(t.startAt,e.startAt)&&Ll(t.endAt,e.endAt)}function _l(t){return Lc.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Ol=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Za.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new El(t,n,r):"array-contains"===n?new xl(t,r):"in"===n?new Cl(t,r):"not-in"===n?new jl(t,r):"array-contains-any"===n?new Al(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new Sl(t,n):new Tl(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(tl(e,this.value)):null!==e&&Xc(this.value)===Xc(e)&&this.Ct(tl(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return oc()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),El=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Lc.dt(r.referenceValue),i}return Object(Za.c)(e,t),e.prototype.matches=function(t){var e=Lc.J(t.key,this.key);return this.Ct(e)},e}(Ol),Sl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Il(0,n),r}return Object(Za.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Ol),Tl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Il(0,n),r}return Object(Za.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Ol);function Il(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Lc.dt(t.referenceValue)})}var xl=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Za.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return sl(e)&&Qc(e.arrayValue,this.value)},e}(Ol),Cl=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Za.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Qc(this.value.arrayValue,e)},e}(Ol),jl=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Za.c)(e,t),e.prototype.matches=function(t){if(Qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Qc(this.value.arrayValue,e)},e}(Ol),Al=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Za.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!sl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Qc(e.value.arrayValue,t)})},e}(Ol),kl=function(t,e){this.position=t,this.before=e};function Nl(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return nl(t)}).join(",")}var Rl=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Pl(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Dl(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ht()?Lc.J(Lc.dt(s.referenceValue),n.key):tl(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Ll(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Zc(t.position[n],e.position[n]))return!1;return!0}var Ul=function(t,e,n,r,i,o,s,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=u,this.Ot=null,this.Ft=null};function Ml(t,e,n,r,i,o,s,u){return new Ul(t,e,n,r,i,o,s,u)}function Fl(t){return new Ul(t)}function Vl(t){return!Kc(t.limit)&&"F"===t.limitType}function Hl(t){return!Kc(t.limit)&&"L"===t.limitType}function ql(t){return t.Nt.length>0?t.Nt[0].field:null}function zl(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function Bl(t){return null!==t.collectionGroup}function Gl(t){var e=uc(t);if(null===e.Ot){e.Ot=[];var n=zl(e),r=ql(e);if(null!==n&&null===r)n.ht()||e.Ot.push(new Rl(n)),e.Ot.push(new Rl(Dc.lt(),"asc"));else{for(var i=!1,o=0,s=e.Nt;o<s.length;o++){var u=s[o];e.Ot.push(u),u.field.ht()&&(i=!0)}if(!i){var a=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ot.push(new Rl(Dc.lt(),a))}}}return e.Ot}function Jl(t){var e=uc(t);if(!e.Ft)if("F"===e.limitType)e.Ft=yl(e.path,e.collectionGroup,Gl(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Gl(e);r<i.length;r++){var o=i[r];n.push(new Rl(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new kl(e.endAt.position,!e.endAt.before):null,u=e.startAt?new kl(e.startAt.position,!e.startAt.before):null;e.Ft=yl(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.Ft}function $l(t,e,n){return new Ul(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kl(t,e){return wl(Jl(t),Jl(e))&&t.limitType===e.limitType}function Wl(t){return ml(Jl(t))+"|lt:"+t.limitType}function Yl(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.ot()+" "+e.op+" "+nl(e.value);var e}).join(", ")+"]"),Kc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Nl(t.startAt)),t.endAt&&(e+=", endAt: "+Nl(t.endAt)),"Target("+e+")"}(Jl(t))+"; limitType="+t.limitType+")"}function Xl(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):Lc.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Dl(t.startAt,Gl(t),e)||t.endAt&&Dl(t.endAt,Gl(t),e))}(t,e)}function Zl(t){return function(e,n){for(var r=!1,i=0,o=Gl(t);i<o.length;i++){var s=o[i],u=Ql(s,e,n);if(0!==u)return u;r=r||s.field.ht()}return 0}}function Ql(t,e,n){var r=t.field.ht()?Lc.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?tl(r,i):oc()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oc()}}var th=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=kc.min()),void 0===o&&(o=kc.min()),void 0===s&&(s=dc.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function eh(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(e)?"-0":e}}function nh(t){return{integerValue:""+t}}function rh(t,e){return Yc(e)?nh(e):eh(t,e)}var ih=function(){this.Ut=void 0};function oh(t,e,n){return t instanceof ah?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ch?lh(t,e):t instanceof hh?fh(t,e):function(t,e){var n=uh(t,e),r=ph(n)+ph(t.Qt);return ol(n)&&ol(t.Qt)?nh(r):eh(t.Kt,r)}(t,e)}function sh(t,e,n){return t instanceof ch?lh(t,e):t instanceof hh?fh(t,e):n}function uh(t,e){return t instanceof dh?ol(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var ah=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Za.c)(e,t),e}(ih),ch=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Za.c)(e,t),e}(ih);function lh(t,e){for(var n=gh(e),r=function(t){n.some(function(e){return Zc(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var hh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Za.c)(e,t),e}(ih);function fh(t,e){for(var n=gh(e),r=function(t){n=n.filter(function(e){return!Zc(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var dh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(Za.c)(e,t),e}(ih);function ph(t){return zc(t.integerValue||t.doubleValue)}function gh(t){return sl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var vh=function(t,e){this.field=t,this.transform=e},bh=function(t,e){this.version=t,this.transformResults=e},yh=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.jt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function mh(t,e){return void 0!==t.updateTime?e instanceof pl&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof pl}var wh=function(){};function _h(t,e,n){return t instanceof Ih?function(t,e,n){var r=t.value;if(n.transformResults){var i=jh(t.fieldTransforms,e,n.transformResults);r=kh(t.fieldTransforms,r,i)}return new pl(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof xh?function(t,e,n){if(!mh(t.Gt,e))return new vl(t.key,n.version);var r=Ch(t,e,n.transformResults?jh(t.fieldTransforms,e,n.transformResults):[]);return new pl(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new gl(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Oh(t,e,n,r){return t instanceof Ih?function(t,e,n,r){if(!mh(t.Gt,e))return e;var i=t.value,o=Ah(t.fieldTransforms,n,e);i=kh(t.fieldTransforms,i,o);var s=Th(e);return new pl(t.key,s,i,{bt:!0})}(t,e,r):t instanceof xh?function(t,e,n,r){if(!mh(t.Gt,e))return e;var i=Th(e),o=Ch(t,e,Ah(t.fieldTransforms,n,e));return new pl(t.key,i,o,{bt:!0})}(t,e,r):function(t,e){return mh(t.Gt,e)?new gl(t.key,kc.min()):e}(t,e)}function Eh(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof pl?e.field(o.field):void 0,u=uh(o.transform,s||null);null!=u&&(n=null==n?(new hl).set(o.field,u):n.set(o.field,u))}return n?n.yt():null}(t.fieldTransforms,e)}function Sh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&hc(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ch&&e instanceof ch||t instanceof hh&&e instanceof hh?hc(t.elements,e.elements,Zc):t instanceof dh&&e instanceof dh?Zc(t.Qt,e.Qt):t instanceof ah&&e instanceof ah}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function Th(t){return t instanceof pl?t.version:kc.min()}var Ih=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return Object(Za.c)(e,t),e}(wh),xh=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.zt=r,s.Gt=i,s.fieldTransforms=o,s.type=1,s}return Object(Za.c)(e,t),e}(wh);function Ch(t,e,n){var r;return r=function(t,e){var n=new hl(e);return t.zt.fields.forEach(function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.yt()}(t,r=e instanceof pl?e.data():ll.empty()),kh(t.fieldTransforms,r,n)}function jh(t,e,n){var r=[];sc(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,u=null;e instanceof pl&&(u=e.field(o.field)),r.push(sh(s,u,n[i]))}return r}function Ah(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var u=s[o],a=u.transform,c=null;n instanceof pl&&(c=n.field(u.field)),i.push(oh(a,c,e))}return i}function kh(t,e,n){for(var r=new hl(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var Nh,Rh,Ph=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(Za.c)(e,t),e}(wh),Dh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(Za.c)(e,t),e}(wh),Lh=function(t){this.count=t};function Uh(t){switch(t){case pc.OK:return oc();case pc.CANCELLED:case pc.UNKNOWN:case pc.DEADLINE_EXCEEDED:case pc.RESOURCE_EXHAUSTED:case pc.INTERNAL:case pc.UNAVAILABLE:case pc.UNAUTHENTICATED:return!1;case pc.INVALID_ARGUMENT:case pc.NOT_FOUND:case pc.ALREADY_EXISTS:case pc.PERMISSION_DENIED:case pc.FAILED_PRECONDITION:case pc.ABORTED:case pc.OUT_OF_RANGE:case pc.UNIMPLEMENTED:case pc.DATA_LOSS:return!0;default:return oc()}}function Mh(t){if(void 0===t)return nc("GRPC error has no .code"),pc.UNKNOWN;switch(t){case Nh.OK:return pc.OK;case Nh.CANCELLED:return pc.CANCELLED;case Nh.UNKNOWN:return pc.UNKNOWN;case Nh.DEADLINE_EXCEEDED:return pc.DEADLINE_EXCEEDED;case Nh.RESOURCE_EXHAUSTED:return pc.RESOURCE_EXHAUSTED;case Nh.INTERNAL:return pc.INTERNAL;case Nh.UNAVAILABLE:return pc.UNAVAILABLE;case Nh.UNAUTHENTICATED:return pc.UNAUTHENTICATED;case Nh.INVALID_ARGUMENT:return pc.INVALID_ARGUMENT;case Nh.NOT_FOUND:return pc.NOT_FOUND;case Nh.ALREADY_EXISTS:return pc.ALREADY_EXISTS;case Nh.PERMISSION_DENIED:return pc.PERMISSION_DENIED;case Nh.FAILED_PRECONDITION:return pc.FAILED_PRECONDITION;case Nh.ABORTED:return pc.ABORTED;case Nh.OUT_OF_RANGE:return pc.OUT_OF_RANGE;case Nh.UNIMPLEMENTED:return pc.UNIMPLEMENTED;case Nh.DATA_LOSS:return pc.DATA_LOSS;default:return oc()}}(Rh=Nh||(Nh={}))[Rh.OK=0]="OK",Rh[Rh.CANCELLED=1]="CANCELLED",Rh[Rh.UNKNOWN=2]="UNKNOWN",Rh[Rh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rh[Rh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rh[Rh.NOT_FOUND=5]="NOT_FOUND",Rh[Rh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rh[Rh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rh[Rh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rh[Rh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rh[Rh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rh[Rh.ABORTED=10]="ABORTED",Rh[Rh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rh[Rh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rh[Rh.INTERNAL=13]="INTERNAL",Rh[Rh.UNAVAILABLE=14]="UNAVAILABLE",Rh[Rh.DATA_LOSS=15]="DATA_LOSS";var Fh=function(){function t(t,e){this.J=t,this.root=e||Hh.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,Hh.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,Hh.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Zt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new Vh(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new Vh(this.root,t,this.J,!1)},t.prototype.se=function(){return new Vh(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new Vh(this.root,t,this.J,!0)},t}(),Vh=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),Hh=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw oc();if(this.right._e())throw oc();var t=this.left.me();if(t!==this.right.me())throw oc();return t+(this._e()?0:1)},t}();Hh.EMPTY=null,Hh.RED=!0,Hh.Jt=!1,Hh.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw oc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw oc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw oc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw oc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw oc()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new Hh(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var qh=function(){function t(t){this.J=t,this.data=new Fh(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt(function(e,n){return t(e),!1})},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new zh(this.data.ee())},t.prototype.ne=function(t){return new zh(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),zh=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),Bh=new Fh(Lc.J);function Gh(){return Bh}function Jh(){return Gh()}var $h=new Fh(Lc.J);function Kh(){return $h}var Wh=new Fh(Lc.J);function Yh(){return Wh}var Xh=new qh(Lc.J);function Zh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Xh,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Qh=new qh(lc);function tf(){return Qh}var ef=function(){function t(t){this.J=t?function(e,n){return t(e,n)||Lc.J(e.key,n.key)}:function(t,e){return Lc.J(t.key,e.key)},this.Ve=Kh(),this.pe=new Fh(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),nf=function(){function t(){this.ve=new Fh(Lc.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):oc():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt(function(e,n){t.push(n)}),t},t}(),rf=function(){function t(t,e,n,r,i,o,s,u){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=s,this.Ne=u}return t.Oe=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,ef.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&Kl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),of=function(){function t(t,e,n,r,i){this.Mt=t,this.Fe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,sf.Be(e,n)),new t(kc.min(),r,tf(),Gh(),Zh())},t}(),sf=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(dc.h,n,Zh(),Zh(),Zh())},t}(),uf=function(t,e,n,r){this.je=t,this.removedTargetIds=e,this.key=n,this.We=r},af=function(t,e){this.targetId=t,this.Ge=e},cf=function(t,e,n,r){void 0===n&&(n=dc.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},lf=function(){function t(){this.ze=0,this.He=df(),this.Je=dc.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=Zh(),e=Zh(),n=Zh();return this.He.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:oc()}}),new sf(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=df()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),hf=function(){function t(t){this.hn=t,this.ln=new Map,this._n=Gh(),this.fn=ff(),this.dn=new qh(lc)}return t.prototype.wn=function(t){for(var e=0,n=t.je;e<n.length;e++){var r=n[e];t.We instanceof pl?this.En(r,t.We):t.We instanceof gl&&this.Tn(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Tn(r=o[i],t.key,t.We)},t.prototype.In=function(t){var e=this;this.mn(t,function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:oc()}})},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach(function(t,r){n.Rn(r)&&e(r)})},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(_l(i))if(0===n){var o=new Lc(i.path);this.Tn(e,o,new gl(o,kc.min()))}else sc(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach(function(r,i){var o=e.gn(i);if(o){if(r.qe&&_l(o.target)){var s=new Lc(o.target.path);null!==e._n.get(s)||e.bn(i,s)||e.Tn(i,s,new gl(s,t))}r.tn&&(n.set(i,r.nn()),r.sn())}});var r=Zh();this.fn.forEach(function(t,n){var i=!0;n.Re(function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)}),i&&(r=r.add(t))});var i=new of(t,n,this.dn,this._n,r);return this._n=Gh(),this.fn=ff(),this.dn=new qh(lc),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new lf,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new qh(lc),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||ec("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new lf),this.hn.Sn(t).forEach(function(n){e.Tn(t,n,null)})},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function ff(){return new Fh(Lc.J)}function df(){return new Fh(Lc.J)}var pf={asc:"ASCENDING",desc:"DESCENDING"},gf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vf=function(t,e){this.T=t,this.qt=e};function bf(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function yf(t,e){return t.qt?e.toBase64():e.toUint8Array()}function mf(t,e){return bf(t,e.G())}function wf(t){return sc(!!t),kc.j(function(t){var e=qc(t);return new Ac(e.seconds,e.nanos)}(t))}function _f(t,e){return function(t){return new Rc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function Of(t){var e=Rc.ct(t);return sc(Jf(e)),e}function Ef(t,e){return _f(t.T,e.path)}function Sf(t,e){var n=Of(e);if(n.get(1)!==t.T.projectId)throw new gc(pc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new gc(pc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new Lc(Cf(n))}function Tf(t,e){return _f(t.T,e)}function If(t){var e=Of(t);return 4===e.length?Rc.at():Cf(e)}function xf(t){return new Rc(["projects",t.T.projectId,"databases",t.T.database]).ot()}function Cf(t){return sc(t.length>4&&"documents"===t.get(4)),t.X(5)}function jf(t,e,n){return{name:Ef(t,e),fields:n.proto.mapValue.fields}}function Af(t,e,n){var r=Sf(t,e.name),i=wf(e.updateTime),o=new ll({mapValue:{fields:e.fields}});return new pl(r,i,o,{hasCommittedMutations:!!n})}function kf(t,e){var n;if(e instanceof Ih)n={update:jf(t,e.key,e.value)};else if(e instanceof Ph)n={delete:Ef(t,e.key)};else if(e instanceof xh)n={update:jf(t,e.key,e.data),updateMask:Gf(e.zt)};else{if(!(e instanceof Dh))return oc();n={verify:Ef(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof ah)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof ch)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof hh)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof dh)return{fieldPath:e.field.ot(),increment:n.Qt};throw oc()}(0,t)})),e.Gt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:mf(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:oc()}(t,e.Gt)),n}function Nf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?yh.updateTime(wf(t.updateTime)):void 0!==t.exists?yh.exists(t.exists):yh.jt()}(e.currentDocument):yh.jt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(sc("REQUEST_TIME"===e.setToServerValue),n=new ah):"appendMissingElements"in e?n=new ch(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new hh(e.removeAllFromArray.values||[]):"increment"in e?n=new dh(t,e.increment):oc();var r=Dc._t(e.fieldPath);return new vh(r,n)}(t,e)}):[];if(e.update){var i=Sf(t,e.update.name),o=new ll({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Vc((t.fieldPaths||[]).map(function(t){return Dc._t(t)}))}(e.updateMask);return new xh(i,o,s,n,r)}return new Ih(i,o,n,r)}if(e.delete){var u=Sf(t,e.delete);return new Ph(u,n)}if(e.verify){var a=Sf(t,e.verify);return new Dh(a,n)}return oc()}function Rf(t,e){return{documents:[Tf(t,e.path)]}}function Pf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Tf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Tf(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(al(t.value))return{unaryFilter:{field:Hf(t.field),op:"IS_NAN"}};if(ul(t.value))return{unaryFilter:{field:Hf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(al(t.value))return{unaryFilter:{field:Hf(t.field),op:"IS_NOT_NAN"}};if(ul(t.value))return{unaryFilter:{field:Hf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hf(t.field),op:Vf(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Hf(t.field),direction:Ff(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.qt||Kc(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Uf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Uf(e.endAt)),n}function Df(t){var e=If(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){sc(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Lf(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(t){return function(t){return new Rl(qf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var a=null;n.limit&&(a=function(t){var e;return Kc(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Mf(n.startAt));var l=null;return n.endAt&&(l=Mf(n.endAt)),Ml(e,i,u,s,a,"F",c,l)}function Lf(t){return t?void 0!==t.unaryFilter?[Bf(t)]:void 0!==t.fieldFilter?[zf(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Lf(t)}).reduce(function(t,e){return t.concat(e)}):oc():[]}function Uf(t){return{before:t.before,values:t.position}}function Mf(t){return new kl(t.values||[],!!t.before)}function Ff(t){return pf[t]}function Vf(t){return gf[t]}function Hf(t){return{fieldPath:t.ot()}}function qf(t){return Dc._t(t.fieldPath)}function zf(t){return Ol.create(qf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return oc()}}(t.fieldFilter.op),t.fieldFilter.value)}function Bf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=qf(t.unaryFilter.field);return Ol.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=qf(t.unaryFilter.field);return Ol.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=qf(t.unaryFilter.field);return Ol.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=qf(t.unaryFilter.field);return Ol.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return oc()}}function Gf(t){var e=[];return t.fields.forEach(function(t){return e.push(t.ot())}),{fieldPaths:e}}function Jf(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var $f=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Kf=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.On=!1,t(function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)},function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.On&&oc(),this.On=!0,this.Nn?this.error?this.Fn(n,this.error):this.kn(e,this.result):new t(function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.Fn(n,e).next(t,i)}})},t.prototype.Mn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln(function(){return e(n)}):t.resolve(n)},t.prototype.Fn=function(e,n){return e?this.Ln(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.$n=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.$n(r)},t}(),Wf=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new $f,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new Zf(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=rd(e.target.error);n.qn.reject(new Zf(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Zf(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(ec("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new td(e)},t}(),Yf=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(Wi.j)())&&nc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return ec("SimpleDb","Removing database:",t),ed(window.indexedDB.deleteDatabase(t)).Mn()},t.jn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(Wi.j)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(Za.b)(this,void 0,void 0,function(){var e,n=this;return Object(Za.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(ec("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Zf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new gc(pc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Zf(t,n))},i.onupgradeneeded=function(t){ec("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){ec("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}})})},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Za.b)(this,void 0,void 0,function(){var i,o,s,u,a;return Object(Za.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,a,c,l;return Object(Za.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,u.Jn(t)];case 2:return u.db=h.sent(),e=Wf.open(u.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Kf.reject(t)}).Mn(),a={},s.catch(function(){}),[4,e.Un];case 3:return[2,(a.value=(h.sent(),s),a)];case 4:return ec("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),u.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},u=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(a=c.sent()))return[2,a.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Xf=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return ed(this.ts.delete())},t}(),Zf=function(t){function e(e,n){var r=this;return(r=t.call(this,pc.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Za.c)(e,t),e}(gc);function Qf(t){return"IndexedDbTransactionError"===t.name}var td=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(ec("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ec("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ed(n)},t.prototype.add=function(t){return ec("SimpleDb","ADD",this.store.name,t,t),ed(this.store.add(t))},t.prototype.get=function(t){var e=this;return ed(this.store.get(t)).next(function(n){return void 0===n&&(n=null),ec("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return ec("SimpleDb","DELETE",this.store.name,t),ed(this.store.delete(t))},t.prototype.count=function(){return ec("SimpleDb","COUNT",this.store.name),ed(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.us=function(t,e){ec("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,function(t,e,n){return n.delete()})},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new Kf(function(n,r){e.onerror=function(t){var e=rd(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.cs=function(t,e){var n=[];return new Kf(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Xf(i),s=e(i.primaryKey,i.value,o);if(s instanceof Kf){var u=s.catch(function(t){return o.done(),Kf.reject(t)});n.push(u)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}}).next(function(){return Kf.$n(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function ed(t){return new Kf(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=rd(t.target.error);n(e)}})}var nd=!1;function rd(t){var e=Yf.Kn(Object(Wi.j)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new gc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return nd||(nd=!0,setTimeout(function(){throw r},0)),r}}return t}var id=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new $f,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch(function(t){})}return t.Is=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.As=setTimeout(function(){return e.Rs()},t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new gc(pc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys(function(){return null!==t.As?(t.clearTimeout(),t.op().then(function(e){return t.Ts.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function od(t,e){if(nc("AsyncQueue",e+": "+t),Qf(t))return new gc(pc.UNAVAILABLE,e+": "+t);throw t}var sd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ud=function(){function t(){this.gs=[]}return t.prototype.Vs=function(t){this.gs.push(t)},t.prototype.ps=function(){this.gs.forEach(function(t){return t()})},t}();function ad(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=ld(e)),e=cd(t.get(n),e);return ld(e)}function cd(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function ld(t){return t+"\x01\x01"}function hd(t){var e=t.length;if(sc(e>=2),2===e)return sc("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Rc.at();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&oc(),t.charAt(s+1)){case"\x01":var u=t.substring(o,s),a=void 0;0===i.length?a=u:(a=i+=u,i=""),r.push(a);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:oc()}o=s+2}return new Rc(r)}var fd=function(t,e){this.seconds=t,this.nanoseconds=e},dd=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};dd.store="owner",dd.key="owner";var pd=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};pd.store="mutationQueues",pd.keyPath="userId";var gd=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};gd.store="mutations",gd.keyPath="batchId",gd.userMutationsIndex="userMutationsIndex",gd.userMutationsKeyPath=["userId","batchId"];var vd=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ad(e)]},t.key=function(t,e,n){return[t,ad(e),n]},t}();vd.store="documentMutations",vd.PLACEHOLDER=new vd;var bd=function(t,e){this.path=t,this.readTime=e},yd=function(t,e){this.path=t,this.version=e},md=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};md.store="remoteDocuments",md.readTimeIndex="readTimeIndex",md.readTimeIndexPath="readTime",md.collectionReadTimeIndex="collectionReadTimeIndex",md.collectionReadTimeIndexPath=["parentPath","readTime"];var wd=function(t){this.byteSize=t};wd.store="remoteDocumentGlobal",wd.key="remoteDocumentGlobalKey";var _d=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};_d.store="targets",_d.keyPath="targetId",_d.queryTargetsIndexName="queryTargetsIndex",_d.queryTargetsKeyPath=["canonicalId","targetId"];var Od=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Od.store="targetDocuments",Od.keyPath=["targetId","path"],Od.documentTargetsIndex="documentTargetsIndex",Od.documentTargetsKeyPath=["path","targetId"];var Ed=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Ed.key="targetGlobalKey",Ed.store="targetGlobal";var Sd=function(t,e){this.collectionId=t,this.parent=e};Sd.store="collectionParents",Sd.keyPath=["collectionId","parent"];var Td=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Td.store="clientMetadata",Td.keyPath="clientId";var Id=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Id.store="bundles",Id.keyPath="bundleId";var xd=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};xd.store="namedQueries",xd.keyPath="name";var Cd=Object(Za.g)(Object(Za.g)(Object(Za.g)(Object(Za.g)([pd.store,gd.store,vd.store,md.store,_d.store,dd.store,Ed.store,Od.store],[Td.store]),[wd.store]),[Sd.store]),[Id.store,xd.store]),jd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bs=e,r.vs=n,r}return Object(Za.c)(e,t),e}(ud);function Ad(t,e){var n=uc(t);return Yf.Hn(n.bs,e)}var kd=function(){function t(t,e,n,r){this.batchId=t,this.Ss=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ds=function(t,e,n){for(var r=n.Cs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=_h(o,e,r[i]))}return e},t.prototype.xs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=Oh(s,e,0,this.Ss));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=Oh(s,e,0,this.Ss))}return e},t.prototype.Ns=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.xs(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Zh())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&hc(this.mutations,t.mutations,function(t,e){return Sh(t,e)})&&hc(this.baseMutations,t.baseMutations,function(t,e){return Sh(t,e)})},t}(),Nd=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.Cs=n,this.Fs=r}return t.from=function(e,n,r){sc(e.mutations.length===r.length);for(var i=Yh(),o=e.mutations,s=0;s<o.length;s++)i=i.Ht(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Rd=function(t){this.ks=t};function Pd(t,e){if(e.document)return Af(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Lc.Tt(e.noDocument.path),r=Fd(e.noDocument.readTime);return new gl(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Lc.Tt(e.unknownDocument.path);return r=Fd(e.unknownDocument.version),new vl(i,r)}return oc()}function Dd(t,e,n){var r=Ld(n),i=e.key.path.Z().rt();if(e instanceof pl){var o=function(t,e){return{name:Ef(t,e.key),fields:e.vt().mapValue.fields,updateTime:bf(t,e.version.G())}}(t.ks,e),s=e.hasCommittedMutations;return new md(null,null,o,s,r,i)}if(e instanceof gl){var u=e.key.path.rt(),a=Md(e.version);return s=e.hasCommittedMutations,new md(null,new bd(u,a),null,s,r,i)}if(e instanceof vl){var c=e.key.path.rt(),l=Md(e.version);return new md(new yd(c,l),null,null,!0,r,i)}return oc()}function Ld(t){var e=t.G();return[e.seconds,e.nanoseconds]}function Ud(t){var e=new Ac(t[0],t[1]);return kc.j(e)}function Md(t){var e=t.G();return new fd(e.seconds,e.nanoseconds)}function Fd(t){var e=new Ac(t.seconds,t.nanoseconds);return kc.j(e)}function Vd(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Nf(t.ks,e)}),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map(function(e){return Nf(t.ks,e)}),s=Ac.fromMillis(e.localWriteTimeMs);return new kd(e.batchId,s,n,o)}function Hd(t){var e,n,r=Fd(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Fd(t.lastLimboFreeSnapshotVersion):kc.min();return void 0!==t.query.documents?(sc(1===(n=t.query).documents.length),e=Jl(Fl(If(n.documents[0])))):e=function(t){return Jl(Df(t))}(t.query),new th(e,t.targetId,0,t.lastListenSequenceNumber,r,i,dc.fromBase64String(t.resumeToken))}function qd(t,e){var n,r=Md(e.Mt),i=Md(e.lastLimboFreeSnapshotVersion);n=_l(e.target)?Rf(t.ks,e.target):Pf(t.ks,e.target);var o=e.resumeToken.toBase64();return new _d(e.targetId,ml(e.target),r,o,e.sequenceNumber,i,n)}function zd(t){var e=Df({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?$l(e,e.limit,"L"):e}var Bd=function(){function t(){}return t.prototype.Ms=function(t,e){return Gd(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Fd(e.createTime),version:e.version};var e})},t.prototype.Ls=function(t,e){return Gd(t).put({bundleId:(n=e).id,createTime:Md(wf(n.createTime)),version:n.version});var n},t.prototype.$s=function(t,e){return Jd(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:zd(e.bundledQuery),readTime:Fd(e.readTime)};var e})},t.prototype.Bs=function(t,e){return Jd(t).put(function(t){return{name:t.name,readTime:Md(wf(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Gd(t){return Ad(t,Id.store)}function Jd(t){return Ad(t,xd.store)}var $d=function(){function t(){this.qs=new Kd}return t.prototype.Us=function(t,e){return this.qs.add(e),Kf.resolve()},t.prototype.Qs=function(t,e){return Kf.resolve(this.qs.getEntries(e))},t}(),Kd=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new qh(Rc.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new qh(Rc.J)).rt()},t}(),Wd=function(){function t(){this.Ks=new Kd}return t.prototype.Us=function(t,e){var n=this;if(!this.Ks.has(e)){var r=e.et(),i=e.Z();t.Vs(function(){n.Ks.add(e)});var o={collectionId:r,parent:ad(i)};return Yd(t).put(o)}return Kf.resolve()},t.prototype.Qs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[fc(e),""],!1,!0);return Yd(t).os(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(hd(o.parent))}return n})},t}();function Yd(t){return Ad(t,Sd.store)}var Xd={js:!1,Ws:0,Gs:0,zs:0},Zd=function(){function t(t,e,n){this.Hs=t,this.Js=e,this.Ys=n}return t.Xs=function(e){return new t(e,t.Zs,t.ti)},t}();function Qd(t){return Object(Za.b)(this,void 0,void 0,function(){return Object(Za.d)(this,function(e){if(t.code!==pc.FAILED_PRECONDITION||t.message!==sd)throw t;return ec("LocalStore","Unexpectedly lost primary lease"),[2]})})}Zd.Zs=10,Zd.ti=1e3,Zd.ei=new Zd(41943040,Zd.Zs,Zd.ti),Zd.ni=new Zd(-1,0,0);var tp=function(){function t(t,e){this.si=t,this.ii=e,this.ri={}}return t.prototype.get=function(t){var e=this.si(t),n=this.ri[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.ii(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.si(t),r=this.ri[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ii(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ri[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.si(t),n=this.ri[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ii(n[r][0],t))return 1===n.length?delete this.ri[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Mc(this.ri,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.nt=function(){return Fc(this.ri)},t}(),ep=function(){function t(){this.oi=new tp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.ci=!1}return t.prototype.ai=function(t){var e=this.oi.get(t);return e?e.readTime:kc.min()},t.prototype.ui=function(t,e){this.hi(),this.oi.set(t.key,{li:t,readTime:e})},t.prototype._i=function(t,e){void 0===e&&(e=null),this.hi(),this.oi.set(t,{li:null,readTime:e})},t.prototype.fi=function(t,e){this.hi();var n=this.oi.get(e);return void 0!==n?Kf.resolve(n.li):this.di(t,e)},t.prototype.getEntries=function(t,e){return this.wi(t,e)},t.prototype.apply=function(t){return this.hi(),this.ci=!0,this.Ei(t)},t.prototype.hi=function(){},t}();function np(t,e,n){var r=t.store(gd.store),i=t.store(vd.store),o=[],s=IDBKeyRange.only(n.batchId),u=0,a=r.ls({range:s},function(t,e,n){return u++,n.delete()});o.push(a.next(function(){sc(1===u)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=vd.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Kf.$n(o).next(function(){return c})}function rp(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw oc();e=t.noDocument}return JSON.stringify(e).length}var ip=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ti=n,this.Ii=r,this.mi={}}return t.Ai=function(e,n,r,i){return sc(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Ri=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sp(t).ls({index:gd.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Pi=function(t,e,n,r){var i=this,o=up(t),s=sp(t);return s.add({}).next(function(u){sc("number"==typeof u);for(var a=new kd(u,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return kf(t.ks,e)}),i=n.mutations.map(function(e){return kf(t.ks,e)});return new gd(e,n.batchId,n.Ss.toMillis(),r,i)}(i.Kt,i.userId,a),l=[],h=new qh(function(t,e){return lc(t.ot(),e.ot())}),f=0,d=r;f<d.length;f++){var p=d[f],g=vd.key(i.userId,p.key.path,u);h=h.add(p.key.path.Z()),l.push(s.put(c)),l.push(o.put(g,vd.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ti.Us(t,e))}),t.Vs(function(){i.mi[u]=a.keys()}),Kf.$n(l).next(function(){return a})})},t.prototype.yi=function(t,e){var n=this;return sp(t).get(e).next(function(t){return t?(sc(t.userId===n.userId),Vd(n.Kt,t)):null})},t.prototype.gi=function(t,e){var n=this;return this.mi[e]?Kf.resolve(this.mi[e]):this.yi(t,e).next(function(t){if(t){var r=t.keys();return n.mi[e]=r,r}return null})},t.prototype.Vi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return sp(t).ls({index:gd.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(sc(e.batchId>=r),o=Vd(n.Kt,e)),i.done()}).next(function(){return o})},t.prototype.pi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return sp(t).ls({index:gd.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.bi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sp(t).os(gd.userMutationsIndex,n).next(function(t){return t.map(function(t){return Vd(e.Kt,t)})})},t.prototype.vi=function(t,e){var n=this,r=vd.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return up(t).ls({range:i},function(r,i,s){var u=r[0],a=r[2],c=hd(r[1]);if(u===n.userId&&e.path.isEqual(c))return sp(t).get(a).next(function(t){if(!t)throw oc();sc(t.userId===n.userId),o.push(Vd(n.Kt,t))});s.done()}).next(function(){return o})},t.prototype.Si=function(t,e){var n=this,r=new qh(lc),i=[];return e.forEach(function(e){var o=vd.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),u=up(t).ls({range:s},function(t,i,o){var s=t[0],u=t[2],a=hd(t[1]);s===n.userId&&e.path.isEqual(a)?r=r.add(u):o.done()});i.push(u)}),Kf.$n(i).next(function(){return n.Di(t,r)})},t.prototype.Ci=function(t,e){var n=this,r=e.path,i=r.length+1,o=vd.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),u=new qh(lc);return up(t).ls({range:s},function(t,e,o){var s=t[0],a=t[2],c=hd(t[1]);s===n.userId&&r.st(c)?c.length===i&&(u=u.add(a)):o.done()}).next(function(){return n.Di(t,u)})},t.prototype.Di=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(sp(t).get(e).next(function(t){if(null===t)throw oc();sc(t.userId===n.userId),r.push(Vd(n.Kt,t))}))}),Kf.$n(i).next(function(){return r})},t.prototype.xi=function(t,e){var n=this;return np(t.bs,this.userId,e).next(function(r){return t.Vs(function(){n.Ni(e.batchId)}),Kf.forEach(r,function(e){return n.Ii.Oi(t,e)})})},t.prototype.Ni=function(t){delete this.mi[t]},t.prototype.Fi=function(t){var e=this;return this.Ri(t).next(function(n){if(!n)return Kf.resolve();var r=IDBKeyRange.lowerBound(vd.prefixForUser(e.userId)),i=[];return up(t).ls({range:r},function(t,n,r){if(t[0]===e.userId){var o=hd(t[1]);i.push(o)}else r.done()}).next(function(){sc(0===i.length)})})},t.prototype.ki=function(t,e){return op(t,this.userId,e)},t.prototype.Mi=function(t){var e=this;return ap(t).get(this.userId).next(function(t){return t||new pd(e.userId,-1,"")})},t}();function op(t,e,n){var r=vd.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return up(t).ls({range:o,hs:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function sp(t){return Ad(t,gd.store)}function up(t){return Ad(t,vd.store)}function ap(t){return Ad(t,pd.store)}var cp=function(){function t(t){this.Li=t}return t.prototype.next=function(){return this.Li+=2,this.Li},t.$i=function(){return new t(0)},t.Bi=function(){return new t(-1)},t}(),lp=function(){function t(t,e){this.Ii=t,this.Kt=e}return t.prototype.qi=function(t){var e=this;return this.Ui(t).next(function(n){var r=new cp(n.highestTargetId);return n.highestTargetId=r.next(),e.Qi(t,n).next(function(){return n.highestTargetId})})},t.prototype.Ki=function(t){return this.Ui(t).next(function(t){return kc.j(new Ac(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.ji=function(t){return this.Ui(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Wi=function(t,e,n){var r=this;return this.Ui(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Qi(t,i)})},t.prototype.Gi=function(t,e){var n=this;return this.zi(t,e).next(function(){return n.Ui(t).next(function(r){return r.targetCount+=1,n.Hi(e,r),n.Qi(t,r)})})},t.prototype.Ji=function(t,e){return this.zi(t,e)},t.prototype.Yi=function(t,e){var n=this;return this.Xi(t,e.targetId).next(function(){return hp(t).delete(e.targetId)}).next(function(){return n.Ui(t)}).next(function(e){return sc(e.targetCount>0),e.targetCount-=1,n.Qi(t,e)})},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return hp(t).ls(function(s,u){var a=Hd(u);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,o.push(r.Yi(t,a)))}).next(function(){return Kf.$n(o)}).next(function(){return i})},t.prototype.mn=function(t,e){return hp(t).ls(function(t,n){var r=Hd(n);e(r)})},t.prototype.Ui=function(t){return fp(t).get(Ed.key).next(function(t){return sc(null!==t),t})},t.prototype.Qi=function(t,e){return fp(t).put(Ed.key,e)},t.prototype.zi=function(t,e){return hp(t).put(qd(this.Kt,e))},t.prototype.Hi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tr=function(t){return this.Ui(t).next(function(t){return t.targetCount})},t.prototype.er=function(t,e){var n=ml(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return hp(t).ls({range:r,index:_d.queryTargetsIndexName},function(t,n,r){var o=Hd(n);wl(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.nr=function(t,e,n){var r=this,i=[],o=dp(t);return e.forEach(function(e){var s=ad(e.path);i.push(o.put(new Od(n,s))),i.push(r.Ii.sr(t,n,e))}),Kf.$n(i)},t.prototype.ir=function(t,e,n){var r=this,i=dp(t);return Kf.forEach(e,function(e){var o=ad(e.path);return Kf.$n([i.delete([n,o]),r.Ii.rr(t,n,e)])})},t.prototype.Xi=function(t,e){var n=dp(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.cr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=dp(t),i=Zh();return r.ls({range:n,hs:!0},function(t,e,n){var r=hd(t[1]),o=new Lc(r);i=i.add(o)}).next(function(){return i})},t.prototype.ki=function(t,e){var n=ad(e.path),r=IDBKeyRange.bound([n],[fc(n)],!1,!0),i=0;return dp(t).ls({index:Od.documentTargetsIndex,hs:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Dn=function(t,e){return hp(t).get(e).next(function(t){return t?Hd(t):null})},t}();function hp(t){return Ad(t,_d.store)}function fp(t){return Ad(t,Ed.store)}function dp(t){return Ad(t,Od.store)}function pp(t,e){var n=t[1],r=e[1],i=lc(t[0],e[0]);return 0===i?lc(n,r):i}var gp=function(){function t(t){this.ar=t,this.buffer=new qh(pp),this.ur=0}return t.prototype.hr=function(){return++this.ur},t.prototype.lr=function(t){var e=[t,this.hr()];if(this.buffer.size<this.ar)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();pp(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),vp=function(){function t(t,e){this._r=t,this.fs=e,this.dr=!1,this.wr=null}return t.prototype.start=function(t){-1!==this._r.params.Hs&&this.Er(t)},t.prototype.stop=function(){this.wr&&(this.wr.cancel(),this.wr=null)},Object.defineProperty(t.prototype,"Tr",{get:function(){return null!==this.wr},enumerable:!1,configurable:!0}),t.prototype.Er=function(t){var e=this,n=this.dr?3e5:6e4;ec("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.wr=this.fs.Ir("lru_garbage_collection",n,function(){return Object(Za.b)(e,void 0,void 0,function(){var e;return Object(Za.d)(this,function(n){switch(n.label){case 0:this.wr=null,this.dr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mr(this._r)];case 2:return n.sent(),[3,7];case 3:return Qf(e=n.sent())?(ec("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Qd(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Er(t)];case 8:return n.sent(),[2]}})})})},t}(),bp=function(){function t(t,e){this.Ar=t,this.params=e}return t.prototype.Rr=function(t,e){return this.Ar.Pr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.yr=function(t,e){var n=this;if(0===e)return Kf.resolve(jc.U);var r=new gp(e);return this.Ar.mn(t,function(t){return r.lr(t.sequenceNumber)}).next(function(){return n.Ar.gr(t,function(t){return r.lr(t)})}).next(function(){return r.maxValue})},t.prototype.Zi=function(t,e,n){return this.Ar.Zi(t,e,n)},t.prototype.Vr=function(t,e){return this.Ar.Vr(t,e)},t.prototype.pr=function(t,e){var n=this;return-1===this.params.Hs?(ec("LruGarbageCollector","Garbage collection skipped; disabled"),Kf.resolve(Xd)):this.br(t).next(function(r){return r<n.params.Hs?(ec("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Hs),Xd):n.vr(t,e)})},t.prototype.br=function(t){return this.Ar.br(t)},t.prototype.vr=function(t,e){var n,r,i,o,s,u,a,c=this,l=Date.now();return this.Rr(t,this.params.Js).next(function(e){return e>c.params.Ys?(ec("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Ys+" from "+e),r=c.params.Ys):r=e,o=Date.now(),c.yr(t,r)}).next(function(r){return n=r,s=Date.now(),c.Zi(t,n,e)}).next(function(e){return i=e,u=Date.now(),c.Vr(t,n)}).next(function(t){return a=Date.now(),tc()<=Ki.a.DEBUG&&ec("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(a-u)+"ms\nTotal Duration: "+(a-l)+"ms"),Kf.resolve({js:!0,Ws:r,Gs:i,zs:t})})},t}(),yp=function(){function t(t,e){this.db=t,this._r=function(t,e){return new bp(t,e)}(this,e)}return t.prototype.Pr=function(t){var e=this.Sr(t);return this.db.Dr().tr(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Sr=function(t){var e=0;return this.gr(t,function(t){e++}).next(function(){return e})},t.prototype.mn=function(t,e){return this.db.Dr().mn(t,e)},t.prototype.gr=function(t,e){return this.Cr(t,function(t,n){return e(n)})},t.prototype.sr=function(t,e,n){return mp(t,n)},t.prototype.rr=function(t,e,n){return mp(t,n)},t.prototype.Zi=function(t,e,n){return this.db.Dr().Zi(t,e,n)},t.prototype.Oi=function(t,e){return mp(t,e)},t.prototype.Nr=function(t,e){return function(t,e){var n=!1;return ap(t)._s(function(r){return op(t,r,e).next(function(t){return t&&(n=!0),Kf.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.Vr=function(t,e){var n=this,r=this.db.Fr().Or(),i=[],o=0;return this.Cr(t,function(s,u){if(u<=e){var a=n.Nr(t,s).next(function(e){if(!e)return o++,r.fi(t,s).next(function(){return r._i(s),dp(t).delete([0,ad(s.path)])})});i.push(a)}}).next(function(){return Kf.$n(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.vs);return this.db.Dr().Ji(t,n)},t.prototype.kr=function(t,e){return mp(t,e)},t.prototype.Cr=function(t,e){var n,r=dp(t),i=jc.U;return r.ls({index:Od.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==jc.U&&e(new Lc(hd(n)),i),i=s,n=o):i=jc.U}).next(function(){i!==jc.U&&e(new Lc(hd(n)),i)})},t.prototype.br=function(t){return this.db.Fr().Mr(t)},t}();function mp(t,e){return dp(t).put(function(t,e){return new Od(0,ad(t.path),e)}(e,t.vs))}var wp=function(){function t(t,e){this.Kt=t,this.Ti=e}return t.prototype.ui=function(t,e,n){return Ep(t).put(Sp(e),n)},t.prototype._i=function(t,e){var n=Ep(t),r=Sp(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Lr(t,r)})},t.prototype.fi=function(t,e){var n=this;return Ep(t).get(Sp(e)).next(function(t){return n.$r(t)})},t.prototype.Br=function(t,e){var n=this;return Ep(t).get(Sp(e)).next(function(t){var e=n.$r(t);return e?{li:e,size:rp(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Jh();return this.qr(t,e,function(t,e){var i=n.$r(e);r=r.Ht(t,i)}).next(function(){return r})},t.prototype.Ur=function(t,e){var n=this,r=Jh(),i=new Fh(Lc.J);return this.qr(t,e,function(t,e){var o=n.$r(e);o?(r=r.Ht(t,o),i=i.Ht(t,rp(e))):(r=r.Ht(t,null),i=i.Ht(t,0))}).next(function(){return{Qr:r,Kr:i}})},t.prototype.qr=function(t,e,n){if(e.nt())return Kf.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return Ep(t).ls({range:r},function(t,e,r){for(var s=Lc.Tt(t);o&&Lc.J(o,s)<0;)n(o,null),o=i.ce();o&&o.isEqual(s)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()}).next(function(){for(;o;)n(o,null),o=i.ae()?i.ce():null})},t.prototype.jr=function(t,e,n){var r=this,i=Kh(),o=e.path.length+1,s={};if(n.isEqual(kc.min())){var u=e.path.rt();s.range=IDBKeyRange.lowerBound(u)}else{var a=e.path.rt(),c=Ld(n);s.range=IDBKeyRange.lowerBound([a,c],!0),s.index=md.collectionReadTimeIndex}return Ep(t).ls(s,function(t,n,s){if(t.length===o){var u=Pd(r.Kt,n);e.path.st(u.key.path)?u instanceof pl&&Xl(e,u)&&(i=i.Ht(u.key,u)):s.done()}}).next(function(){return i})},t.prototype.Or=function(t){return new _p(this,!!t&&t.Wr)},t.prototype.Mr=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Op(t).get(wd.key).next(function(t){return sc(!!t),t})},t.prototype.Lr=function(t,e){return Op(t).put(wd.key,e)},t.prototype.$r=function(t){if(t){var e=Pd(this.Kt,t);return e instanceof gl&&e.version.isEqual(kc.min())?null:e}return null},t}(),_p=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Gr=e,r.Wr=n,r.zr=new tp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Za.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[],r=0,i=new qh(function(t,e){return lc(t.ot(),e.ot())});return this.oi.forEach(function(o,s){var u=e.zr.get(o);if(s.li){var a=Dd(e.Gr.Kt,s.li,e.ai(o));i=i.add(o.path.Z());var c=rp(a);r+=c-u,n.push(e.Gr.ui(t,o,a))}else if(r-=u,e.Wr){var l=Dd(e.Gr.Kt,new gl(o,kc.min()),e.ai(o));n.push(e.Gr.ui(t,o,l))}else n.push(e.Gr._i(t,o))}),i.forEach(function(r){n.push(e.Gr.Ti.Us(t,r))}),n.push(this.Gr.updateMetadata(t,r)),Kf.$n(n)},e.prototype.di=function(t,e){var n=this;return this.Gr.Br(t,e).next(function(t){return null===t?(n.zr.set(e,0),null):(n.zr.set(e,t.size),t.li)})},e.prototype.wi=function(t,e){var n=this;return this.Gr.Ur(t,e).next(function(t){var e=t.Qr;return t.Kr.forEach(function(t,e){n.zr.set(t,e)}),e})},e}(ep);function Op(t){return Ad(t,wd.store)}function Ep(t){return Ad(t,md.store)}function Sp(t){return t.path.rt()}var Tp=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;sc(n<r&&n>=0&&r<=11);var o=new Wf("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(dd.store)}(t),function(t){t.createObjectStore(pd.store,{keyPath:pd.keyPath}),t.createObjectStore(gd.store,{keyPath:gd.keyPath,autoIncrement:!0}).createIndex(gd.userMutationsIndex,gd.userMutationsKeyPath,{unique:!0}),t.createObjectStore(vd.store)}(t),Ip(t),function(t){t.createObjectStore(md.store)}(t));var s=Kf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Od.store),t.deleteObjectStore(_d.store),t.deleteObjectStore(Ed.store)}(t),Ip(t)),s=s.next(function(){return function(t){var e=t.store(Ed.store),n=new Ed(0,0,kc.min().G(),0);return e.put(Ed.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(gd.store).os().next(function(n){t.deleteObjectStore(gd.store),t.createObjectStore(gd.store,{keyPath:gd.keyPath,autoIncrement:!0}).createIndex(gd.userMutationsIndex,gd.userMutationsKeyPath,{unique:!0});var r=e.store(gd.store),i=n.map(function(t){return r.put(t)});return Kf.$n(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Td.store,{keyPath:Td.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Hr(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(wd.store)}(t),i.Jr(o)})),n<7&&r>=7&&(s=s.next(function(){return i.Yr(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Xr(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(md.store);e.createIndex(md.readTimeIndex,md.readTimeIndexPath,{unique:!1}),e.createIndex(md.collectionReadTimeIndex,md.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Zr(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Id.store,{keyPath:Id.keyPath})}(t),function(t){t.createObjectStore(xd.store,{keyPath:xd.keyPath})}(t)})),s},t.prototype.Jr=function(t){var e=0;return t.store(md.store).ls(function(t,n){e+=rp(n)}).next(function(){var n=new wd(e);return t.store(wd.store).put(wd.key,n)})},t.prototype.Hr=function(t){var e=this,n=t.store(pd.store),r=t.store(gd.store);return n.os().next(function(n){return Kf.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(gd.userMutationsIndex,i).next(function(r){return Kf.forEach(r,function(r){sc(r.userId===n.userId);var i=Vd(e.Kt,r);return np(t,n.userId,i).next(function(){})})})})})},t.prototype.Yr=function(t){var e=t.store(Od.store),n=t.store(md.store);return t.store(Ed.store).get(Ed.key).next(function(t){var r=[];return n.ls(function(n,i){var o=new Rc(n),s=function(t){return[0,ad(t)]}(o);r.push(e.get(s).next(function(n){return n?Kf.resolve():function(n){return e.put(new Od(0,ad(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Kf.$n(r)})})},t.prototype.Xr=function(t,e){t.createObjectStore(Sd.store,{keyPath:Sd.keyPath});var n=e.store(Sd.store),r=new Kd,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:ad(i)})}};return e.store(md.store).ls({hs:!0},function(t,e){var n=new Rc(t);return i(n.Z())}).next(function(){return e.store(vd.store).ls({hs:!0},function(t,e){var n=hd(t[1]);return i(n.Z())})})},t.prototype.Zr=function(t){var e=this,n=t.store(_d.store);return n.ls(function(t,r){var i=Hd(r),o=qd(e.Kt,i);return n.put(o)})},t}();function Ip(t){t.createObjectStore(Od.store,{keyPath:Od.keyPath}).createIndex(Od.documentTargetsIndex,Od.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(_d.store,{keyPath:_d.keyPath}).createIndex(_d.queryTargetsIndexName,_d.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Ed.store)}var xp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Cp=function(){function t(e,n,r,i,o,s,u,a,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.eo=o,this.window=s,this.document=u,this.no=c,this.so=l,this.io=null,this.ro=!1,this.isPrimary=!1,this.networkEnabled=!0,this.oo=null,this.inForeground=!1,this.co=null,this.ao=null,this.uo=Number.NEGATIVE_INFINITY,this.ho=function(t){return Promise.resolve()},!t.jn())throw new gc(pc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ii=new yp(this,i),this.lo=n+"main",this.Kt=new Rd(a),this._o=new Yf(this.lo,11,new Tp(this.Kt)),this.fo=new lp(this.Ii,this.Kt),this.Ti=new Wd,this.wo=function(t,e){return new wp(t,e)}(this.Kt,this.Ti),this.Eo=new Bd,this.window&&this.window.localStorage?this.To=this.window.localStorage:(this.To=null,!1===l&&nc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Io().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new gc(pc.FAILED_PRECONDITION,xp);return t.mo(),t.Ao(),t.Ro(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.fo.ji(e)})}).then(function(e){t.io=new jc(e,t.no)}).then(function(){t.ro=!0}).catch(function(e){return t._o&&t._o.close(),Promise.reject(e)})},t.prototype.Po=function(t){var e=this;return this.ho=function(n){return Object(Za.b)(e,void 0,void 0,function(){return Object(Za.d)(this,function(e){return this.Tr?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.yo=function(t){var e=this;this._o.Zn(function(n){return Object(Za.b)(e,void 0,void 0,function(){return Object(Za.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.Vo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.eo.ys(function(){return Object(Za.b)(e,void 0,void 0,function(){return Object(Za.d)(this,function(t){switch(t.label){case 0:return this.Tr?[4,this.Io()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Io=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Ap(e).put(new Td(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.po(e).next(function(e){e||(t.isPrimary=!1,t.eo.bo(function(){return t.ho(!1)}))})}).next(function(){return t.vo(e)}).next(function(n){return t.isPrimary&&!n?t.So(e).next(function(){return!1}):!!n&&t.Do(e).next(function(){return!0})})}).catch(function(e){if(Qf(e))return ec("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return ec("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.eo.bo(function(){return t.ho(e)}),t.isPrimary=e})},t.prototype.po=function(t){var e=this;return jp(t).get(dd.key).next(function(t){return Kf.resolve(e.Co(t))})},t.prototype.xo=function(t){return Ap(t).delete(this.clientId)},t.prototype.No=function(){return Object(Za.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Za.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.Oo(this.uo,18e5)?[3,2]:(this.uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Ad(t,Td.store);return e.os().next(function(t){var n=r.Fo(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Kf.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.To)for(e=0,n=t;e<n.length;e++)this.To.removeItem(this.ko(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ro=function(){var t=this;this.ao=this.eo.Ir("client_metadata_refresh",4e3,function(){return t.Io().then(function(){return t.No()}).then(function(){return t.Ro()})})},t.prototype.Co=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.vo=function(t){var e=this;return this.so?Kf.resolve(!0):jp(t).get(dd.key).next(function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Mo(n.ownerId)){if(e.Co(n)&&e.networkEnabled)return!0;if(!e.Co(n)){if(!n.allowTabSynchronization)throw new gc(pc.FAILED_PRECONDITION,xp);return!1}}return!(!e.networkEnabled||!e.inForeground)||Ap(t).os().next(function(t){return void 0===e.Fo(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&ec("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Lo=function(){return Object(Za.b)(this,void 0,void 0,function(){var t=this;return Object(Za.d)(this,function(e){switch(e.label){case 0:return this.ro=!1,this.$o(),this.ao&&(this.ao.cancel(),this.ao=null),this.Bo(),this.qo(),[4,this._o.runTransaction("shutdown","readwrite",[dd.store,Td.store],function(e){var n=new jd(e,jc.U);return t.So(n).next(function(){return t.xo(n)})})];case 1:return e.sent(),this._o.close(),this.Uo(),[2]}})})},t.prototype.Fo=function(t,e){var n=this;return t.filter(function(t){return n.Oo(t.updateTimeMs,e)&&!n.Mo(t.clientId)})},t.prototype.Qo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Ap(e).os().next(function(e){return t.Fo(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.Ko=function(t){return ip.Ai(t,this.Kt,this.Ti,this.Ii)},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.jo=function(){return this.Ti},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return ec("IndexedDbPersistence","Starting transaction:",t),this._o.runTransaction(t,"readonly"===e?"readonly":"readwrite",Cd,function(o){return r=new jd(o,i.io?i.io.next():jc.U),"readwrite-primary"===e?i.po(r).next(function(t){return!!t||i.vo(r)}).next(function(e){if(!e)throw nc("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.eo.bo(function(){return i.ho(!1)}),new gc(pc.FAILED_PRECONDITION,sd);return n(r)}).next(function(t){return i.Do(r).next(function(){return t})}):i.Go(r).next(function(){return n(r)})}).then(function(t){return r.ps(),t})},t.prototype.Go=function(t){var e=this;return jp(t).get(dd.key).next(function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Mo(t.ownerId)&&!e.Co(t)&&!(e.so||e.allowTabSynchronization&&t.allowTabSynchronization))throw new gc(pc.FAILED_PRECONDITION,xp)})},t.prototype.Do=function(t){var e=new dd(this.clientId,this.allowTabSynchronization,Date.now());return jp(t).put(dd.key,e)},t.jn=function(){return Yf.jn()},t.prototype.So=function(t){var e=this,n=jp(t);return n.get(dd.key).next(function(t){return e.Co(t)?(ec("IndexedDbPersistence","Releasing primary lease."),n.delete(dd.key)):Kf.resolve()})},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(nc("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.co=function(){t.eo.ys(function(){return t.inForeground="visible"===t.document.visibilityState,t.Io()})},this.document.addEventListener("visibilitychange",this.co),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Bo=function(){this.co&&(this.document.removeEventListener("visibilitychange",this.co),this.co=null)},t.prototype.Ao=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.oo=function(){e.$o(),e.eo.ys(function(){return e.Lo()})},this.window.addEventListener("unload",this.oo))},t.prototype.qo=function(){this.oo&&(this.window.removeEventListener("unload",this.oo),this.oo=null)},t.prototype.Mo=function(t){var e;try{var n=null!==(null===(e=this.To)||void 0===e?void 0:e.getItem(this.ko(t)));return ec("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return nc("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.$o=function(){if(this.To)try{this.To.setItem(this.ko(this.clientId),String(Date.now()))}catch(t){nc("Failed to set zombie client id.",t)}},t.prototype.Uo=function(){if(this.To)try{this.To.removeItem(this.ko(this.clientId))}catch(t){}},t.prototype.ko=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function jp(t){return Ad(t,dd.store)}function Ap(t){return Ad(t,Td.store)}function kp(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Np=function(t,e){this.progress=t,this.zo=e},Rp=function(){function t(t,e,n){this.wo=t,this.Ho=e,this.Ti=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.vi(t,e).next(function(r){return n.Yo(t,e,r)})},t.prototype.Yo=function(t,e,n){return this.wo.fi(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].xs(e,t);return t})},t.prototype.Xo=function(t,e,n){var r=Jh();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].xs(t,e);r=r.Ht(t,e)}),r},t.prototype.Zo=function(t,e){var n=this;return this.wo.getEntries(t,e).next(function(e){return n.tc(t,e)})},t.prototype.tc=function(t,e){var n=this;return this.Ho.Si(t,e).next(function(r){var i=n.Xo(t,e,r),o=Gh();return i.forEach(function(t,e){e||(e=new gl(t,kc.min())),o=o.Ht(t,e)}),o})},t.prototype.jr=function(t,e,n){return function(t){return Lc.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):Bl(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new Lc(e)).next(function(t){var e=Kh();return t instanceof pl&&(e=e.Ht(t.key,t)),e})},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=Kh();return this.Ti.Qs(t,i).next(function(s){return Kf.forEach(s,function(s){var u=function(t,e){return new Ul(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.sc(t,u,n).next(function(t){t.forEach(function(t,e){o=o.Ht(t,e)})})}).next(function(){return o})})},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.wo.jr(t,e,n).next(function(n){return r=n,o.Ho.Ci(t,e)}).next(function(e){return o.ic(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,u=o.mutations;s<u.length;s++){var a=u[s],c=a.key,l=Oh(a,r.get(c),0,o.Ss);r=l instanceof pl?r.Ht(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Xl(e,n)||(r=r.remove(t))}),r})},t.prototype.ic=function(t,e,n){for(var r=Zh(),i=0,o=e;i<o.length;i++)for(var s=0,u=o[i].mutations;s<u.length;s++){var a=u[s];a instanceof xh&&null===n.get(a.key)&&(r=r.add(a.key))}var c=n;return this.wo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof pl&&(c=c.Ht(t,e))}),c})},t}(),Pp=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=Zh(),i=Zh(),o=0,s=n.docChanges;o<s.length;o++){var u=s[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Dp=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(kc.min())?this.hc(t,e):this.uc.Zo(t,r).next(function(o){var s=i.lc(e,o);return(Vl(e)||Hl(e))&&i._c(e.limitType,s,r,n)?i.hc(t,e):(tc()<=Ki.a.DEBUG&&ec("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Yl(e)),i.uc.jr(t,e,n).next(function(t){return s.forEach(function(e){t=t.Ht(e.key,e)}),t}))})},t.prototype.lc=function(t,e){var n=new qh(Zl(t));return e.forEach(function(e,r){r instanceof pl&&Xl(t,r)&&(n=n.add(r))}),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return tc()<=Ki.a.DEBUG&&ec("QueryEngine","Using full collection scan to execute query:",Yl(e)),this.uc.jr(t,e,kc.min())},t}(),Lp=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new Fh(lc),this.wc=new tp(function(t){return ml(t)},wl),this.Ec=kc.min(),this.Ho=t.Ko(n),this.Tc=t.Fr(),this.fo=t.Dr(),this.Ic=new Rp(this.Tc,this.Ho,this.persistence.jo()),this.Eo=t.Wo(),this.fc.ac(this.Ic)}return t.prototype.mr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.pr(n,e.dc)})},t}();function Up(t,e,n,r){return new Lp(t,e,n,r)}function Mp(t,e){return Object(Za.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Za.d)(this,function(s){switch(s.label){case 0:return n=uc(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.Ho.bi(t).next(function(s){return o=s,r=n.persistence.Ko(e),i=new Rp(n.Tc,r,n.persistence.jo()),r.bi(t)}).next(function(e){for(var n=[],r=[],s=Zh(),u=0,a=o;u<a.length;u++){var c=a[u];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,v=p.mutations;g<v.length;g++)s=s.add(v[g].key)}return i.Zo(t,s).next(function(t){return{mc:t,Ac:n,Rc:r}})})})];case 1:return o=s.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}})})}function Fp(t,e){var n=uc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Tc.Or({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Kf.resolve();return o.forEach(function(t){s=s.next(function(){return r.fi(e,t)}).next(function(e){var o=e,s=n.Fs.get(t);sc(null!==s),(!o||o.version.u(s)<0)&&(o=i.Ds(t,o,n))&&r.ui(o,n.Os)})}),s.next(function(){return t.Ho.xi(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Ho.Fi(t)}).next(function(){return n.Ic.Zo(t,r)})})}function Vp(t){var e=uc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.fo.Ki(t)})}function Hp(t,e){var n=uc(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Tc.Or({Wr:!0});i=n.dc;var s=[];e.Fe.forEach(function(e,o){var u=i.get(o);if(u){s.push(n.fo.ir(t,e.Ke,o).next(function(){return n.fo.nr(t,e.Ue,o)}));var a=e.resumeToken;if(a.o()>0){var c=u.$t(a,r).Lt(t.vs);i=i.Ht(o,c),function(t,e,n){return sc(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.W()-t.Mt.W()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(u,c,e)&&s.push(n.fo.Ji(t,c))}}});var u=Gh();if(e.Me.forEach(function(r,i){e.Le.has(r)&&s.push(n.persistence.Ii.kr(t,r))}),s.push(qp(t,o,e.Me,r,void 0).next(function(t){u=t})),!r.isEqual(kc.min())){var a=n.fo.Ki(t).next(function(e){return n.fo.Wi(t,t.vs,r)});s.push(a)}return Kf.$n(s).next(function(){return o.apply(t)}).next(function(){return n.Ic.tc(t,u)})}).then(function(t){return n.dc=i,t})}function qp(t,e,n,r,i){var o=Zh();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Gh();return n.forEach(function(n,s){var u=t.get(n),a=(null==i?void 0:i.get(n))||r;s instanceof gl&&s.version.isEqual(kc.min())?(e._i(n,a),o=o.Ht(n,s)):null==u||s.version.u(u.version)>0||0===s.version.u(u.version)&&u.hasPendingWrites?(e.ui(s,a),o=o.Ht(n,s)):ec("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",s.version)}),o})}function zp(t,e){var n=uc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Ho.Vi(t,e)})}function Bp(t,e){var n=uc(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.fo.er(t,e).next(function(i){return i?Kf.resolve(r=i):n.fo.qi(t).next(function(i){return r=new th(e,i,0,t.vs),n.fo.Gi(t,r).next(function(){return r})})})}).then(function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t})}function Gp(t,e,n){return Object(Za.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Za.d)(this,function(u){switch(u.label){case 0:r=uc(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Ii.removeTarget(t,i)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!Qf(s=u.sent()))throw s;return ec("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}})})}function Jp(t,e,n){var r=uc(t),i=kc.min(),o=Zh();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=uc(t),i=r.wc.get(n);return void 0!==i?Kf.resolve(r.dc.get(i)):r.fo.er(e,n)}(r,t,Jl(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.fo.cr(t,e.targetId).next(function(t){o=t})}).next(function(){return r.fc.jr(t,e,n?i:kc.min(),n?o:Zh())}).next(function(t){return{documents:t,Pc:o}})})}function $p(t,e){var n=uc(t),r=uc(n.fo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Dn(t,e).next(function(t){return t?t.target:null})})}function Kp(t){var e=uc(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=uc(t),i=Gh(),o=Ld(n),s=Ep(e),u=IDBKeyRange.lowerBound(o,!0);return s.ls({index:md.readTimeIndex,range:u},function(t,e){var n=Pd(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime}).next(function(){return{zo:i,readTime:Ud(o)}})}(e.Tc,t,e.Ec)}).then(function(t){var n=t.zo;return e.Ec=t.readTime,n})}function Wp(t){return Object(Za.b)(this,void 0,void 0,function(){var e;return Object(Za.d)(this,function(n){return[2,(e=uc(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Ep(t),n=kc.min();return e.ls({index:md.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Ud(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Ec=t})]})})}function Yp(t,e,n,r){return Object(Za.b)(this,void 0,void 0,function(){var i,o,s,u,a,c,l,h,f,d;return Object(Za.d)(this,function(p){switch(p.label){case 0:for(i=uc(t),o=Zh(),s=Gh(),u=Yh(),a=0,c=n;a<c.length;a++)h=e.yc((l=c[a]).metadata.name),l.document&&(o=o.add(h)),s=s.Ht(h,e.gc(l)),u=u.Ht(h,e.Vc(l.metadata.readTime));return f=i.Tc.Or({Wr:!0}),[4,Bp(i,function(t){return Jl(Fl(Rc.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return qp(t,f,s,kc.min(),u).next(function(e){return f.apply(t),e}).next(function(e){return i.fo.Xi(t,d.targetId).next(function(){return i.fo.nr(t,o,d.targetId)}).next(function(){return i.Ic.tc(t,e)})})})]}})})}function Xp(t,e,n){return void 0===n&&(n=Zh()),Object(Za.b)(this,void 0,void 0,function(){var r,i;return Object(Za.d)(this,function(o){switch(o.label){case 0:return[4,Bp(t,Jl(zd(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=uc(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=wf(e.readTime);if(r.Mt.u(o)>=0)return i.Eo.Bs(t,e);var s=r.$t(dc.h,o);return i.dc=i.dc.Ht(s.targetId,s),i.fo.Ji(t,s).next(function(){return i.fo.Xi(t,r.targetId)}).next(function(){return i.fo.nr(t,n,r.targetId)}).next(function(){return i.Eo.Bs(t,e)})})]}})})}var Zp=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ms=function(t,e){return Kf.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:wf(n.createTime)}),Kf.resolve()},t.prototype.$s=function(t,e){return Kf.resolve(this.vc.get(e))},t.prototype.Bs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:zd(t.bundledQuery),readTime:wf(t.readTime)}}(e)),Kf.resolve()},t}(),Qp=function(){function t(){this.Sc=new qh(tg.Dc),this.Cc=new qh(tg.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.sr=function(t,e){var n=new tg(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach(function(t){return n.sr(t,e)})},t.prototype.rr=function(t,e){this.Oc(new tg(t,e))},t.prototype.Fc=function(t,e){var n=this;t.forEach(function(t){return n.rr(t,e)})},t.prototype.kc=function(t){var e=this,n=new Lc(new Rc([])),r=new tg(n,t),i=new tg(n,t+1),o=[];return this.Cc.Ae([r,i],function(t){e.Oc(t),o.push(t.key)}),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach(function(e){return t.Oc(e)})},t.prototype.Oc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new Lc(new Rc([])),n=new tg(e,t),r=new tg(e,t+1),i=Zh();return this.Cc.Ae([n,r],function(t){i=i.add(t.key)}),i},t.prototype.ki=function(t){var e=new tg(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),tg=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return Lc.J(t.key,e.key)||lc(t.$c,e.$c)},t.xc=function(t,e){return lc(t.$c,e.$c)||Lc.J(t.key,e.key)},t}(),eg=function(){function t(t,e){this.Ti=t,this.Ii=e,this.Ho=[],this.Bc=1,this.qc=new qh(tg.Dc)}return t.prototype.Ri=function(t){return Kf.resolve(0===this.Ho.length)},t.prototype.Pi=function(t,e,n,r){var i=this.Bc;this.Bc++;var o=new kd(i,e,n,r);this.Ho.push(o);for(var s=0,u=r;s<u.length;s++){var a=u[s];this.qc=this.qc.add(new tg(a.key,i)),this.Ti.Us(t,a.key.path.Z())}return Kf.resolve(o)},t.prototype.yi=function(t,e){return Kf.resolve(this.Uc(e))},t.prototype.Vi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return Kf.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.pi=function(){return Kf.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.bi=function(t){return Kf.resolve(this.Ho.slice())},t.prototype.vi=function(t,e){var n=this,r=new tg(e,0),i=new tg(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],function(t){var e=n.Uc(t.$c);o.push(e)}),Kf.resolve(o)},t.prototype.Si=function(t,e){var n=this,r=new qh(lc);return e.forEach(function(t){var e=new tg(t,0),i=new tg(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],function(t){r=r.add(t.$c)})}),Kf.resolve(this.Kc(r))},t.prototype.Ci=function(t,e){var n=e.path,r=n.length+1,i=n;Lc.Et(i)||(i=i.child(""));var o=new tg(new Lc(i),0),s=new qh(lc);return this.qc.Re(function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(s=s.add(t.$c)),!0)},o),Kf.resolve(this.Kc(s))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.Uc(t);null!==r&&n.push(r)}),n},t.prototype.xi=function(t,e){var n=this;sc(0===this.jc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return Kf.forEach(e.mutations,function(i){var o=new tg(i.key,e.batchId);return r=r.delete(o),n.Ii.Oi(t,i.key)}).next(function(){n.qc=r})},t.prototype.Ni=function(t){},t.prototype.ki=function(t,e){var n=new tg(e,0),r=this.qc.Pe(n);return Kf.resolve(e.isEqual(r&&r.key))},t.prototype.Fi=function(t){return Kf.resolve()},t.prototype.jc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),ng=function(){function t(t,e){this.Ti=t,this.Wc=e,this.docs=new Fh(Lc.J),this.size=0}return t.prototype.ui=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.Ht(r,{li:e,size:s,readTime:n}),this.size+=s-o,this.Ti.Us(t,r.path.Z())},t.prototype._i=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.fi=function(t,e){var n=this.docs.get(e);return Kf.resolve(n?n.li:null)},t.prototype.getEntries=function(t,e){var n=this,r=Jh();return e.forEach(function(t){var e=n.docs.get(t);r=r.Ht(t,e?e.li:null)}),Kf.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=Kh(),i=new Lc(e.path.child("")),o=this.docs.ne(i);o.ae();){var s=o.ce(),u=s.value,a=u.li,c=u.readTime;if(!e.path.st(s.key.path))break;c.u(n)<=0||a instanceof pl&&Xl(e,a)&&(r=r.Ht(a.key,a))}return Kf.resolve(r)},t.prototype.Gc=function(t,e){return Kf.forEach(this.docs,function(t){return e(t)})},t.prototype.Or=function(t){return new rg(this)},t.prototype.Mr=function(t){return Kf.resolve(this.size)},t}(),rg=function(t){function e(e){var n=this;return(n=t.call(this)||this).Gr=e,n}return Object(Za.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[];return this.oi.forEach(function(r,i){i&&i.li?n.push(e.Gr.ui(t,i.li,e.ai(r))):e.Gr._i(r)}),Kf.$n(n)},e.prototype.di=function(t,e){return this.Gr.fi(t,e)},e.prototype.wi=function(t,e){return this.Gr.getEntries(t,e)},e}(ep),ig=function(){function t(t){this.persistence=t,this.zc=new tp(function(t){return ml(t)},wl),this.lastRemoteSnapshotVersion=kc.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new Qp,this.targetCount=0,this.Yc=cp.$i()}return t.prototype.mn=function(t,e){return this.zc.forEach(function(t,n){return e(n)}),Kf.resolve()},t.prototype.Ki=function(t){return Kf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return Kf.resolve(this.Hc)},t.prototype.qi=function(t){return this.highestTargetId=this.Yc.next(),Kf.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),Kf.resolve()},t.prototype.zi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new cp(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.Gi=function(t,e){return this.zi(e),this.targetCount+=1,Kf.resolve()},t.prototype.Ji=function(t,e){return this.zi(e),Kf.resolve()},t.prototype.Yi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,Kf.resolve()},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach(function(s,u){u.sequenceNumber<=e&&null===n.get(u.targetId)&&(r.zc.delete(s),o.push(r.Xi(t,u.targetId)),i++)}),Kf.$n(o).next(function(){return i})},t.prototype.tr=function(t){return Kf.resolve(this.targetCount)},t.prototype.er=function(t,e){var n=this.zc.get(e)||null;return Kf.resolve(n)},t.prototype.nr=function(t,e,n){return this.Jc.Nc(e,n),Kf.resolve()},t.prototype.ir=function(t,e,n){this.Jc.Fc(e,n);var r=this.persistence.Ii,i=[];return r&&e.forEach(function(e){i.push(r.Oi(t,e))}),Kf.$n(i)},t.prototype.Xi=function(t,e){return this.Jc.kc(e),Kf.resolve()},t.prototype.cr=function(t,e){var n=this.Jc.Lc(e);return Kf.resolve(n)},t.prototype.ki=function(t,e){return Kf.resolve(this.Jc.ki(e))},t}(),og=function(){function t(t,e){var n=this;this.Xc={},this.io=new jc(0),this.ro=!1,this.ro=!0,this.Ii=t(this),this.fo=new ig(this),this.Ti=new $d,this.wo=function(t,e){return new ng(t,function(t){return n.Ii.Zc(t)})}(this.Ti),this.Kt=new Rd(e),this.Eo=new Zp(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Lo=function(){return this.ro=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.yo=function(){},t.prototype.Vo=function(){},t.prototype.jo=function(){return this.Ti},t.prototype.Ko=function(t){var e=this.Xc[t.R()];return e||(e=new eg(this.Ti,this.Ii),this.Xc[t.R()]=e),e},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r=this;ec("MemoryPersistence","Starting transaction:",t);var i=new sg(this.io.next());return this.Ii.ta(),n(i).next(function(t){return r.Ii.ea(i).next(function(){return t})}).Mn().then(function(t){return i.ps(),t})},t.prototype.na=function(t,e){return Kf.Bn(Object.values(this.Xc).map(function(n){return function(){return n.ki(t,e)}}))},t}(),sg=function(t){function e(e){var n=this;return(n=t.call(this)||this).vs=e,n}return Object(Za.c)(e,t),e}(ud),ug=function(){function t(t){this.persistence=t,this.sa=new Qp,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw oc()},enumerable:!1,configurable:!0}),t.prototype.sr=function(t,e,n){return this.sa.sr(n,e),this.oa.delete(n.toString()),Kf.resolve()},t.prototype.rr=function(t,e,n){return this.sa.rr(n,e),this.oa.add(n.toString()),Kf.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),Kf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach(function(t){return n.oa.add(t.toString())});var r=this.persistence.Dr();return r.cr(t,e.targetId).next(function(t){t.forEach(function(t){return n.oa.add(t.toString())})}).next(function(){return r.Yi(t,e)})},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.Fr().Or();return Kf.forEach(this.oa,function(r){var i=Lc.ft(r);return e.ca(t,i).next(function(t){t||n._i(i)})}).next(function(){return e.ia=null,n.apply(t)})},t.prototype.kr=function(t,e){var n=this;return this.ca(t,e).next(function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())})},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return Kf.Bn([function(){return Kf.resolve(n.sa.ki(e))},function(){return n.persistence.Dr().ki(t,e)},function(){return n.persistence.na(t,e)}])},t}();function ag(t,e){return"firestore_clients_"+t+"_"+e}function cg(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function lg(t,e){return"firestore_targets_"+t+"_"+e}var hg=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new gc(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(nc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),fg=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new gc(r.error.code,r.error.message)),i?new t(e,r.state,o):(nc("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),dg=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=tf(),s=0;i&&s<r.activeTargetIds.length;++s)i=Yc(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(nc("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),pg=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(nc("SharedClientState","Failed to parse online state: "+e),null)},t}(),gg=function(){function t(){this.activeTargetIds=tf()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),vg=function(){function t(t,e,n,r,i){this.window=t,this.eo=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new Fh(lc),this.Tr=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=ag(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new gg),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.jn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Za.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,u,a,c,l=this;return Object(Za.d)(this,function(h){switch(h.label){case 0:return[4,this.fa.Qo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(ag(this.persistenceKey,r)))&&(o=dg.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(s=this.storage.getItem(this.ga))&&(u=this.ba(s))&&this.va(u),a=0,c=this.Ia;a<c.length;a++)this.Ea(c[a]);return this.Ia=[],this.window.addEventListener("unload",function(){return l.Lo()}),this.Tr=!0,[2]}})})},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Oa=function(t,e,n){this.Na(t,e,n),this.Fa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(lg(this.persistenceKey,t));if(n){var r=fg.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(lg(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach(function(t){r.Fa(t)}),this.currentUser=t,n.forEach(function(t){r.xa(t)})},t.prototype.Ka=function(t){this.ja(t)},t.prototype.Wa=function(){this.Ga()},t.prototype.Lo=function(){this.Tr&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return ec("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){ec("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){ec("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(ec("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void nc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.eo.bo(function(){return Object(Za.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(Za.d)(this,function(u){if(this.Tr){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(s=function(t){var e=jc.U;if(null!=t)try{var n=JSON.parse(t);sc("number"==typeof n),e=n}catch(t){nc("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==jc.U&&this.L(s);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new hg(this.currentUser,t,e,n),i=cg(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Fa=function(t){var e=cg(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ja=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=lg(this.persistenceKey,t),i=new fg(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return dg.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return hg.aa(new Ec(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return fg.aa(r,e)},t.prototype.ba=function(t){return pg.aa(t)},t.prototype.Xa=function(t){return Object(Za.b)(this,void 0,void 0,function(){return Object(Za.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(ec("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),s=[],u=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||u.push(t)}),this.fa.iu(s,u).then(function(){n.Ta=r})},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=tf();return t.forEach(function(t,n){e=e.ye(n.activeTargetIds)}),e},t}(),bg=function(){function t(){this.ru=new gg,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Oa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new gg,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.Lo=function(){},t.prototype.q=function(t){},t.prototype.Wa=function(){},t}(),yg=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.Lo=function(){},t}(),mg=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.Lo=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){ec("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){ec("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.jn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),wg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},_g=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),Og=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(Za.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise(function(i,o){var s=new Xa;s.listenOnce(Ka.COMPLETE,function(){try{switch(s.getLastErrorCode()){case $a.NO_ERROR:var e=s.getResponseJson();ec("Connection","XHR received:",JSON.stringify(e)),i(e);break;case $a.TIMEOUT:ec("Connection",'RPC "'+t+'" timed out'),o(new gc(pc.DEADLINE_EXCEEDED,"Request time out"));break;case $a.HTTP_ERROR:var n=s.getStatus();if(ec("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(pc).indexOf(e)>=0?e:pc.UNKNOWN}(r.status);o(new gc(u,r.message))}else o(new gc(pc.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new gc(pc.UNAVAILABLE,"Connection failed."));break;default:oc()}}finally{ec("Connection",'RPC "'+t+'" completed.')}});var u=JSON.stringify(r);s.send(e,"POST",u,n,15)})},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new qa,i=Gs(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(o.initMessageHeaders,e),Object(Wi.p)()||Object(Wi.r)()||Object(Wi.m)()||Object(Wi.n)()||Object(Wi.s)()||Object(Wi.l)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");ec("Connection","Creating WebChannel: "+s,o);var u=r.createWebChannel(s,o),a=!1,c=!1,l=new _g({du:function(t){c?ec("Connection","Not sending because WebChannel is closed:",t):(a||(ec("Connection","Opening WebChannel transport."),u.open(),a=!0),ec("Connection","WebChannel sending:",t),u.send(t))},wu:function(){return u.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(u,Ya.EventType.OPEN,function(){c||ec("Connection","WebChannel transport opened.")}),h(u,Ya.EventType.CLOSE,function(){c||(c=!0,ec("Connection","WebChannel transport closed"),l.Pu())}),h(u,Ya.EventType.ERROR,function(t){c||(c=!0,rc("Connection","WebChannel transport errored:",t),l.Pu(new gc(pc.UNAVAILABLE,"The operation could not be completed")))}),h(u,Ya.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];sc(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){ec("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Nh[t];if(void 0!==e)return Mh(e)}(i),s=r.message;void 0===o&&(o=pc.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pu(new gc(o,s)),u.close()}else ec("Connection","WebChannel received:",n),l.yu(n)}}),h(i,Wa.STAT_EVENT,function(t){10===t.stat?ec("Connection","Detected buffering proxy"):11===t.stat&&ec("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ru()},0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);ec("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then(function(t){return ec("RestConnection","Received: ",t),t},function(e){throw rc("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.2",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+wg[t]},t}());function Eg(){return"undefined"!=typeof window?window:null}function Sg(){return"undefined"!=typeof document?document:null}function Tg(t){return new vf(t,!0)}var Ig=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.eo=t,this.ds=e,this.Nu=n,this.Ou=r,this.Fu=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Fu},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&ec("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.eo.Ir(this.ds,i,function(){return e.Lu=Date.now(),t()}),this.ku*=this.Ou,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Fu&&(this.ku=this.Fu)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),xg=function(){function t(t,e,n,r,i,o){this.eo=t,this.Qu=n,this.Ku=r,this.ju=i,this.listener=o,this.state=0,this.Wu=0,this.Gu=null,this.stream=null,this.zu=new Ig(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(Za.b)(this,void 0,void 0,function(){return Object(Za.d)(this,function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.eo.Ir(this.Qu,6e4,function(){return t.th()}))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(Za.b)(this,void 0,void 0,function(){return Object(Za.d)(this,function(t){return this.Ju()?[2,this.close(0)]:[2]})})},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(Za.b)(this,void 0,void 0,function(){return Object(Za.d)(this,function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.Wu++,3!==t?this.zu.reset():e&&e.code===pc.RESOURCE_EXHAUSTED?(nc(e.toString()),nc("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===pc.UNAUTHENTICATED&&this.ju.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}})})},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.Wu),n=this.Wu;this.ju.getToken().then(function(e){t.Wu===n&&t.rh(e)},function(n){e(function(){var e=new gc(pc.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)})})},t.prototype.rh=function(t){var e=this,n=this.ih(this.Wu);this.stream=this.ah(t),this.stream.Eu(function(){n(function(){return e.state=2,e.listener.Eu()})}),this.stream.Iu(function(t){n(function(){return e.oh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu(function(){return Object(Za.b)(t,void 0,void 0,function(){return Object(Za.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.oh=function(t){return ec("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.eo.ys(function(){return e.Wu===t?n():(ec("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Cg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,s}return Object(Za.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:oc()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(sc(void 0===e||"string"==typeof e),dc.fromBase64String(e||"")):(sc(void 0===e||e instanceof Uint8Array),dc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?pc.UNKNOWN:Mh(t.code);return new gc(e,t.message||"")}(u);n=new cf(r,i,o,s||null)}else if("documentChange"in e){i=Sf(t,(r=e.documentChange).document.name),o=wf(r.document.updateTime);var u=new ll({mapValue:{fields:r.document.fields}}),a=(s=new pl(i,o,u,{}),r.targetIds||[]);n=new uf(a,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Sf(t,(r=e.documentDelete).document),o=r.readTime?wf(r.readTime):kc.min(),u=new gl(i,o),n=new uf([],s=r.removedTargetIds||[],u.key,u);else if("documentRemove"in e)i=Sf(t,(r=e.documentRemove).document),n=new uf([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return oc();var c=e.filter;i=new Lh(r=c.count||0),n=new af(o=c.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return kc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?kc.min():e.readTime?wf(e.readTime):kc.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=xf(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=_l(r)?{documents:Rf(t,r)}:{query:Pf(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=yf(t,e.resumeToken):e.Mt.u(kc.min())>0&&(n.readTime=bf(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return oc()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=xf(this.Kt),e.removeTarget=t,this.eh(e)},e}(xg),jg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,s._h=!1,s}return Object(Za.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(sc(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(sc(void 0!==e),t.map(function(t){return function(t,e){var n=wf(t.updateTime?t.updateTime:e);n.isEqual(kc.min())&&(n=wf(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new bh(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=wf(t.commitTime);return this.listener.wh(n,e)}return sc(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=xf(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return kf(e.Kt,t)})};this.eh(n)},e}(xg),Ag=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(Za.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new gc(pc.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.bu(t,e,n,i)}).catch(function(t){throw t.code===pc.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.Cu(t,e,n,i)}).catch(function(t){throw t.code===pc.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.terminate=function(){this.Ih=!1},e}(function(){}),kg=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.Ir("online_state_timeout",1e4,function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()}))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(nc(e),this.Ph=!1):ec("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),Ng=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Oh=new Set,this.Fh=[],this.kh=i,this.kh.cu(function(t){n.ys(function(){return Object(Za.b)(o,void 0,void 0,function(){return Object(Za.d)(this,function(t){switch(t.label){case 0:return Hg(this)?(ec("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Za.b)(this,void 0,void 0,function(){var e;return Object(Za.d)(this,function(n){switch(n.label){case 0:return(e=uc(t)).Oh.add(4),[4,Pg(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Oh.delete(4),[4,Rg(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Mh=new kg(n,r)};function Rg(t){return Object(Za.b)(this,void 0,void 0,function(){var e,n;return Object(Za.d)(this,function(r){switch(r.label){case 0:if(!Hg(t))return[3,4];e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Pg(t){return Object(Za.b)(this,void 0,void 0,function(){var e,n;return Object(Za.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Dg(t,e){var n=uc(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),Vg(n)?Fg(n):nv(n).Ju()&&Ug(n,e))}function Lg(t,e){var n=uc(t),r=nv(n);n.Nh.delete(e),r.Ju()&&Mg(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():Hg(n)&&n.Mh.set("Unknown"))}function Ug(t,e){t.Lh.cn(e.targetId),nv(t).hh(e)}function Mg(t,e){t.Lh.cn(e),nv(t).lh(e)}function Fg(t){t.Lh=new hf({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),nv(t).start(),t.Mh.yh()}function Vg(t){return Hg(t)&&!nv(t).Hu()&&t.Nh.size>0}function Hg(t){return 0===uc(t).Oh.size}function qg(t){t.Lh=void 0}function zg(t){return Object(Za.b)(this,void 0,void 0,function(){return Object(Za.d)(this,function(e){return t.Nh.forEach(function(e,n){Ug(t,e)}),[2]})})}function Bg(t,e){return Object(Za.b)(this,void 0,void 0,function(){return Object(Za.d)(this,function(n){return qg(t),Vg(t)?(t.Mh.ph(e),Fg(t)):t.Mh.set("Unknown"),[2]})})}function Gg(t,e,n){return Object(Za.b)(this,void 0,void 0,function(){var r,i,o;return Object(Za.d)(this,function(s){switch(s.label){case 0:if(t.Mh.set("Online"),!(e instanceof cf&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Za.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Za.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Nh.has(o=i[r])?[4,t.Ch.$h(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),ec("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Jg(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof uf?t.Lh.wn(e):e instanceof af?t.Lh.yn(e):t.Lh.In(e),n.isEqual(kc.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Vp(t.Sh)];case 8:return i=s.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Fe.forEach(function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}}),n.ke.forEach(function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(dc.h,n.Mt)),Mg(t,e);var r=new th(n.target,e,1,n.sequenceNumber);Ug(t,r)}}),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return ec("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Jg(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Jg(t,e,n){return Object(Za.b)(this,void 0,void 0,function(){var r=this;return Object(Za.d)(this,function(i){switch(i.label){case 0:if(!Qf(e))throw e;return t.Oh.add(1),[4,Pg(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return Vp(t.Sh)}),t.fs.bo(function(){return Object(Za.b)(r,void 0,void 0,function(){return Object(Za.d)(this,function(e){switch(e.label){case 0:return ec("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Oh.delete(1),[4,Rg(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function $g(t,e){return e().catch(function(n){return Jg(t,n,e)})}function Kg(t){return Object(Za.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(Za.d)(this,function(s){switch(s.label){case 0:e=uc(t),n=rv(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Hg(t)&&t.xh.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,zp(e.Sh,r)];case 3:return null===(i=s.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=rv(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Jg(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Wg(e)&&Yg(e),[2]}})})}function Wg(t){return Hg(t)&&!rv(t).Hu()&&t.xh.length>0}function Yg(t){rv(t).start()}function Xg(t){return Object(Za.b)(this,void 0,void 0,function(){return Object(Za.d)(this,function(e){return rv(t).Th(),[2]})})}function Zg(t){return Object(Za.b)(this,void 0,void 0,function(){var e,n,r;return Object(Za.d)(this,function(i){for(e=rv(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]})})}function Qg(t,e,n){return Object(Za.b)(this,void 0,void 0,function(){var r,i;return Object(Za.d)(this,function(o){switch(o.label){case 0:return r=t.xh.shift(),i=Nd.from(r,e,n),[4,$g(t,function(){return t.Ch.qh(i)})];case 1:return o.sent(),[4,Kg(t)];case 2:return o.sent(),[2]}})})}function tv(t,e){return Object(Za.b)(this,void 0,void 0,function(){return Object(Za.d)(this,function(n){switch(n.label){case 0:return e&&rv(t).fh?[4,function(t,e){return Object(Za.b)(this,void 0,void 0,function(){var n,r;return Object(Za.d)(this,function(i){switch(i.label){case 0:return Uh(r=e.code)&&r!==pc.ABORTED?(n=t.xh.shift(),rv(t).Xu(),[4,$g(t,function(){return t.Ch.Uh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Kg(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Wg(t)&&Yg(t),[2]}})})}function ev(t,e){return Object(Za.b)(this,void 0,void 0,function(){var n;return Object(Za.d)(this,function(r){switch(r.label){case 0:return n=uc(t),e?(n.Oh.delete(2),[4,Rg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Oh.add(2),[4,Pg(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function nv(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=uc(t);return r.mh(),new Cg(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:zg.bind(null,t),Iu:Bg.bind(null,t),uh:Gg.bind(null,t)}),t.Fh.push(function(n){return Object(Za.b)(e,void 0,void 0,function(){return Object(Za.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),Vg(t)?Fg(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),qg(t),e.label=3;case 3:return[2]}})})})),t.Qh}function rv(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=uc(t);return r.mh(),new jg(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Xg.bind(null,t),Iu:tv.bind(null,t),Eh:Zg.bind(null,t),wh:Qg.bind(null,t)}),t.Fh.push(function(n){return Object(Za.b)(e,void 0,void 0,function(){return Object(Za.d)(this,function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,Kg(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(ec("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}})})})),t.Kh}var iv=function(){this.jh=void 0,this.listeners=[]},ov=function(){this.queries=new tp(function(t){return Wl(t)},Kl),this.onlineState="Unknown",this.Wh=new Set};function sv(t,e){return Object(Za.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a;return Object(Za.d)(this,function(c){switch(c.label){case 0:if(n=uc(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new iv),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.Gh(r)];case 2:return s.jh=c.sent(),[3,4];case 3:return u=c.sent(),a=od(u,"Initialization of query '"+Yl(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.jh&&e.Hh(o.jh)&&lv(n),[2]}})})}function uv(t,e){return Object(Za.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Za.d)(this,function(u){return n=uc(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]})})}function av(t,e){for(var n=uc(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],u=n.queries.get(s.query);if(u){for(var a=0,c=u.listeners;a<c.length;a++)c[a].Hh(s)&&(r=!0);u.jh=s}}r&&lv(n)}function cv(t,e,n){var r=uc(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function lv(t){t.Wh.forEach(function(t){t.next()})}var hv=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new rf(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=rf.Oe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),fv=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),dv=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return Sf(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?Af(this.Kt,t.document,!1):new gl(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return wf(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new dv(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.yc(o.metadata.name),u=0,a=o.metadata.queries;u<a.length;u++){var c=a[u],l=(e.get(c)||Zh()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Za.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Za.d)(this,function(o){switch(o.label){case 0:return[4,Yp(this.Sh,new dv(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Xp(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Np(Object.assign({},this.progress),t))]}})})}}();var pv=function(t){this.key=t},gv=function(t){this.key=t},vv=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=Zh(),this.Ce=Zh(),this.ll=Zl(t),this._l=new ef(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new nf,i=e?e._l:this._l,o=e?e.Ce:this.Ce,s=i,u=!1,a=Vl(this.query)&&i.size===this.query.limit?i.last():null,c=Hl(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt(function(t,e){var l=i.get(t),h=e instanceof pl?e:null;h&&(h=Xl(n.query,h)?h:null);var f=!!l&&n.Ce.has(l.key),d=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.El(l,h)||(r.track({type:2,doc:h}),p=!0,(a&&n.ll(h,a)>0||c&&n.ll(h,c)<0)&&(u=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(a||c)&&(u=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),Vl(this.query)||Hl(this.query))for(;s.size>this.query.limit;){var l=Vl(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{_l:s,wl:r,_c:u,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ei=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oc()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)}),this.Tl(n);var s=e?this.Il():[],u=0===this.hl.size&&this.qe?1:0,a=u!==this.ul;return this.ul=u,0!==o.length||a?{snapshot:new rf(this.query,t._l,i,o,t.Ce,0===u,a,!1),ml:s}:{ml:s}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ei({_l:this._l,wl:new nf,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach(function(t){return e.al=e.al.add(t)}),t.Qe.forEach(function(t){}),t.Ke.forEach(function(t){return e.al=e.al.delete(t)}),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=Zh(),this._l.forEach(function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))});var n=[];return e.forEach(function(e){t.hl.has(e)||n.push(new gv(e))}),this.hl.forEach(function(t){e.has(t)||n.push(new pv(t))}),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=Zh();var e=this.dl(t.documents);return this.Ei(e,!0)},t.prototype.Pl=function(){return rf.Oe(this.query,this._l,this.Ce,0===this.ul)},t}(),bv=function(t,e,n){this.query=t,this.targetId=e,this.view=n},yv=function(t){this.key=t,this.yl=!1},mv=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new tp(function(t){return Wl(t)},Kl),this.Dl=new Map,this.Cl=[],this.xl=new Fh(Lc.J),this.Nl=new Map,this.Ol=new Qp,this.Fl={},this.kl=new Map,this.Ml=cp.Bi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function wv(t,e){return Object(Za.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Za.d)(this,function(u){switch(u.label){case 0:return n=Wv(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,Bp(n.Sh,Jl(e))];case 2:return o=u.sent(),s=n.pl.ka(o.targetId),[4,_v(n,e,o.targetId,"current"===s)];case 3:r=u.sent(),n.$l&&Dg(n.gl,o),u.label=4;case 4:return[2,r]}})})}function _v(t,e,n,r){return Object(Za.b)(this,void 0,void 0,function(){var i,o,s,u,a,c;return Object(Za.d)(this,function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(Za.b)(this,void 0,void 0,function(){var i,o,s;return Object(Za.d)(this,function(u){switch(u.label){case 0:return(i=e.view.dl(n))._c?[4,Jp(t.Sh,e.query,!1).then(function(t){return e.view.dl(t.documents,i)})]:[3,2];case 1:i=u.sent(),u.label=2;case 2:return o=r&&r.Fe.get(e.targetId),s=e.view.Ei(i,t.$l,o),[2,(Pv(t,e.targetId,s.ml),s.snapshot)]}})})}(t,e,n,r)},[4,Jp(t.Sh,e,!0)];case 1:return i=l.sent(),o=new vv(e,i.Pc),s=o.dl(i.documents),u=sf.Be(n,r&&"Offline"!==t.onlineState),a=o.Ei(s,t.$l,u),Pv(t,n,a.ml),c=new bv(e,n,o),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),a.snapshot)]}})})}function Ov(t,e){return Object(Za.b)(this,void 0,void 0,function(){var n,r,i;return Object(Za.d)(this,function(o){switch(o.label){case 0:return n=uc(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter(function(t){return!Kl(t,e)})),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,Gp(n.Sh,r.targetId,!1).then(function(){n.pl.Ba(r.targetId),Lg(n.gl,r.targetId),Nv(n,r.targetId)}).catch(Qd)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Nv(n,r.targetId),[4,Gp(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Ev(t,e,n){return Object(Za.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Za.d)(this,function(u){switch(u.label){case 0:r=Yv(t),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(t,e){var n,r=uc(t),i=Ac.now(),o=e.reduce(function(t,e){return t.add(e.key)},Zh());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Ic.Zo(t,o).next(function(o){n=o;for(var s=[],u=0,a=e;u<a.length;u++){var c=a[u],l=Eh(c,n.get(c.key));null!=l&&s.push(new xh(c.key,l,fl(l.proto.mapValue),yh.exists(!0)))}return r.Ho.Pi(t,i,s,e)})}).then(function(t){var e=t.Ns(n);return{batchId:t.batchId,oi:e}})}(r.Sh,e)];case 2:return i=u.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Fl[t.currentUser.R()];r||(r=new Fh(lc)),r=r.Ht(e,n),t.Fl[t.currentUser.R()]=r}(r,i.batchId,n),[4,Uv(r,i.oi)];case 3:return u.sent(),[4,Kg(r.gl)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),s=od(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Sv(t,e){return Object(Za.b)(this,void 0,void 0,function(){var n,r;return Object(Za.d)(this,function(i){switch(i.label){case 0:n=uc(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Hp(n.Sh,e)];case 2:return r=i.sent(),e.Fe.forEach(function(t,e){var r=n.Nl.get(e);r&&(sc(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?sc(r.yl):t.Ke.size>0&&(sc(r.yl),r.yl=!1))}),[4,Uv(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Qd(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Tv(t,e,n){var r=uc(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach(function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=uc(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)}),r&&lv(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function Iv(t,e,n){return Object(Za.b)(this,void 0,void 0,function(){var r,i,o,s,u,a;return Object(Za.d)(this,function(c){switch(c.label){case 0:return(r=uc(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(s=(s=new Fh(Lc.J)).Ht(o,new gl(o,kc.min())),u=Zh().add(o),a=new of(kc.min(),new Map,new qh(lc),s,u),[4,Sv(r,a)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),Lv(r),[3,4];case 2:return[4,Gp(r.Sh,e,!1).then(function(){return Nv(r,e,n)}).catch(Qd)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function xv(t,e){return Object(Za.b)(this,void 0,void 0,function(){var n,r,i;return Object(Za.d)(this,function(o){switch(o.label){case 0:n=uc(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Fp(n.Sh,e)];case 2:return i=o.sent(),kv(n,r,null),Av(n,r),n.pl.Oa(r,"acknowledged"),[4,Uv(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Qd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Cv(t,e,n){return Object(Za.b)(this,void 0,void 0,function(){var r,i;return Object(Za.d)(this,function(o){switch(o.label){case 0:r=uc(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=uc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Ho.yi(t,e).next(function(e){return sc(null!==e),r=e.keys(),n.Ho.xi(t,e)}).next(function(){return n.Ho.Fi(t)}).next(function(){return n.Ic.Zo(t,r)})})}(r.Sh,e)];case 2:return i=o.sent(),kv(r,e,n),Av(r,e),r.pl.Oa(e,"rejected",n),[4,Uv(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Qd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function jv(t,e){return Object(Za.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Za.d)(this,function(u){switch(u.label){case 0:Hg((n=uc(t)).gl)||ec("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(t){var e=uc(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Ho.pi(t)})}(n.Sh)];case 2:return-1===(r=u.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=u.sent(),s=od(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function Av(t,e){(t.kl.get(e)||[]).forEach(function(t){t.resolve()}),t.kl.delete(e)}function kv(t,e,n){var r=uc(t),i=r.Fl[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fl[r.currentUser.R()]=i}}function Nv(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Ol.kc(e).forEach(function(e){t.Ol.ki(e)||Rv(t,e)})}function Rv(t,e){var n=t.xl.get(e);null!==n&&(Lg(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),Lv(t))}function Pv(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof pv?(t.Ol.sr(o.key,e),Dv(t,o)):o instanceof gv?(ec("SyncEngine","Document no longer in limbo: "+o.key),t.Ol.rr(o.key,e),t.Ol.ki(o.key)||Rv(t,o.key)):oc()}}function Dv(t,e){var n=e.key;t.xl.get(n)||(ec("SyncEngine","New document in limbo: "+n),t.Cl.push(n),Lv(t))}function Lv(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new yv(e)),t.xl=t.xl.Ht(e,n),Dg(t.gl,new th(Jl(Fl(e.path)),n,2,jc.U))}}function Uv(t,e,n){return Object(Za.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Za.d)(this,function(u){switch(u.label){case 0:return r=uc(t),i=[],o=[],s=[],r.Sl.nt()?[3,3]:(r.Sl.forEach(function(t,u){s.push(r.Bl(u,e,n).then(function(t){if(t){r.$l&&r.pl.qa(u.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Pp.cc(u.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return u.sent(),r.vl.uh(i),[4,function(t,e){return Object(Za.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a,c;return Object(Za.d)(this,function(l){switch(l.label){case 0:n=uc(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Kf.forEach(e,function(e){return Kf.forEach(e.rc,function(r){return n.persistence.Ii.sr(t,e.targetId,r)}).next(function(){return Kf.forEach(e.oc,function(r){return n.persistence.Ii.rr(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Qf(r=l.sent()))throw r;return ec("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)u=(s=o[i]).targetId,s.fromCache||(a=n.dc.get(u),c=a.Bt(a.Mt),n.dc=n.dc.Ht(u,c));return[2]}})})}(r.Sh,o)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function Mv(t,e){return Object(Za.b)(this,void 0,void 0,function(){var n,r;return Object(Za.d)(this,function(i){switch(i.label){case 0:return(n=uc(t)).currentUser.isEqual(e)?[3,3]:(ec("SyncEngine","User change. New user:",e.R()),[4,Mp(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach(function(t){t.forEach(function(t){t.reject(new gc(pc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,Uv(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Fv(t,e){var n=uc(t),r=n.Nl.get(e);if(r&&r.yl)return Zh().add(r.key);var i=Zh(),o=n.Dl.get(e);if(!o)return i;for(var s=0,u=o;s<u.length;s++){var a=n.Sl.get(u[s]);i=i.ye(a.view.fl)}return i}function Vv(t,e){return Object(Za.b)(this,void 0,void 0,function(){var n,r,i;return Object(Za.d)(this,function(o){switch(o.label){case 0:return[4,Jp((n=uc(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&Pv(n,e.targetId,i.ml),i)]}})})}function Hv(t){return Object(Za.b)(this,void 0,void 0,function(){var e;return Object(Za.d)(this,function(n){return[2,Kp((e=uc(t)).Sh).then(function(t){return Uv(e,t)})]})})}function qv(t,e,n,r){return Object(Za.b)(this,void 0,void 0,function(){var i,o;return Object(Za.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=uc(t),r=uc(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.gi(t,e).next(function(e){return e?n.Ic.Zo(t,e):Kf.resolve(null)})})}((i=uc(t)).Sh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Kg(i.gl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(kv(i,e,r||null),Av(i,e),function(t,e){uc(uc(t).Ho).Ni(e)}(i.Sh,e)):oc(),s.label=4;case 4:return[4,Uv(i,o)];case 5:return s.sent(),[3,7];case 6:ec("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function zv(t,e){return Object(Za.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a;return Object(Za.d)(this,function(c){switch(c.label){case 0:return Wv(n=uc(t)),Yv(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,Bv(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,ev(n.gl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Dg(n.gl,s[o]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(u=[],a=Promise.resolve(),n.Dl.forEach(function(t,e){n.pl.$a(e)?u.push(e):a=a.then(function(){return Nv(n,e),Gp(n.Sh,e,!0)}),Lg(n.gl,e)}),[4,a]);case 4:return c.sent(),[4,Bv(n,u)];case 5:return c.sent(),function(t){var e=uc(t);e.Nl.forEach(function(t,n){Lg(e.gl,n)}),e.Ol.Mc(),e.Nl=new Map,e.xl=new Fh(Lc.J)}(n),n.Ll=!1,[4,ev(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Bv(t,e,n){return Object(Za.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a,c,l,h,f,d,p;return Object(Za.d)(this,function(g){switch(g.label){case 0:n=uc(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(a=void 0,(c=n.Dl.get(u=s[o]))&&0!==c.length?[4,Bp(n.Sh,Jl(c[0]))]:[3,7]):[3,13];case 2:a=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Sl.get(h[l]),[4,Vv(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,$p(n.Sh,u)];case 8:return p=g.sent(),[4,Bp(n.Sh,p)];case 9:return a=g.sent(),[4,_v(n,Gv(p),u,!1)];case 10:g.sent(),g.label=11;case 11:r.push(a),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}})})}function Gv(t){return Ml(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Jv(t){var e=uc(t);return uc(uc(e.Sh).persistence).Qo()}function $v(t,e,n,r){return Object(Za.b)(this,void 0,void 0,function(){var i,o,s;return Object(Za.d)(this,function(u){switch(u.label){case 0:return(i=uc(t)).Ll?(ec("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Kp(i.Sh)];case 3:return o=u.sent(),s=of.$e(e,"current"===n),[4,Uv(i,o,s)];case 4:return u.sent(),[3,8];case 5:return[4,Gp(i.Sh,e,!0)];case 6:return u.sent(),Nv(i,e,r),[3,8];case 7:oc(),u.label=8;case 8:return[2]}})})}function Kv(t,e,n){return Object(Za.b)(this,void 0,void 0,function(){var r,i,o,s,u,a,c,l,h;return Object(Za.d)(this,function(f){switch(f.label){case 0:if(!(r=Wv(t)).Ll)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Dl.has(s=o[i])?(ec("SyncEngine","Adding an already active target "+s),[3,5]):[4,$p(r.Sh,s)]:[3,6];case 2:return u=f.sent(),[4,Bp(r.Sh,u)];case 3:return a=f.sent(),[4,_v(r,Gv(u),a.targetId,!1)];case 4:f.sent(),Dg(r.gl,a),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Za.d)(this,function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,Gp(r.Sh,t,!1).then(function(){Lg(r.gl,t),Nv(r,t)}).catch(Qd)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Wv(t){var e=uc(t);return e.gl.Ch.Bh=Sv.bind(null,e),e.gl.Ch.Sn=Fv.bind(null,e),e.gl.Ch.$h=Iv.bind(null,e),e.vl.uh=av.bind(null,e.Vl),e.vl.ql=cv.bind(null,e.Vl),e}function Yv(t){var e=uc(t);return e.gl.Ch.qh=xv.bind(null,e),e.gl.Ch.Uh=Cv.bind(null,e),e}var Xv=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Za.b)(this,void 0,void 0,function(){return Object(Za.d)(this,function(e){switch(e.label){case 0:return this.Kt=Tg(t.gu.T),this.pl=this.Wl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Up(this.persistence,new Dp,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new og(ug.ra,this.Kt)},t.prototype.Wl=function(t){return new bg},t.prototype.terminate=function(){return Object(Za.b)(this,void 0,void 0,function(){return Object(Za.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.Lo()];case 1:return t.sent(),[4,this.persistence.Lo()];case 2:return t.sent(),[2]}})})},t}(),Zv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Za.c)(e,t),e.prototype.initialize=function(e){return Object(Za.b)(this,void 0,void 0,function(){return Object(Za.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Wp(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,Yv(this.Xl.fa)];case 4:return n.sent(),[4,Kg(this.Xl.gl)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return Up(this.persistence,new Dp,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new vp(this.persistence.Ii._r,t.fs)},e.prototype.Gl=function(t){var e=kp(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?Zd.Xs(this.cacheSizeBytes):Zd.ei;return new Cp(this.synchronizeTabs,e,t.clientId,n,t.fs,Eg(),Sg(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new bg},e}(Xv),Qv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Za.c)(e,t),e.prototype.initialize=function(e){return Object(Za.b)(this,void 0,void 0,function(){var n,r=this;return Object(Za.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof vg?(this.pl.fa={nu:qv.bind(null,n),su:$v.bind(null,n),iu:Kv.bind(null,n),Qo:Jv.bind(null,n),eu:Hv.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Po(function(t){return Object(Za.b)(r,void 0,void 0,function(){return Object(Za.d)(this,function(e){switch(e.label){case 0:return[4,zv(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Tr?this.zl.start(this.Sh):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Wl=function(t){var e=Eg();if(!vg.jn(e))throw new gc(pc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=kp(t.gu.T,t.gu.persistenceKey);return new vg(e,t.fs,n,t.clientId,t.Yl)},e}(Zv),tb=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Za.b)(this,void 0,void 0,function(){var n=this;return Object(Za.d)(this,function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return Tv(n.fa,t,1)},this.gl.Ch.s_=Mv.bind(null,this.fa),[4,ev(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new ov},t.prototype.Zl=function(t){var e=Tg(t.gu.T),n=new Og(t.gu);return function(t,e,n){return new Ag(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return Tv(s.fa,t,0)},o=mg.jn()?new mg:new yg,new Ng(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var u=new mv(t,e,n,r,i,o);return s&&(u.Ll=!0),u}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(Za.b)(this,void 0,void 0,function(){var e;return Object(Za.d)(this,function(n){switch(n.label){case 0:return e=uc(t),ec("RemoteStore","RemoteStore shutting down."),e.Oh.add(5),[4,Pg(e)];case 1:return n.sent(),e.kh.Lo(),e.Mh.set("Unknown"),[2]}})})}(this.gl)},t}(),eb=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),nb=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new $f,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then(function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(Za.b)(this,void 0,void 0,function(){return Object(Za.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Kl=function(){return Object(Za.b)(this,void 0,void 0,function(){return Object(Za.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}})})},t.prototype.a_=function(){return Object(Za.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Za.d)(this,function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new fv(JSON.parse(r),t.length+n)]}})})},t.prototype.__=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.u_=function(){return Object(Za.b)(this,void 0,void 0,function(){var t,e;return Object(Za.d)(this,function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.l_=function(t){return Object(Za.b)(this,void 0,void 0,function(){var e;return Object(Za.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(Za.b)(this,void 0,void 0,function(){var t,e;return Object(Za.d)(this,function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new gc(pc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new Dc(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),rb=function(t){this._methodName=t};function ib(t,e,n){if(!n)throw new gc(pc.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function ob(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new gc(pc.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function sb(t,e,n,r){if(!0===e&&!0===r)throw new gc(pc.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function ub(t){if(!Lc.Et(t))throw new gc(pc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function ab(t){if(Lc.Et(t))throw new gc(pc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function cb(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":oc()}function lb(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new gc(pc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=cb(t);throw new gc(pc.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function hb(t,e){if(e<=0)throw new gc(pc.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var fb=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new gc(pc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new gc(pc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,sb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),db=new Map,pb=function(){function t(t,e){this.w_="(lite)",this.E_=new fb({}),this.T_=!1,t instanceof Oc?(this.I_=t,this.m_=new Tc):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new gc(pc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oc(t.options.projectId)}(t),this.m_=new Ic(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new gc(pc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new gc(pc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new fb(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Tc;switch(t.type){case"gapi":var e=t.client;return sc(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Cc(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new gc(pc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=db.get(this))&&(ec("ComponentProvider","Removing Datastore"),db.delete(this),t.terminate()),Promise.resolve();var t},t}(),gb=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new bb(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),vb=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),bb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Fl(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(Za.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new gb(this.firestore,null,new Lc(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(vb);function yb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof bc&&(t=t._),ib("collection","path",e),t instanceof pb)return ab(n=Rc.ct.apply(Rc,Object(Za.g)([e],r))),new bb(t,null,n);if(!(t instanceof gb||t instanceof bb))throw new gc(pc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ab(n=Rc.ct.apply(Rc,Object(Za.g)([t.path],r)).child(Rc.ct(e))),new bb(t.firestore,null,n)}function mb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof bc&&(t=t._),1===arguments.length&&(e=cc.t()),ib("doc","path",e),t instanceof pb)return ub(n=Rc.ct.apply(Rc,Object(Za.g)([e],r))),new gb(t,null,new Lc(n));if(!(t instanceof gb||t instanceof bb))throw new gc(pc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ub(n=t.D_.child(Rc.ct.apply(Rc,Object(Za.g)([e],r)))),new gb(t.firestore,t instanceof bb?t.v_:null,new Lc(n))}function wb(t,e){return t instanceof bc&&(t=t._),e instanceof bc&&(e=e._),(t instanceof gb||t instanceof bb)&&(e instanceof gb||e instanceof bb)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function _b(t,e){return t instanceof bc&&(t=t._),e instanceof bc&&(e=e._),t instanceof vb&&e instanceof vb&&t.firestore===e.firestore&&Kl(t.C_,e.C_)&&t.v_===e.v_}var Ob=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new gc(pc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new gc(pc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return lc(this.x_,t.x_)||lc(this.N_,t.N_)},t}(),Eb=/^__.*__$/,Sb=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return null!==this.zt?new xh(t,this.data,this.zt,e,this.fieldTransforms):new Ih(t,this.data,e,this.fieldTransforms)},t}(),Tb=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return new xh(t,this.data,this.zt,e,this.fieldTransforms)},t}();function Ib(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oc()}}var xb=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.F_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.F_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return $b(t,this.settings.methodName,this.settings.j_||!1,this.path,this.settings.W_)},t.prototype.contains=function(t){return void 0!==this.zt.find(function(e){return t.st(e)})||void 0!==this.fieldTransforms.find(function(e){return t.st(e.field)})},t.prototype.F_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Ib(this.k_)&&Eb.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),Cb=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||Tg(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new xb({k_:t,methodName:e,W_:n,path:Dc.at(),B_:!1,j_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function jb(t){var e=t.p_(),n=Tg(t.I_);return new Cb(t.I_,!!e.ignoreUndefinedProperties,n)}function Ab(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);zb("Data must be an object, but it was:",s,r);var u,a,c=Hb(r,s);if(o.merge)u=new Vc(s.zt),a=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Bb(e,f[h],n);if(!s.contains(d))throw new gc(pc.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Kb(l,d)||l.push(d)}u=new Vc(l),a=s.fieldTransforms.filter(function(t){return u.It(t.field)})}else u=null,a=s.fieldTransforms;return new Sb(new ll(c),u,a)}var kb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Za.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(rb);function Nb(t,e,n){return new xb({k_:3,W_:e.settings.W_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var Rb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Za.c)(e,t),e.prototype.z_=function(t){return new vh(t.path,new ah)},e.prototype.isEqual=function(t){return t instanceof e},e}(rb),Pb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Za.c)(e,t),e.prototype.z_=function(t){var e=Nb(this,t,!0),n=this.H_.map(function(t){return Vb(t,e)}),r=new ch(n);return new vh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(rb),Db=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Za.c)(e,t),e.prototype.z_=function(t){var e=Nb(this,t,!0),n=this.H_.map(function(t){return Vb(t,e)}),r=new hh(n);return new vh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(rb),Lb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(Za.c)(e,t),e.prototype.z_=function(t){var e=new dh(t.Kt,rh(t.Kt,this.J_));return new vh(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(rb);function Ub(t,e,n,r){var i=t.G_(1,e,n);zb("Data must be an object, but it was:",i,r);var o=[],s=new hl;Mc(r,function(t,r){var u=Jb(e,t,n);r instanceof bc&&(r=r._);var a=i.U_(u);if(r instanceof kb)o.push(u);else{var c=Vb(r,a);null!=c&&(o.push(u),s.set(u,c))}});var u=new Vc(o);return new Tb(s.yt(),u,i.fieldTransforms)}function Mb(t,e,n,r,i,o){var s=t.G_(1,e,n),u=[Bb(e,r,n)],a=[i];if(o.length%2!=0)throw new gc(pc.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push(Bb(e,o[c])),a.push(o[c+1]);for(var l=[],h=new hl,f=u.length-1;f>=0;--f)if(!Kb(l,u[f])){var d=u[f],p=a[f];p instanceof bc&&(p=p._);var g=s.U_(d);if(p instanceof kb)l.push(d);else{var v=Vb(p,g);null!=v&&(l.push(d),h.set(d,v))}}var b=new Vc(l);return new Tb(h.yt(),b,s.fieldTransforms)}function Fb(t,e,n,r){return void 0===r&&(r=!1),Vb(n,t.G_(r?4:3,e))}function Vb(t,e){if(t instanceof bc&&(t=t._),qb(t))return zb("Unsupported field value:",e,t),Hb(t,e);if(t instanceof rb)return function(t,e){if(!Ib(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Vb(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof bc&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return rh(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Ac.fromDate(t);return{timestampValue:bf(e.Kt,n)}}if(t instanceof Ac)return n=new Ac(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:bf(e.Kt,n)};if(t instanceof Ob)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof vc)return{bytesValue:yf(e.Kt,t.l)};if(t instanceof gb){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:_f(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+cb(t))}(t,e)}function Hb(t,e){var n={};return Fc(t)?e.path&&e.path.length>0&&e.zt.push(e.path):Mc(t,function(t,r){var i=Vb(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function qb(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ac||t instanceof Ob||t instanceof vc||t instanceof gb||t instanceof rb)}function zb(t,e,n){if(!qb(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=cb(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function Bb(t,e,n){if(e instanceof bc&&(e=e._),e instanceof nb)return e.d_;if("string"==typeof e)return Jb(t,e);throw $b("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Gb=new RegExp("[~\\*/\\[\\]]");function Jb(t,e,n){if(e.search(Gb)>=0)throw $b("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(nb.bind.apply(nb,Object(Za.g)([void 0],e.split("."))))).d_}catch(r){throw $b("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function $b(t,e,n,r,i){var o=r&&!r.nt(),s=void 0!==i,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var a="";return(o||s)&&(a+=" (found",o&&(a+=" in field "+r),s&&(a+=" in document "+i),a+=")"),new gc(pc.INVALID_ARGUMENT,(u+=". ")+t+a)}function Kb(t,e){return t.some(function(t){return t.isEqual(e)})}var Wb=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(Za.b)(this,void 0,void 0,function(){var e,n=this;return Object(Za.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new gc(pc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Za.b)(this,void 0,void 0,function(){var n,r,i,o,s,u;return Object(Za.d)(this,function(a){switch(a.label){case 0:return n=uc(t),r=xf(n.Kt)+"/documents",i={documents:e.map(function(t){return Ef(n.Kt,t)})},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=a.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){sc(!!e.found);var n=Sf(t,e.found.name),r=wf(e.found.updateTime),i=new ll({mapValue:{fields:e.found.fields}});return new pl(n,r,i,{})}(t,e):"missing"in e?function(t,e){sc(!!e.missing),sc(!!e.readTime);var n=Sf(t,e.missing),r=wf(e.readTime);return new gl(n,r)}(t,e):oc()}(n.Kt,t);s.set(e.key.toString(),e)}),u=[],[2,(e.forEach(function(t){var e=s.get(t.toString());sc(!!e),u.push(e)}),u)]}})})}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof gl||t instanceof pl?n.sf(t):oc()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.O_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.O_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Ph(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(Za.b)(this,void 0,void 0,function(){var t,e=this;return Object(Za.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Lc.ft(n);e.mutations.push(new Dh(r,e.Gt(r)))}),[4,function(t,e){return Object(Za.b)(this,void 0,void 0,function(){var n,r,i;return Object(Za.d)(this,function(o){switch(o.label){case 0:return n=uc(t),r=xf(n.Kt)+"/documents",i={writes:e.map(function(t){return kf(n.Kt,t)})},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof pl)e=t.version;else{if(!(t instanceof gl))throw oc();e=kc.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new gc(pc.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?yh.updateTime(e):yh.jt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(kc.min()))throw new gc(pc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yh.updateTime(e)}return yh.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),Yb=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new Ig(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu(function(){return Object(Za.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Za.d)(this,function(r){return t=new Wb(this.Dh),(e=this.uf(t))&&e.then(function(e){n.fs.ys(function(){return t.commit().then(function(){n.Ts.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Kc(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys(function(){return e.af(),Promise.resolve()})):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Uh(e)}return!1},t}(),Xb=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=Ec.UNAUTHENTICATED,this.clientId=cc.t(),this._f=function(){},this.N=new $f,this.credentials.S(function(t){ec("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()})}return t.prototype.getConfiguration=function(){return Object(Za.b)(this,void 0,void 0,function(){return Object(Za.d)(this,function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this.fs.wf)throw new gc(pc.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new $f;return this.fs.Tf(function(){return Object(Za.b)(t,void 0,void 0,function(){var t,n;return Object(Za.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=od(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Zb(t,e){return Object(Za.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Za.d)(this,function(o){switch(o.label){case 0:return t.fs.Af(),ec("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff(function(n){r.isEqual(n)||(r=n,t.fs.bo(function(){return Object(Za.b)(i,void 0,void 0,function(){return Object(Za.d)(this,function(t){switch(t.label){case 0:return[4,Mp(e.Sh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.yo(function(){return t.terminate()}),t.mf=e,[2]}})})}function Qb(t,e){return Object(Za.b)(this,void 0,void 0,function(){var n,r;return Object(Za.d)(this,function(i){switch(i.label){case 0:return t.fs.Af(),[4,ty(t)];case 1:return n=i.sent(),ec("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t.fs.bo(function(){return function(t,e){return Object(Za.b)(this,void 0,void 0,function(){var n,r;return Object(Za.d)(this,function(i){switch(i.label){case 0:return(n=uc(t)).fs.Af(),ec("RemoteStore","RemoteStore received new credentials"),r=Hg(n),n.Oh.add(3),[4,Pg(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Oh.delete(3),[4,Rg(n)];case 3:return i.sent(),[2]}})})}(e.gl,n)})}),t.If=e,[2]}})})}function ty(t){return Object(Za.b)(this,void 0,void 0,function(){return Object(Za.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(ec("FirestoreClient","Using default OfflineComponentProvider"),[4,Zb(t,new Xv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function ey(t){return Object(Za.b)(this,void 0,void 0,function(){return Object(Za.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(ec("FirestoreClient","Using default OnlineComponentProvider"),[4,Qb(t,new tb)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function ny(t){return ty(t).then(function(t){return t.persistence})}function ry(t){return ty(t).then(function(t){return t.Sh})}function iy(t){return ey(t).then(function(t){return t.gl})}function oy(t){return ey(t).then(function(t){return t.fa})}function sy(t){return Object(Za.b)(this,void 0,void 0,function(){var e,n;return Object(Za.d)(this,function(r){switch(r.label){case 0:return[4,ey(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=wv.bind(null,e.fa),n.Jh=Ov.bind(null,e.fa),n)]}})})}function uy(t,e,n){var r=this;void 0===n&&(n={});var i=new $f;return t.fs.ys(function(){return Object(Za.b)(r,void 0,void 0,function(){var r;return Object(Za.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new eb({next:function(o){e.ys(function(){return uv(t,s)});var u=o.docs.has(n);!u&&o.fromCache?i.reject(new gc(pc.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new gc(pc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new hv(Fl(n.path),o,{includeMetadataChanges:!0,sl:!0});return sv(t,s)},[4,sy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}})})}),i.promise}function ay(t,e,n){var r=this;void 0===n&&(n={});var i=new $f;return t.fs.ys(function(){return Object(Za.b)(r,void 0,void 0,function(){var r;return Object(Za.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new eb({next:function(n){e.ys(function(){return uv(t,s)}),n.fromCache&&"server"===r.source?i.reject(new gc(pc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new hv(n,o,{includeMetadataChanges:!0,sl:!0});return sv(t,s)},[4,sy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}})})}),i.promise}var cy=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new Ig(this,"async_queue_retry"),this.vf=function(){var e=Sg();e&&ec("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=Sg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Sg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.bo=function(t){var e=this;this.ys(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(Za.b)(this,void 0,void 0,function(){var t,e=this;return Object(Za.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!Qf(t=n.sent()))throw t;return ec("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,nc("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Ir=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=id.Is(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&oc()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(Za.b)(this,void 0,void 0,function(){var t;return Object(Za.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Of=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ws-e.ws});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),ly=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new cy,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(Za.c)(e,t),e.prototype.b_=function(){return this.Lf||fy(this),this.Lf.terminate()},e}(pb);function hy(t){return t.Lf||fy(t),t.Lf.df(),t.Lf}function fy(t){var e=t.p_(),n=function(t,e,n){return new _c(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new Xb(t.m_,t.Mf,n)}function dy(t,e,n){var r=this,i=new $f;return t.fs.enqueue(function(){return Object(Za.b)(r,void 0,void 0,function(){var r;return Object(Za.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Zb(t,n)];case 1:return o.sent(),[4,Qb(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===pc.FAILED_PRECONDITION||t.code===pc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function py(t){if(t.R_||t.P_)throw new gc(pc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var gy=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),Xc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return zc(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(Bc(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.jf(t.arrayValue,e);case 10:return this.Wf(t.mapValue,e);default:throw oc()}},t.prototype.Wf=function(t,e){var n=this,r={};return Mc(t.fields||{},function(t,i){r[t]=n.$f(i,e)}),r},t.prototype.Kf=function(t){return new Ob(zc(t.latitude),zc(t.longitude))},t.prototype.jf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.$f(t,e)})},t.prototype.qf=function(t,e){switch(e){case"previous":var n=Jc(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf($c(t));default:return null}},t.prototype.Bf=function(t){var e=qc(t);return new Ac(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=Rc.ct(t);sc(Jf(n));var r=new Oc(n.get(1),n.get(3)),i=new Lc(n.X(5));return r.isEqual(e)||nc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),vy=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new gb(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new by(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(yy("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),by=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Za.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(vy);function yy(t,e){return"string"==typeof e?Jb(t,e):e instanceof bc?e._.d_:e.d_}function my(t){if(Hl(t)&&0===t.Nt.length)throw new gc(pc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var wy=function(){};function _y(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var Oy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(Za.c)(e,t),e.prototype.Yf=function(t){var e=jb(t.firestore),n=function(t,e,n,r,i,o,s){var u;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new gc(pc.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){jy(s,o);for(var a=[],c=0,l=s;c<l.length;c++)a.push(Cy(r,t,l[c]));u={arrayValue:{values:a}}}else u=Cy(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||jy(s,o),u=Fb(n,"where",s,"in"===o||"not-in"===o);var h=Ol.create(i,o,u);return function(t,e){if(e.xt()){var n=zl(t);if(null!==n&&!n.isEqual(e.field))throw new gc(pc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=ql(t);null!==r&&Ay(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new gc(pc.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new vb(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Ul(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(wy),Ey=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(Za.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new gc(pc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new gc(pc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Rl(e,n);return function(t,e){if(null===ql(t)){var n=zl(t);null!==n&&Ay(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new vb(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new Ul(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(wy),Sy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(Za.c)(e,t),e.prototype.Yf=function(t){return new vb(t.firestore,t.v_,$l(t.C_,this.nd,this.sd))},e}(wy),Ty=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Za.c)(e,t),e.prototype.Yf=function(t){var e=xy(t,this.type,this.rd,this.od);return new vb(t.firestore,t.v_,function(t,e){return new Ul(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(wy),Iy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Za.c)(e,t),e.prototype.Yf=function(t){var e=xy(t,this.type,this.rd,this.od);return new vb(t.firestore,t.v_,function(t,e){return new Ul(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(wy);function xy(t,e,n,r){if(n[0]instanceof bc&&(n[0]=n[0]._),n[0]instanceof vy)return function(t,e,n,r,i){if(!r)throw new gc(pc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,u=Gl(t);s<u.length;s++){var a=u[s];if(a.field.ht())o.push(il(e,r.key));else{var c=r.field(a.field);if(Gc(c))throw new gc(pc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=a.field.ot();throw new gc(pc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new kl(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=jb(t.firestore);return function(t,e,n,r,i,o){var s=t.Nt;if(i.length>s.length)throw new gc(pc.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],a=0;a<i.length;a++){var c=i[a];if(s[a].field.ht()){if("string"!=typeof c)throw new gc(pc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Bl(t)&&-1!==c.indexOf("/"))throw new gc(pc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Rc.ct(c));if(!Lc.Et(l))throw new gc(pc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Lc(l);u.push(il(e,h))}else{var f=Fb(n,r,c);u.push(f)}}return new kl(u,o)}(t.C_,t.firestore.I_,i,e,n,r)}function Cy(t,e,n){if(n instanceof bc&&(n=n._),"string"==typeof n){if(""===n)throw new gc(pc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bl(e)&&-1!==n.indexOf("/"))throw new gc(pc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Rc.ct(n));if(!Lc.Et(r))throw new gc(pc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return il(t,new Lc(r))}if(n instanceof gb)return il(t,n.S_);throw new gc(pc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+cb(n)+".")}function jy(t,e){if(!Array.isArray(t)||0===t.length)throw new gc(pc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new gc(pc.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Ay(t,e,n){if(!n.isEqual(e))throw new gc(pc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function ky(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function Ny(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Ry=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Za.c)(e,t),e.prototype.Uf=function(t){return new vc(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new gb(this.firestore,null,e)},e}(gy),Py=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Dy=function(t){function e(e,n,r,i,o,s){var u=this;return(u=t.call(this,e,n,r,i,s)||this).zf=e,u.ad=e,u.metadata=o,u}return Object(Za.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new Ly(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(yy("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(vy),Ly=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Za.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Dy),Uy=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new Py(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach(function(r){t.call(e,new Ly(n.zf,n.Hf,r.key,r,new Py(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new gc(pc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map(function(e){return{type:"added",doc:new Ly(t.zf,t.Hf,e.doc.key,e.doc,new Py(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t.ud.De;return t.ud.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Ly(t.zf,t.Hf,e.doc.key,e.doc,new Py(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:My(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.ld=e),this.hd},t}();function My(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oc()}}function Fy(t,e){return t instanceof Dy&&e instanceof Dy?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof Uy&&e instanceof Uy&&t.zf===e.zf&&_b(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var Vy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Za.c)(e,t),e.prototype.Uf=function(t){return new vc(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new gb(this.firestore,null,e)},e}(gy);function Hy(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=lb(t,gb);var o=lb(t.firestore,ly),s=jb(o);return e instanceof bc&&(e=e._),zy(o,[("string"==typeof e||e instanceof nb?Mb(s,"updateDoc",t.S_,e,n,r):Ub(s,"updateDoc",t.S_,e)).O_(t.S_,yh.exists(!0))])}function qy(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof bc&&(t=t._);var s={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||ky(i[u])||(s=i[u],u++);var a,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(ky(i[u])){var f=i[u];i[u]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[u+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[u+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof gb)c=lb(t.firestore,ly),l=Fl(t.S_.path),a={next:function(e){i[u]&&i[u](By(c,t,e))},error:i[u+1],complete:i[u+2]};else{var d=lb(t,vb);c=lb(d.firestore,ly),l=d.C_;var p=new Vy(c);a={next:function(t){i[u]&&i[u](new Uy(c,p,d,t))},error:i[u+1],complete:i[u+2]},my(t.C_)}return function(t,e,n,r){var i=this,o=new eb(r),s=new hv(e,o,n);return t.fs.ys(function(){return Object(Za.b)(i,void 0,void 0,function(){var e;return Object(Za.d)(this,function(n){switch(n.label){case 0:return e=sv,[4,sy(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.r_(),t.fs.ys(function(){return Object(Za.b)(i,void 0,void 0,function(){var e;return Object(Za.d)(this,function(n){switch(n.label){case 0:return e=uv,[4,sy(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(hy(c),l,h,a)}function zy(t,e){return function(t,e){var n=this,r=new $f;return t.fs.ys(function(){return Object(Za.b)(n,void 0,void 0,function(){var n;return Object(Za.d)(this,function(i){switch(i.label){case 0:return n=Ev,[4,oy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(hy(t),e)}function By(t,e,n){var r=n.docs.get(e.S_),i=new Vy(t);return new Dy(t,i,e.S_,r,new Py(n.hasPendingWrites,n.fromCache),e.v_)}var Gy=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=jb(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=Jy(t,this.zf),i=Ny(r.v_,e,n),o=Ab(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.O_(r.S_,yh.jt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,s=Jy(t,this.zf);return e instanceof bc&&(e=e._),o="string"==typeof e||e instanceof nb?Mb(this.wd,"WriteBatch.update",s.S_,e,n,r):Ub(this.wd,"WriteBatch.update",s.S_,e),this.fd.push(o.O_(s.S_,yh.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=Jy(t,this.zf);return this.fd=this.fd.concat(new Ph(e.S_,yh.jt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new gc(pc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Jy(t,e){if(t instanceof bc&&(t=t._),t.firestore!==e)throw new gc(pc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var $y=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(Za.c)(e,t),e.prototype.get=function(e){var n=this,r=Jy(e,this.zf),i=new Vy(this.zf);return t.prototype.get.call(this,e).then(function(t){return new Dy(n.zf,i,r.S_,t.Jf,new Py(!1,!1),r.v_)})},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=jb(t)}return t.prototype.get=function(t){var e=this,n=Jy(t,this.zf),r=new Ry(this.zf);return this.Td.ef([n.S_]).then(function(t){if(!t||1!==t.length)return oc();var i=t[0];if(i instanceof gl)return new vy(e.zf,r,n.S_,null,n.v_);if(i instanceof pl)return new vy(e.zf,r,i.key,i,n.v_);throw oc()})},t.prototype.set=function(t,e,n){var r=Jy(t,this.zf),i=Ny(r.v_,e,n),o=Ab(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Jy(t,this.zf);return e instanceof bc&&(e=e._),o="string"==typeof e||e instanceof nb?Mb(this.wd,"Transaction.update",s.S_,e,n,r):Ub(this.wd,"Transaction.update",s.S_,e),this.Td.update(s.S_,o),this},t.prototype.delete=function(t){var e=Jy(t,this.zf);return this.Td.delete(e.S_),this},t}()),Ky=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){py(t=lb(t,ly));var n=hy(t),r=t.p_(),i=new tb;return dy(n,i,new Zv(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){py(t=lb(t,ly));var e=hy(t),n=t.p_(),r=new tb;return dy(e,r,new Qv(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new gc(pc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new $f;return t.Mf.Tf(function(){return Object(Za.b)(e,void 0,void 0,function(){var e;return Object(Za.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Za.b)(this,void 0,void 0,function(){return Object(Za.d)(this,function(e){switch(e.label){case 0:return Yf.jn()?[4,Yf.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(kp(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._)},t}(),Wy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Oc||(i.md=e),i}return Object(Za.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=lb(t,pb)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&rc("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(Za.b)(e,void 0,void 0,function(){var e,n;return Object(Za.d)(this,function(r){switch(r.label){case 0:return[4,ny(t)];case 1:return e=r.sent(),[4,iy(t)];case 2:return n=r.sent(),[2,(e.Vo(!0),function(t){var e=uc(t);return e.Oh.delete(0),Rg(e)}(n))]}})})})}(hy(lb(this._,ly)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(Za.b)(e,void 0,void 0,function(){var e,n;return Object(Za.d)(this,function(r){switch(r.label){case 0:return[4,ny(t)];case 1:return e=r.sent(),[4,iy(t)];case 2:return n=r.sent(),[2,(e.Vo(!1),function(t){return Object(Za.b)(this,void 0,void 0,function(){var e;return Object(Za.d)(this,function(n){switch(n.label){case 0:return(e=uc(t)).Oh.add(0),[4,Pg(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}})})}(n))]}})})})}(hy(lb(this._,ly)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&sb("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new $f;return t.fs.ys(function(){return Object(Za.b)(e,void 0,void 0,function(){var e;return Object(Za.d)(this,function(r){switch(r.label){case 0:return e=jv,[4,oy(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(hy(lb(this._,ly)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new eb(e);return t.fs.ys(function(){return Object(Za.b)(n,void 0,void 0,function(){var e;return Object(Za.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){uc(t).Wh.add(e),e.next()},[4,sy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.r_(),t.fs.ys(function(){return Object(Za.b)(n,void 0,void 0,function(){var e;return Object(Za.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){uc(t).Wh.delete(e)},[4,sy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(hy(t=lb(t,ly)),ky(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new gc(pc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new am(this,yb(this._,t))}catch(t){throw tm(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Qy(this,mb(this._,t))}catch(t){throw tm(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new om(this,function(t,e){if(t=lb(t,pb),ib("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new gc(pc.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new vb(t,null,function(t){return new Ul(Rc.at(),t)}(e))}(this._,t))}catch(t){throw tm(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new $f;return t.fs.ys(function(){return Object(Za.b)(n,void 0,void 0,function(){var n;return Object(Za.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return ey(t).then(function(t){return t.Dh})}(t)];case 1:return n=i.sent(),new Yb(t.fs,n,e,r).run(),[2]}})})}),r.promise}(hy(t),function(n){return e(new $y(t,n))})}(this._,function(n){return t(new Xy(e,n))})},e.prototype.batch=function(){var t=this;return hy(this._),new Zy(new Gy(this._,function(e){return zy(t._,e)}))},e.prototype.loadBundle=function(t){throw new gc(pc.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new gc(pc.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(bc),Yy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Za.c)(e,t),e.prototype.Uf=function(t){return new wc(new vc(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return Qy.Ad(e,this.firestore,null)},e}(gy),Xy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r.Hf=new Yy(e),r}return Object(Za.c)(e,t),e.prototype.get=function(t){var e=this,n=cm(t);return this._.get(n).then(function(t){return new rm(e.zf,new Dy(e.zf._,e.Hf,t.S_,t.Jf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=cm(t);return n?(ob("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=cm(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(Za.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=cm(t);return this._.delete(e),this},e}(bc),Zy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Za.c)(e,t),e.prototype.set=function(t,e,n){var r=cm(t);return n?(ob("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=cm(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(Za.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=cm(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(bc),Qy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new Yy(e),r}return Object(Za.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new gc(pc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new gb(n._,r,new Lc(t)))},e.Ad=function(t,n,r){return new e(n,new gb(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new am(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new am(this.firestore,yb(this._,t))}catch(t){throw tm(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof bc&&(t=t._),t instanceof gb&&wb(this._,t)},e.prototype.set=function(t,e){e=ob("DocumentReference.set",e);try{return function(t,e,n){t=lb(t,gb);var r=lb(t.firestore,ly),i=Ny(t.v_,e,n);return zy(r,[Ab(jb(r),"setDoc",t.S_,i,null!==t.v_,n).O_(t.S_,yh.jt())])}(this._,t,e)}catch(t){throw tm(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Hy(this._,t):Hy.apply(void 0,Object(Za.g)([this._,t,e],n))}catch(t){throw tm(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return zy(lb((t=this._).firestore,ly),[new Ph(t.S_,yh.jt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=em(e),i=nm(e,function(e){return new rm(t.firestore,new Dy(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))});return qy(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=lb(t,gb);var e=lb(t.firestore,ly),n=hy(e),r=new Vy(e);return function(t,e){var n=this,r=new $f;return t.fs.ys(function(){return Object(Za.b)(n,void 0,void 0,function(){var n;return Object(Za.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Za.b)(this,void 0,void 0,function(){var r,i;return Object(Za.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=uc(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Ic.Jo(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof pl?n.resolve(i):i instanceof gl?n.resolve(null):n.reject(new gc(pc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=od(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,ry(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new Dy(e,r,t.S_,n,new Py(n instanceof pl&&n.bt,!0),t.v_)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=lb(t,gb);var e=lb(t.firestore,ly);return uy(hy(e),t.S_,{source:"server"}).then(function(n){return By(e,t,n)})}(this._):function(t){t=lb(t,gb);var e=lb(t.firestore,ly);return uy(hy(e),t.S_).then(function(n){return By(e,t,n)})}(this._)).then(function(t){return new rm(e.firestore,new Dy(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(bc);function tm(t,e,n){return t.message=t.message.replace(e,n),t}function em(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!ky(r))return r}return{}}function nm(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=ky(t[0])?t[0]:ky(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var rm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Za.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Qy(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return Fy(this._,t._)},e}(bc),im=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Za.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(rm),om=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new Yy(e),r}return Object(Za.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,_y(this._,function(t,e,n){var r=e,i=yy("where",t);return new Oy(i,r,n)}(t,n,r)))}catch(t){throw tm(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,_y(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=yy("orderBy",t);return new Ey(r,n)}(t,n)))}catch(t){throw tm(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,_y(this._,function(t){return hb("limit",t),new Sy("limit",t,"F")}(t)))}catch(t){throw tm(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,_y(this._,function(t){return hb("limitToLast",t),new Sy("limitToLast",t,"L")}(t)))}catch(t){throw tm(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,_y(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ty("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw tm(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,_y(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ty("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw tm(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,_y(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Iy("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw tm(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,_y(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Iy("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw tm(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return _b(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=lb(t,vb);var e=lb(t.firestore,ly),n=hy(e),r=new Vy(e);return function(t,e){var n=this,r=new $f;return t.fs.ys(function(){return Object(Za.b)(n,void 0,void 0,function(){var n;return Object(Za.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Za.b)(this,void 0,void 0,function(){var r,i,o,s,u;return Object(Za.d)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Jp(t,e,!0)];case 1:return u=a.sent(),r=new vv(e,u.Pc),i=r.dl(u.documents),o=r.Ei(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=a.sent(),u=od(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})},[4,ry(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new Uy(e,r,t,n)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=lb(t,vb);var e=lb(t.firestore,ly),n=hy(e),r=new Vy(e);return ay(n,t.C_,{source:"server"}).then(function(n){return new Uy(e,r,t,n)})}(this._):function(t){t=lb(t,vb);var e=lb(t.firestore,ly),n=hy(e),r=new Vy(e);return my(t.C_),ay(n,t.C_).then(function(n){return new Uy(e,r,t,n)})}(this._)).then(function(t){return new um(e.firestore,new Uy(e.firestore._,e.Hf,e._,t.ud))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=em(e),i=nm(e,function(e){return new um(t.firestore,new Uy(t.firestore._,t.Hf,t._,e.ud))});return qy(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(bc),sm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Za.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new im(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(bc),um=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Za.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new om(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map(function(e){return new im(t.zf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map(function(t){return new sm(e.zf,t)})},e.prototype.forEach=function(t,e){var n=this;this._.forEach(function(r){t.call(e,new im(n.zf,r))})},e.prototype.isEqual=function(t){return Fy(this._,t._)},e}(bc),am=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(Za.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new Qy(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Qy(this.firestore,void 0===t?mb(this._):mb(this._,t))}catch(t){throw tm(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=lb(t.firestore,ly),r=mb(t),i=Ny(t.v_,e);return zy(n,[Ab(jb(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).O_(r.S_,yh.exists(!1))]).then(function(){return r})}(this._,t).then(function(t){return new Qy(e.firestore,t)})},e.prototype.isEqual=function(t){return wb(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(om);function cm(t){return t instanceof bc&&(t=t._),lb(t,gb)}var lm=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(nb.bind.apply(nb,Object(Za.g)([void 0],e))))||this}return Object(Za.c)(e,t),e.documentId=function(){return new e(Dc.lt().ot())},e.prototype.isEqual=function(t){return t instanceof bc&&(t=t._),t instanceof nb&&this._.d_.isEqual(t.d_)},e}(bc),hm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Za.c)(e,t),e.serverTimestamp=function(){var t=new Rb("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new kb("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Pb("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Db("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Lb("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(bc);!function(){function t(){this.Pd={},this.yd=new $f,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.jl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var fm,dm=n("/6Yf"),pm={Firestore:Wy,GeoPoint:Ob,Timestamp:Ac,Blob:wc,Transaction:Xy,WriteBatch:Zy,DocumentReference:Qy,DocumentSnapshot:rm,Query:om,QueryDocumentSnapshot:im,QuerySnapshot:um,CollectionReference:am,FieldPath:lm,FieldValue:hm,setLogLevel:function(t){Qa.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new dm.a("firestore",function(t){return function(t,e){return new Wy(t,new ly(t,e),new Ky)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},pm)))})(fm=$i.a),fm.registerVersion("@firebase/firestore","2.1.2");var gm=n("VRyK"),vm=n("qgXg"),bm=n("Ylt2");class ym extends Rt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new mm(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Pt.a;if(this.isStopped||this.hasError?o=Pe.a.EMPTY:(this.observers.push(t),o=new bm.a(this,t)),r&&t.add(t=new Bi.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||vm.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class mm{constructor(t,e){this.time=t,this.value=e}}function wm(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,u=!1,a=!1;return function(c){let l;s++,!i||u?(u=!1,i=new ym(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){u=!0,i.error(t)},complete(){a=!0,o=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!a&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function _m(t,e){return e?Qt(()=>t,e):Qt(()=>t)}var Om=n("tf+s");const Em=new r.q("angularfire2.auth.use-emulator"),Sm=new r.q("angularfire2.auth.settings"),Tm=new r.q("angularfire2.auth.tenant-id"),Im=new r.q("angularfire2.auth.langugage-code"),xm=new r.q("angularfire2.auth.use-device-language"),Cm=new r.q("angularfire.auth.persistence");let jm=(()=>{class t{constructor(t,e,r,i,o,s,u,a,c,l){const h=new Gi.e(i),f=Object(Gi.i)(h),d=new Rt.a,p=Object(Nt.a)(void 0).pipe(Object(Bi.b)(h.outsideAngular),Qt(()=>i.runOutsideAngular(()=>n.e(5).then(n.bind(null,"6nsN")))),Object(Xt.a)(()=>Object(Gi.h)(t,i,e)),Object(Xt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(Gi.g)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),u&&(r.tenantId=u),r.languageCode=a,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,u,a,c,n,l])})),wm({bufferSize:1,refCount:!1}));if(Y(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Nt.a)(null);else{p.pipe(Ne()).subscribe();const t=p.pipe(Qt(t=>t.getRedirectResult().then(t=>t,()=>null)),f,wm({bufferSize:1,refCount:!1})),e=t=>new qt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Qt(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Qt(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(_m(n),Object(Om.a)(h.outsideAngular),Object(Bi.b)(h.insideAngular)),this.user=t.pipe(_m(r),Object(Om.a)(h.outsideAngular),Object(Bi.b)(h.insideAngular)),this.idToken=this.user.pipe(Qt(t=>t?Object(kt.a)(t.getIdToken()):Object(Nt.a)(null))),this.idTokenResult=this.user.pipe(Qt(t=>t?Object(kt.a)(t.getIdTokenResult()):Object(Nt.a)(null))),this.credential=Object(gm.a)(t,d,this.authState.pipe(de(t=>!t))).pipe(Object(Xt.a)(t=>(null==t?void 0:t.user)?t:null),Object(Om.a)(h.outsideAngular),Object(Bi.b)(h.insideAngular))}return Object(Gi.j)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Gi.c),r.Jb(Gi.b,8),r.Jb(r.B),r.Jb(r.z),r.Jb(Em,8),r.Jb(Sm,8),r.Jb(Tm,8),r.Jb(Im,8),r.Jb(xm,8),r.Jb(Cm,8))},t.\u0275prov=Object(r.Ab)({factory:function(){return new t(Object(r.Jb)(Gi.c),Object(r.Jb)(Gi.b,8),Object(r.Jb)(r.B),Object(r.Jb)(r.z),Object(r.Jb)(Em,8),Object(r.Jb)(Sm,8),Object(r.Jb)(Tm,8),Object(r.Jb)(Im,8),Object(r.Jb)(xm,8),Object(r.Jb)(Cm,8))},token:t,providedIn:"any"}),t})();function Am(t,e){return function(t,e=Ui.b){return new qt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function km(t,e){return Am(t,e).pipe(Object(Xt.a)(t=>({payload:t,type:"query"})))}function Nm(t,e){return km(t,e).pipe(ce(void 0),Mi(),Object(Xt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Rm(t,e,n){return Nm(t,n).pipe(le((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Pm(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Pm(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Pm(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),Hi(),Object(Xt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Pm(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Dm(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(Gi.f)(jm,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class Lm{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Nm(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Xt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(ce(void 0),Mi(),de(([t,e])=>e.length>0||!t),Object(Xt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(le((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Dm(t);return Rm(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return km(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Xt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(kt.a)(this.query.get(t)).pipe(Object(Bi.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Um(this.ref.doc(t),this.afs)}}class Um{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=zm(n,e);return new Lm(r,i,this.afs)}snapshotChanges(){return Am(this.ref,this.afs.schedulers.outsideAngular).pipe(ce(void 0),Mi(),Object(Xt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Xt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(kt.a)(this.ref.get(t)).pipe(Object(Bi.b)(this.afs.schedulers.insideAngular))}}class Mm{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Nm(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Xt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),de(t=>t.length>0),this.afs.keepUnstableUntilFirst):Nm(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(le((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Dm(t);return Rm(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return km(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Xt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(kt.a)(this.query.get(t)).pipe(Object(Bi.b)(this.afs.schedulers.insideAngular))}}const Fm=new r.q("angularfire2.enableFirestorePersistence"),Vm=new r.q("angularfire2.firestore.persistenceSettings"),Hm=new r.q("angularfire2.firestore.settings"),qm=new r.q("angularfire2.firestore.use-emulator");function zm(t,e=(t=>t)){return{query:e(t),ref:t}}let Bm=(()=>{class t{constructor(t,e,n,r,i,o,s,u,a){this.schedulers=new Gi.e(o),this.keepUnstableUntilFirst=Object(Gi.i)(this.schedulers);const c=Object(Gi.h)(t,o,e);!Ji.a.auth&&a&&Object(Gi.k)();const l=u;[this.firestore,this.persistenceEnabled$]=Object(Gi.g)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!Y(i)){const e=()=>{try{return Object(kt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(fm){return"undefined"!=typeof console&&console.warn(fm),Object(Nt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(Nt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=zm(n,e),o=this.schedulers.ngZone.run(()=>r);return new Lm(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Mm(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Um(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Gi.c),r.Jb(Gi.b,8),r.Jb(Fm,8),r.Jb(Hm,8),r.Jb(r.B),r.Jb(r.z),r.Jb(Vm,8),r.Jb(qm,8),r.Jb(Em,8))},t.\u0275prov=Object(r.Ab)({factory:function(){return new t(Object(r.Jb)(Gi.c),Object(r.Jb)(Gi.b,8),Object(r.Jb)(Fm,8),Object(r.Jb)(Hm,8),Object(r.Jb)(r.B),Object(r.Jb)(r.z),Object(r.Jb)(Vm,8),Object(r.Jb)(qm,8),Object(r.Jb)(Em,8))},token:t,providedIn:"any"}),t})(),Gm=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Fm,useValue:!0},{provide:Vm,useValue:e}]}}}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)},providers:[Bm]}),t})();function Jm(t,e){if(1&t&&(r.Hb(0,"div",4),r.Hb(1,"div",5),r.Fb(2,"img",6),r.Hb(3,"div",7),r.Hb(4,"h5",8),r.Yb(5),r.Gb(),r.Gb(),r.Gb(),r.Gb()),2&t){const t=e.$implicit;r.vb(2),r.Rb("src",t.url,r.Vb),r.vb(3),r.Zb(t.name)}}let $m=(()=>{class t{constructor(t){this.afs=t,this.itemsCollection=t.collection("images"),this.items=this.itemsCollection.valueChanges()}addItem(t){this.itemsCollection.add(t)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(Bm))},t.\u0275cmp=r.yb({type:t,selectors:[["app-photos"]],decls:13,vars:3,consts:[[1,"row"],[1,"col-12"],[1,"row","row-cols-1","row-cols-md-3","g-4","my-5"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","h-100","hvr-grow"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"]],template:function(t,e){1&t&&(r.Hb(0,"div",0),r.Hb(1,"div",1),r.Hb(2,"h4"),r.Yb(3,"Lectura de fotos desde Firebase"),r.Gb(),r.Hb(4,"p"),r.Yb(5,"Mediante este componente se realiza la lectura de im\xe1genes, desde Cloud FireStore (base datos) y desde el Storage (Repositorio para los archivos) y se muestran en la vista en un elementos card de Bootstrap"),r.Gb(),r.Hb(6,"p"),r.Yb(7,"Mi repositorio en GitHub - "),r.Hb(8,"strong"),r.Yb(9,"https://github.com/farney9/photosFirebase"),r.Gb(),r.Gb(),r.Gb(),r.Gb(),r.Hb(10,"div",2),r.Xb(11,Jm,6,2,"div",3),r.Ob(12,"async"),r.Gb()),2&t&&(r.vb(11),r.Rb("ngForOf",r.Pb(12,1,e.items)))},directives:[M],pipes:[J],encapsulation:2}),t})();class Km{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Wm(t,this.dueTime,this.scheduler))}}class Wm extends Mt.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Ym,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Ym(t){t.debouncedNext()}var Xm="firebasestorage.googleapis.com",Zm=function(t){function e(n,r){var i=t.call(this,nw(n),"Firebase Storage: "+r+" ("+nw(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(Za.c)(e,t),e.prototype.codeEquals=function(t){return nw(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(Wi.c),Qm="canceled",tw="invalid-argument",ew="unsupported-environment";function nw(t){return"storage/"+t}function rw(){return new Zm("unknown","An unknown error occurred, please check the error payload for server response.")}function iw(){return new Zm(Qm,"User canceled the upload/download.")}function ow(){return new Zm("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function sw(t){return new Zm(tw,t)}function uw(){return new Zm("app-deleted","The Firebase app was deleted.")}function aw(t){return new Zm("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cw(t,e){return new Zm("invalid-format","String does not match format '"+t+"': "+e)}function lw(t){throw new Zm("internal-error","Internal error: "+t)}var hw={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},fw=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function dw(t,e){switch(t){case hw.RAW:return new fw(pw(e));case hw.BASE64:case hw.BASE64URL:return new fw(gw(t,e));case hw.DATA_URL:return new fw((n=new vw(e)).base64?gw(hw.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(fm){throw cw(hw.DATA_URL,"Malformed data URL.")}return pw(e)}(n.rest),new vw(e).contentType)}var n;throw rw()}function pw(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function gw(t,e){switch(t){case hw.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw cw(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case hw.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw cw(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(fm){throw cw(t,"Invalid character found")}for(var u=new Uint8Array(s.length),a=0;a<s.length;a++)u[a]=s.charCodeAt(a);return u}var vw=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw cw(hw.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),bw="running",yw="pausing",mw="paused",ww="success",_w="canceling",Ow="canceled",Ew="error",Sw={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Tw(t){switch(t){case bw:case yw:case _w:return Sw.RUNNING;case mw:return Sw.PAUSED;case ww:return Sw.SUCCESS;case Ow:return Sw.CANCELED;case Ew:default:return Sw.ERROR}}var Iw=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),xw=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Iw.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=Iw.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=Iw.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw lw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw lw("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw lw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(fm){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw lw("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),Cw=function(){function t(){}return t.prototype.createXhrIo=function(){return new xw},t}();function jw(t){return"string"==typeof t||t instanceof String}function Aw(t){return kw()&&t instanceof Blob}function kw(){return"undefined"!=typeof Blob}function Nw(t,e,n,r){if(r<e)throw new Zm(tw,"Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new Zm(tw,"Invalid value for '"+t+"'. Expected "+n+" or less.")}function Rw(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Pw(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Rw();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(kw())return new Blob(t);throw new Zm(ew,"This browser doesn't seem to support creating Blobs")}var Dw=function(){function t(t,e){var n=0,r="";Aw(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Aw(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(kw()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(Pw.apply(null,r))}var i=e.map(function(t){return jw(t)?dw(hw.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var s=new Uint8Array(o),u=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)s[u++]=t[e]}),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),Lw=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(fm){return new t(e,"")}if(""===n.path)return n;throw new Zm("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var s=Xm.replace(/[.]/g,"\\."),u=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],a=0;a<u.length;a++){var c=u[a],l=c.regex.exec(e);if(l){var h=l[c.indices.path];h||(h=""),n=new t(l[c.indices.bucket],h),c.postModify(n);break}}if(null==n)throw function(t){return new Zm("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function Uw(t){var e,n;try{e=JSON.parse(t)}catch(fm){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function Mw(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Fw(t){return"https://"+Xm+"/v0"+t}function Vw(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function Hw(t,e){return e}var qw=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Hw}}(),zw=null;function Bw(){if(zw)return zw;var t=[];t.push(new qw("bucket")),t.push(new qw("generation")),t.push(new qw("metageneration")),t.push(new qw("name","fullPath",!0));var e=new qw("name");e.xform=function(t,e){return function(t){return!jw(t)||t.length<2?t:Mw(t)}(e)},t.push(e);var n=new qw("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new qw("timeCreated")),t.push(new qw("updated")),t.push(new qw("md5Hash",null,!0)),t.push(new qw("cacheControl",null,!0)),t.push(new qw("contentDisposition",null,!0)),t.push(new qw("contentEncoding",null,!0)),t.push(new qw("contentLanguage",null,!0)),t.push(new qw("contentType",null,!0)),t.push(new qw("metadata","customMetadata",!0)),zw=t}function Gw(t,e,n){var r=Uw(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new Lw(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function Jw(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var $w=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function Kw(t){if(!t)throw rw()}function Ww(t,e){return function(n,r){var i=Gw(t,r,e);return Kw(null!==i),i}}function Yw(t){return function(e,n){var r;return(r=401===e.getStatus()?new Zm("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new Zm("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new Zm("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function Xw(t){var e=Yw(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new Zm("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Zw(t,e,n){var r=Fw(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new $w(r,"GET",Ww(t,n),i);return o.errorHandler=Xw(e),o}function Qw(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var t_=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function e_(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(fm){Kw(!1)}return Kw(!!n&&-1!==(e||["active"]).indexOf(n)),n}var n_=262144,r_=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}(),i_=function(){return function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}}();function o_(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var s_=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=Bw(),this._resumable=this._shouldDoResumable(this._blob),this._state=bw,this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t.codeEquals(Qm)?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition(Ew))},this._metadataErrorHandler=function(t){r._request=void 0,t.codeEquals(Qm)?r.completeTransitions_():(r._error=t,r._transition(Ew))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){this._state===bw&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then(function(n){switch(e._state){case bw:t(n);break;case _w:e._transition(Ow);break;case yw:e._transition(mw)}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=Qw(e,r,i),u={name:s.fullPath},a=Fw(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=Jw(s,n),h=new $w(a,"POST",function(t){var e;e_(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(fm){Kw(!1)}return Kw(jw(e)),e},t.maxUploadRetryTime);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=Yw(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var r=function(t,e,n,r){var i=new $w(n,"POST",function(t){var e=e_(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(fm){Kw(!1)}n||Kw(!1);var i=Number(n);return Kw(!isNaN(i)),new t_(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=Yw(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=n_*this._chunkMultiplier,n=new t_(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i){var o;try{o=function(t,e,n,r,i,o,s,u){var a=new t_(0,0);if(s?(a.current=s.current,a.total=s.total):(a.current=0,a.total=r.size()),r.size()!==a.total)throw new Zm("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=a.total-a.current,l=c;i>0&&(l=Math.min(l,i));var h=a.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":a.current},d=r.slice(h,h+l);if(null===d)throw ow();var p=new $w(n,"POST",function(t,n){var i,s=e_(t,["active","final"]),u=a.current+l,c=r.size();return i="final"===s?Ww(e,o)(t,n):null,new t_(u,c,"final"===s,i)},e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=u||null,p.errorHandler=Yw(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(fm){return t._error=fm,void t._transition(Ew)}var s=t._ref.storage.makeRequest(o,i);t._request=s,s.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition(ww)):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){n_*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=Zw(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition(ww)},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},u=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+u;var a=Qw(e,r,i),c=Jw(a,n),l=Dw.getBlob("--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+u+"\r\nContent-Type: "+a.contentType+"\r\n\r\n",r,"\r\n--"+u+"--");if(null===l)throw ow();var h={name:a.fullPath},f=Fw(o),d=t.maxUploadRetryTime,p=new $w(f,"POST",Ww(t,n),d);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=Yw(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition(ww)},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case _w:case yw:this._state=t,void 0!==this._request&&this._request.cancel();break;case bw:var e=this._state===mw;this._state=t,e&&(this._notifyObservers(),this._start());break;case mw:this._state=t,this._notifyObservers();break;case Ow:this._error=iw(),this._state=t,this._notifyObservers();break;case Ew:case ww:this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case yw:this._transition(mw);break;case _w:this._transition(Ow);break;case bw:this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=Tw(this._state);return new i_(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new r_(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(Tw(this._state)){case Sw.SUCCESS:o_(this._resolve.bind(null,this.snapshot))();break;case Sw.CANCELED:case Sw.ERROR:o_(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(Tw(this._state)){case Sw.RUNNING:case Sw.PAUSED:t.next&&o_(t.next.bind(t,this.snapshot))();break;case Sw.SUCCESS:t.complete&&o_(t.complete.bind(t))();break;case Sw.CANCELED:case Sw.ERROR:t.error&&o_(t.error.bind(t,this._error))();break;default:t.error&&o_(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t=this._state===mw||this._state===yw;return t&&this._transition(bw),t},t.prototype.pause=function(){var t=this._state===bw;return t&&this._transition(yw),t},t.prototype.cancel=function(){var t=this._state===bw||this._state===yw;return t&&this._transition(_w),t},t}(),u_=function(){function t(t,e){this._service=t,this._location=e instanceof Lw?e:Lw.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new Lw(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Mw(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new Lw(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw aw(t)},t}();function a_(t){var e={prefixes:[],items:[]};return c_(t,e).then(function(){return e})}function c_(t,e,n){return Object(Za.b)(this,void 0,void 0,function(){var r,i,o;return Object(Za.d)(this,function(s){switch(s.label){case 0:return[4,l_(t,{pageToken:n})];case 1:return r=s.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,c_(t,e,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function l_(t,e){return Object(Za.b)(this,void 0,void 0,function(){var n,r,i;return Object(Za.d)(this,function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&Nw("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=o.sent(),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=Fw(e.bucketOnlyServerUrl()),u=t.maxOperationRetryTime,a=new $w(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=Uw(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),u=t.makeStorageReference(new Lw(e,s));r.prefixes.push(u)}if(n.items)for(var a=0,c=n.items;a<c.length;a++)u=t.makeStorageReference(new Lw(e,c[a].name)),r.items.push(u);return r}(t,e,r)}(t,e,r);return Kw(null!==i),i}}(t,e.bucket),u);return a.urlParams=o,a.errorHandler=Yw(e),a}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage.makeRequest(i,n).getPromise()]}})})}function h_(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Lw(t._location.bucket,n);return new u_(t.storage,r)}var f_=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),d_=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new f_(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new f_(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new f_(t,i,i._ref))}:{next:e.next?function(t){return e.next(new f_(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),p_=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new g_(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new g_(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),g_=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(h_(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new d_(function(t,e,n){return void 0===n&&(n=null),t._throwIfRoot("uploadBytesResumable"),new s_(t,new Dw(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){return void 0===e&&(e=hw.RAW),this._throwIfRoot("putString"),new d_(function(t,e,n,r){void 0===n&&(n=hw.RAW),t._throwIfRoot("putString");var i=dw(n,e),o=Object(Za.a)({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new s_(t,new Dw(i.data,!0),o)}(this._delegate,t,e,n),this)},t.prototype.listAll=function(){var t=this;return a_(this._delegate).then(function(e){return new p_(e,t.storage)})},t.prototype.list=function(t){var e=this;return l_(this._delegate,t).then(function(t){return new p_(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return Object(Za.b)(this,void 0,void 0,function(){var e,n;return Object(Za.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=Zw(t.storage,t._location,Bw()),[2,t.storage.makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return Object(Za.b)(this,void 0,void 0,function(){var n,r;return Object(Za.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=Fw(e.fullServerUrl()),o=Jw(n,r),s=t.maxOperationRetryTime,u=new $w(i,"PATCH",Ww(t,r),s);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=o,u.errorHandler=Xw(e),u}(t.storage,t._location,e,Bw()),[2,t.storage.makeRequest(r,n).getPromise()]}})})}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(Za.b)(this,void 0,void 0,function(){var e,n;return Object(Za.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=Fw(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new $w(r,"GET",function(t,e){return function(n,r){var i=Gw(t,r,e);return Kw(null!==i),function(t,e){var n=Uw(e);if(null===n)return null;if(!jw(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(e){var n=t.fullPath;return Fw("/b/"+i(t.bucket)+"/o/"+i(n))+Vw({alt:"media",token:e})})[0]}(i,r)}}(t,n),i);return o.errorHandler=Xw(e),o}(t.storage,t._location,Bw()),[2,t.storage.makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new Zm("no-download-url","The given file does not have any download URLs.");return t})]}})})}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(Za.b)(this,void 0,void 0,function(){var e,n;return Object(Za.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=Fw(e.fullServerUrl()),r=new $w(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=Xw(e),r}(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw aw(t)},t}(),v_=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),b_=function(){function t(t,e,n,r,i,o,s,u,a,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=u,this.progressCallback_=c,this.timeout_=a,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var u=t.callback_(s,s.getResponseText());void 0!==u?i(u):i()}catch(fm){o(fm)}else null!==s?((r=rw()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?uw():iw():new Zm("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new y_(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,u=0;function a(){return 2===u}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new y_(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===Iw.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new y_(s,n))}else{var u=n.getErrorCode()===Iw.ABORT;e(!1,new y_(!1,null,u))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,a())},e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(Za.g)([null,t],e));else{var r;a()||s?l.call.apply(l,Object(Za.g)([null,t],e)):(i<64&&(i*=2),1===u?(u=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(u=2),clearTimeout(o),h(0)):t||(u=1)))}return h(0),setTimeout(function(){s=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),y_=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function m_(t){return/^[A-Za-z]+:\/\//.test(t)}function w_(t,e){if(t instanceof S_){var n=t;if(null==n._bucket)throw new Zm("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new u_(n,n._bucket);return null!=e?w_(r,e):r}if(void 0!==e){if(e.includes(".."))throw sw('`path` param cannot contain ".."');return h_(t,e)}return t}function __(t,e){if(e&&m_(e)){if(t instanceof S_)return new u_(t,e);throw sw("To use ref(service, url), the first argument must be a Storage instance.")}return w_(t,e)}var O_,E_,S_=function(){function t(t,e,n,r){var i,o;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Lw.makeFromBucketSpec(r):null==(o=null==(i=this.app.options)?void 0:i.storageBucket)?null:Lw.makeFromBucketSpec(o)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Nw("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Nw("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return Object(Za.b)(this,void 0,void 0,function(){var t,e;return Object(Za.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(t){return new u_(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new v_(uw());var r=function(t,e,n,r){var i=Vw(t.urlParams),o=t.url+i,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==$i.a?$i.a.SDK_VERSION:"AppManager")}(s),new b_(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool);return this._requests.add(r),r.getPromise().then(function(){return n._requests.delete(r)},function(){return n._requests.delete(r)}),r},t}(),T_=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(m_(t))throw sw("ref() expected a child path but got a URL, use refFromURL instead.");return new g_(__(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!m_(t))throw sw("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Lw.makeFromUrl(t)}catch(fm){throw sw("refFromUrl() expected a valid full URL but got an invalid one.")}return new g_(__(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function I_(t){const e=function(t){return new qt.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(function(t,e=Ui.a){return n=>n.lift(new Km(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(Xt.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function x_(t,e,n){return{getDownloadURL:()=>Object(Nt.a)(void 0).pipe(Object(Bi.b)(e.outsideAngular),Qt(()=>t.getDownloadURL()),n),getMetadata:()=>Object(Nt.a)(void 0).pipe(Object(Bi.b)(e.outsideAngular),Qt(()=>t.getMetadata()),n),delete:()=>Object(kt.a)(t.delete()),child:r=>x_(t.child(r),e,n),updateMetadata:e=>Object(kt.a)(t.updateMetadata(e)),put:(e,n)=>I_(t.put(e,n)),putString:(e,n,r)=>I_(t.putString(e,n,r)),listAll:()=>Object(kt.a)(t.listAll())}}E_={TaskState:Sw,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:hw,Storage:S_,Reference:g_},(O_=$i.a).INTERNAL.registerComponent(new dm.a("storage",function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new T_(n,new S_(n,r,new Cw,e))},"PUBLIC").setServiceProps(E_).setMultipleInstances(!0)),O_.registerVersion("@firebase/storage","0.4.2");const C_=new r.q("angularfire2.storageBucket"),j_=new r.q("angularfire2.storage.maxUploadRetryTime"),A_=new r.q("angularfire2.storage.maxOperationRetryTime");let k_=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new Gi.e(i),this.keepUnstableUntilFirst=Object(Gi.i)(this.schedulers);const u=Object(Gi.h)(t,i,e);this.storage=Object(Gi.g)(`${u.name}.storage.${n}`,"AngularFireStorage",u,()=>{const t=i.runOutsideAngular(()=>u.storage(n||void 0));return o&&t.setMaxUploadRetryTime(o),s&&t.setMaxOperationRetryTime(s),t},[o,s])}ref(t){return x_(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return x_(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return x_(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Gi.c),r.Jb(Gi.b,8),r.Jb(C_,8),r.Jb(r.B),r.Jb(r.z),r.Jb(j_,8),r.Jb(A_,8))},t.\u0275prov=Object(r.Ab)({factory:function(){return new t(Object(r.Jb)(Gi.c),Object(r.Jb)(Gi.b,8),Object(r.Jb)(C_,8),Object(r.Jb)(r.B),Object(r.Jb)(r.z),Object(r.Jb)(j_,8),Object(r.Jb)(A_,8))},token:t,providedIn:"any"}),t})(),N_=(()=>{class t{constructor(t,e){this.db=t,this.storage=e,this.IMAGE_FOLDER="images"}uploadImagesToFirebaseService(t){for(const e of t){if(e.isLoading=!0,e.progress>=100)continue;const t=e.archivo,n=`${this.IMAGE_FOLDER}/${e.nombreArchivo}`,r=this.storage.ref(n),i=this.storage.upload(n,t);i.percentageChanges().subscribe(t=>e.progress=t),i.snapshotChanges().pipe(De(()=>r.getDownloadURL().subscribe(t=>{console.log("Imagen cargada con exito"),e.url=t,e.isLoading=!1,this.saveImages({name:e.nombreArchivo,url:e.url})}))).subscribe()}}saveImages(t){this.db.collection("/"+this.IMAGE_FOLDER).add(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Bm),r.Jb(k_))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class R_{constructor(t){this.archivo=t,this.nombreArchivo=this.archivo.name,this.isLoading=!1,this.progress=25}}let P_=(()=>{class t{constructor(){this.files=[],this.mouseOver=new r.n}onDrag(t){this.mouseOver.emit(!0),this._preventStop(t)}onDragLeave(t){this.mouseOver.emit(!1)}onDrop(t){const e=this._getTransfer(t);e&&(this._extractFiles(e.files),this._preventStop(t),this.mouseOver.emit(!1))}_getTransfer(t){return t.dataTransfer?t.dataTransfer:t.originalEvent.dataTransfer}_extractFiles(t){for(const e in Object.getOwnPropertyNames(t)){const n=t[e];if(this._fileCanBeUploaded(n)){const t=new R_(n);this.files.push(t)}}}_fileCanBeUploaded(t){return!(this._fileWasDropped(t.name)||!this.isAnImage(t.type))}_preventStop(t){t.preventDefault(),t.stopPropagation()}_fileWasDropped(t){for(const e of this.files)if(e.nombreArchivo===t)return console.log(`El Archivo ${e.nombreArchivo} ya  est\xe1 agregado`),!0;return!1}isAnImage(t){return""!==t&&void 0!==t&&t.startsWith("image")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.zb({type:t,selectors:[["","appNgDropFiles",""]],hostBindings:function(t,e){1&t&&r.Mb("dragover",function(t){return e.onDrag(t)})("dragleave",function(t){return e.onDragLeave(t)})("drop",function(t){return e.onDrop(t)})},inputs:{files:"files"},outputs:{mouseOver:"mouseOver"}}),t})();const D_=function(t){return{"text-green":t}},L_=function(t){return{"bg-success":t}},U_=function(t){return{width:t}};function M_(t,e){if(1&t&&(r.Hb(0,"tr"),r.Hb(1,"td",17),r.Yb(2),r.Gb(),r.Hb(3,"td"),r.Yb(4),r.Ob(5,"number"),r.Gb(),r.Hb(6,"td"),r.Hb(7,"div",18),r.Hb(8,"div",19),r.Yb(9),r.Gb(),r.Gb(),r.Gb(),r.Gb()),2&t){const t=e.$implicit;r.vb(1),r.Rb("ngClass",r.Tb(9,D_,t.progress>=100)),r.vb(1),r.ac(" ",t.nombreArchivo," "),r.vb(2),r.ac("",r.Qb(5,6,t.archivo.size/1024/1024,".2-2")," MB"),r.vb(4),r.Rb("ngClass",r.Tb(11,L_,t.progress>=100))("ngStyle",r.Tb(13,U_,t.progress+"%")),r.vb(1),r.ac("",t.progress,"% ")}}const F_=function(t){return{"file-hover":t}},V_=[{path:"photos",component:$m},{path:"load",component:(()=>{class t{constructor(t){this._uploadImages=t,this.files=[]}ngOnInit(){}uploadImages(){this._uploadImages.uploadImagesToFirebaseService(this.files)}clearFiles(){this.files=[]}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(N_))},t.\u0275cmp=r.yb({type:t,selectors:[["app-load"]],decls:36,vars:6,consts:[[1,"row","my-5"],[1,"col-md-4"],["appNgDropFiles","",1,"well","drop-zone","file-hover",3,"files","ngClass","mouseOver"],["src","assets/drop-images.png","alt",""],[1,"col-md-8"],[1,"my-3"],[1,"btn","btn-outline-success","rounded-pill",3,"disabled","click"],[1,"fas","fa-cloud-upload-alt"],[1,"btn","btn-outline-danger","rounded-pill",3,"click"],[1,"fas","fa-trash-alt"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],[1,"table-dark"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-12"],[3,"ngClass"],[1,"progress",2,"height","20px"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngClass","ngStyle"]],template:function(t,e){1&t&&(r.Hb(0,"div",0),r.Hb(1,"div",1),r.Hb(2,"h3"),r.Yb(3,"Seleccione archivos"),r.Gb(),r.Hb(4,"div",2),r.Mb("mouseOver",function(t){return e.isHoverDropZone=t}),r.Hb(5,"h4"),r.Yb(6,"Arrastra los archivos aqu\xed para subirlos"),r.Gb(),r.Fb(7,"img",3),r.Gb(),r.Gb(),r.Hb(8,"div",4),r.Hb(9,"div",5),r.Hb(10,"h4"),r.Yb(11,"Cargar archivos"),r.Gb(),r.Hb(12,"button",6),r.Mb("click",function(){return e.uploadImages()}),r.Fb(13,"i",7),r.Yb(14," Cargar a firebase "),r.Gb(),r.Hb(15,"button",8),r.Mb("click",function(){return e.clearFiles()}),r.Fb(16,"i",9),r.Yb(17," limpiar"),r.Gb(),r.Gb(),r.Hb(18,"div",10),r.Hb(19,"table",11),r.Hb(20,"thead",12),r.Hb(21,"tr"),r.Hb(22,"th",13),r.Yb(23,"Nombre de archivo"),r.Gb(),r.Hb(24,"th",13),r.Yb(25,"Tama\xf1o"),r.Gb(),r.Hb(26,"th",13),r.Yb(27,"Progreso"),r.Gb(),r.Gb(),r.Gb(),r.Hb(28,"tbody"),r.Xb(29,M_,10,15,"tr",14),r.Gb(),r.Gb(),r.Gb(),r.Gb(),r.Gb(),r.Hb(30,"div",15),r.Hb(31,"div",16),r.Hb(32,"h4"),r.Yb(33,"Carga de fotos a Firebase"),r.Gb(),r.Hb(34,"p"),r.Yb(35,"Mediante este componente se realiza la carga de im\xe1genes, al Cloud FireStore (base datos) y al Storage (Repositorio para los archivos)"),r.Gb(),r.Gb(),r.Gb()),2&t&&(r.vb(4),r.Rb("files",e.files)("ngClass",r.Tb(4,F_,e.isHoverDropZone)),r.vb(8),r.Rb("disabled",0===e.files.length),r.vb(17),r.Rb("ngForOf",e.files))},directives:[P_,L,M,V],pipes:[$],encapsulation:2}),t})()},{path:"**",pathMatch:"full",redirectTo:"photos"}];let H_=(()=>{class t{}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)},imports:[[Ci.forRoot(V_)],Ci]}),t})();function q_(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{a(r.next(t))}catch(fm){o(fm)}}function u(t){try{a(r.throw(t))}catch(fm){o(fm)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,u)}a((r=r.apply(t,e||[])).next())})}class z_{constructor(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}call(t,e){return e.subscribe(new B_(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class B_ extends Mt.a{constructor(t,e,n,r,i){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(o){this.error(o)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new Rt.a,n.set(e,i);const t=new J_(e,i,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new J_(e,i))}catch(o){return void this.error(o)}this.add(t.subscribe(new G_(e,i,this)))}}i.closed||i.next(r)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class G_ extends Mt.a{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class J_ extends qt.a{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new Pe.a,{refCountSubscription:n,groupSubject:r}=this;return n&&!n.closed&&e.add(new $_(n)),e.add(r.subscribe(t)),e}}class $_ extends Pe.a{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}const K_=new r.q("angularfire2.analytics.analyticsCollectionEnabled"),W_=new r.q("angularfire2.analytics.appVersion"),Y_=new r.q("angularfire2.analytics.appName"),X_=new r.q("angularfire2.analytics.debugMode"),Z_=new r.q("angularfire2.analytics.config");let Q_=(()=>{class t{constructor(t,e,r,i,o,s,u,a){if(this.analyticsInitialized=new Promise(()=>{}),W(u)){window.dataLayer=window.dataLayer||[];const t=(...t)=>"config"===t[0]&&"firebase"===t[2].origin&&(this.measurementId=t[1],!0),e=t=>{window.gtag=(...e)=>{t&&t(...e),"event"===e[0]&&e[2].send_to===this.measurementId&&(i&&(e[2].app_name=i),r&&(e[2].app_version=r)),o&&"undefined"!=typeof console&&console.info(...e),function(...t){window.dataLayer.push(arguments)}(...e)}};window.dataLayer.some(t)?(this.analyticsInitialized=Promise.resolve(),e()):this.analyticsInitialized=new Promise(n=>{e((...e)=>{t(...e)&&n()})}),s&&this.updateConfig(s),o&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const c=Object(Nt.a)(void 0).pipe(Object(Bi.b)(new Gi.e(a).outsideAngular),Qt(()=>W(u)?a.runOutsideAngular(()=>n.e(4).then(n.bind(null,"AAub"))):Wt.a),Object(Xt.a)(()=>Object(Gi.g)("analytics","AngularFireAnalytics",t,()=>{const n=t.analytics();return!1===e&&n.setAnalyticsCollectionEnabled(!1),n},[t,e,s,o])),wm({bufferSize:1,refCount:!1}));return Object(Gi.j)(this,c,a)}updateConfig(t){return q_(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Gi.d),r.Jb(K_,8),r.Jb(W_,8),r.Jb(Y_,8),r.Jb(X_,8),r.Jb(Z_,8),r.Jb(r.B),r.Jb(r.z))},t.\u0275prov=Object(r.Ab)({factory:function(){return new t(Object(r.Jb)(Gi.d),Object(r.Jb)(K_,8),Object(r.Jb)(W_,8),Object(r.Jb)(Y_,8),Object(r.Jb)(X_,8),Object(r.Jb)(Z_,8),Object(r.Jb)(r.B),Object(r.Jb)(r.z))},token:t,providedIn:"any"}),t})();Object(Gi.f)(Q_,[{app:null,logEvent:null,setCurrentScreen:null,setUserId:null,setUserProperties:null,setAnalyticsCollectionEnabled:null}]);let tO=(()=>{class t{constructor(t,e,n,r){if(this.disposables=[],Y(e))this.initialized=Promise.resolve();else{let e;this.initialized=r.runOutsideAngular(()=>new Promise(t=>e=t)),this.disposables=[n.authState.subscribe(n=>{t.setUserId(null==n?void 0:n.uid),e()}),n.credential.subscribe(e=>{if(e){const n=e.user.isAnonymous?"anonymous":e.additionalUserInfo.providerId;e.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:n}),t.logEvent("login",{method:n})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Q_),r.Jb(r.B),r.Jb(jm),r.Jb(r.z))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();const eO="screen_class";let nO=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const rO={},iO=t=>{const e=[t.screen_class,t.outlet].join("#");if(rO.hasOwnProperty(e))return rO[e];{const t=nO++;return rO[e]=t,t}};let oO=(()=>{class t{constructor(t,e,n,r,i,o,s){if(!e||!W(i))return this;o.runOutsideAngular(()=>{const i=e.events.pipe(de(t=>t instanceof Qe));var o;this.disposable=i.pipe(Qt(t=>{var i;const o=(null===(i=e.parseUrl(e.url.replace(/(?:\().+(?:\))/g,t=>t.replace("://",":///"))).root.children[t.snapshot.outlet])||void 0===i?void 0:i.toString())||"",s=e.routerState.root.children.map(t=>t).find(e=>e.outlet===t.snapshot.outlet);if(!s)return Object(Nt.a)(null);let u=s;for(;u.firstChild;)u=u.firstChild;const a=u.pathFromRoot.map(t=>{var e;return null===(e=t.routeConfig)||void 0===e?void 0:e.path}).filter(t=>t).join("/")||"/",c={screen_name:a,page_path:"/"+o,firebase_event_origin:"auto",firebase_screen:a,outlet:t.snapshot.outlet};n&&(c.page_title=n.getTitle());let l=s.component;if(l){if(l===mr){let e=t.snapshot;for(;e.firstChild;)e=e.firstChild;l=e.component}}else l=t.snapshot.component;if("string"==typeof l)return Object(Nt.a)(Object.assign(Object.assign({},c),{[eO]:l}));if(l){const t=r.resolveComponentFactory(l);return Object(Nt.a)(Object.assign(Object.assign({},c),{[eO]:t.selector}))}return Object(Nt.a)(null)}),de(t=>t),Object(Xt.a)(t=>Object.assign({firebase_screen_class:t.screen_class,firebase_screen_id:iO(t)},t)),(o=t=>t.outlet,t=>t.lift(new z_(o,void 0,void 0,void 0))),Object(me.a)(e=>e.pipe(Hi((t,e)=>JSON.stringify(t)===JSON.stringify(e)),ce(void 0),Mi(),Object(Xt.a)(([t,e])=>t?Object.assign({firebase_previous_class:t.screen_class,firebase_previous_screen:t.screen_name,firebase_previous_id:t.firebase_screen_id},e):e),Qt(e=>q_(this,void 0,void 0,function*(){return s&&(yield s.initialized),yield t.logEvent("screen_view",e)}))))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Q_),r.Jb(di,8),r.Jb(At,8),r.Jb(r.j),r.Jb(r.B),r.Jb(r.z),r.Jb(tO,8))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),sO=(()=>{class t{constructor(t,e,n){t.app.then(()=>{})}}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)(r.Jb(Q_),r.Jb(oO,8),r.Jb(tO,8))},providers:[Q_]}),t})();const uO=function(){return["/photos"]},aO=function(){return["/load"]};let cO=(()=>{class t{constructor(){this.title="photosFirebase"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.yb({type:t,selectors:[["app-root"]],decls:16,vars:4,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLinkActive","router-link-active",1,"nav-link","active",3,"routerLink"],["routerLinkActive","router-link-active",1,"nav-link",3,"routerLink"],[1,"container","my-5"]],template:function(t,e){1&t&&(r.Hb(0,"nav",0),r.Hb(1,"div",1),r.Hb(2,"a",2),r.Yb(3,"Photos firebase"),r.Gb(),r.Hb(4,"button",3),r.Fb(5,"span",4),r.Gb(),r.Hb(6,"div",5),r.Hb(7,"ul",6),r.Hb(8,"li",7),r.Hb(9,"a",8),r.Yb(10,"Photos"),r.Gb(),r.Gb(),r.Hb(11,"li",7),r.Hb(12,"a",9),r.Yb(13,"Load photos"),r.Gb(),r.Gb(),r.Gb(),r.Gb(),r.Gb(),r.Gb(),r.Hb(14,"div",10),r.Fb(15,"router-outlet"),r.Gb()),2&t&&(r.vb(9),r.Rb("routerLink",r.Sb(2,uO)),r.vb(3),r.Rb("routerLink",r.Sb(3,aO)))},directives:[gi,bi,yi],styles:[""]}),t})(),lO=(()=>{class t{}return t.\u0275mod=r.Cb({type:t,bootstrap:[cO]}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)},providers:[N_],imports:[[Ct,H_,Gi.a.initializeApp(i),Gm,sO]]}),t})();Object(r.S)(),It().bootstrapModule(lO).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return a});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class u extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function a(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);